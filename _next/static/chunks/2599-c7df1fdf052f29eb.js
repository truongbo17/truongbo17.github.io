(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2599],{1469:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(44478),a=n(14232),i=n(66125),o=n(80878),s=n(86961),c=n(37436),l=n(37876);let d=function(){var e=(0,i.hG)(),t=e.connectors.create,n=e.actions,d=e.query,u=(0,a.useRef)(0),p=(0,a.useRef)(0),x=(0,a.useRef)(0),h=function(e){var t=document.getElementById("root-page-container"),i=document.getElementById("main-scroll-container");if(t&&i){var o=i.scrollTop,s=t.getBoundingClientRect().width,c=d.node("ROOT").get().data.nodes||[],l=0;c.length>0&&(l=Math.max.apply(Math,(0,r.A)(c.map(function(e){return d.node(e).get().data.props.zIndex||0}))));var u=d.createNode(a.createElement(e,{top:Math.round(o+window.innerHeight/2-150),left:10,width:s-20,zIndex:0==l?0:l+1}));n.add(u,"ROOT"),n.selectNode(u.id)}};return(0,l.jsx)("div",{ref:function(e){e&&t(e,(0,l.jsx)(c.f,{}),{onCreate:function(e){var t=d.node("ROOT").get().data.nodes||[],a=0;t.length>0&&(a=Math.max.apply(Math,(0,r.A)(t.map(function(e){return d.node(e).get().data.props.zIndex||0}))));var i=Object.keys(e.nodes)[0];n.setProp(i,function(e){e.top=u.current||0,e.left=10,e.width=x.current-20||0,e.zIndex=0==a?0:a+1}),n.selectNode(e.nodes[i].id)}})},children:(0,l.jsx)(o.A,{title:"Th\xeam văn bản",placement:"right",styles:{root:{fontSize:"12px"}},children:(0,l.jsxs)("div",{className:"flex items-center flex-col justify-center gap-1",draggable:!0,onClick:function(){return h(c.f)},onDrag:function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width));u.current=Math.round(Math.min(Math.max(a,0),n.height)),p.current=i,x.current=n.width}},children:[(0,l.jsx)(s.Cb8,{size:20}),(0,l.jsx)("span",{className:"text-xs",children:"Văn bản"})]})})})}},2029:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r=(0,n(8106).v)(function(e,t){return{guestData:null,guestId:null,error:null,setGuestData:function(t){return e({guestData:t,error:null})},setGuestId:function(t){return e({guestId:t})},setError:function(t){return e({error:t})},clearGuestData:function(){return e({guestData:null,guestId:null,error:null})},getGuestName:function(){var e,n=t().guestData;return null!=n&&n.success&&null!=n&&null!=(e=n.data)&&e.guest?n.data.guest.guestName:""},getGreeting:function(){var e,n=t().guestData;return null!=n&&n.success&&null!=n&&null!=(e=n.data)&&e.guest&&n.data.guest.greeting||"Th\xe2n mời"},getFullGreeting:function(){var e,n=t().guestData;if(!(null!=n&&n.success)||!(null!=n&&null!=(e=n.data)&&e.guest))return"";var r=n.data.guest,a=r.greeting||"Th\xe2n mời";return"".concat(a," ").concat(r.guestName)}}})},3194:(e,t,n)=>{"use strict";n.d(t,{t:()=>x});var r=n(44478),a=n(27002),i=n.n(a);n(14232);var o=n(40251),s=n(80645),c=n(83240),l=n(67600),d=n(66125),u=n(47139),p=n(37876),x=function(){var e=(0,d.oB)(function(e){return{propValue:{fontWeight:e.data.props.fontWeight,fontStyle:e.data.props.fontStyle,textDecoration:e.data.props.textDecoration,textTransform:e.data.props.textTransform,letterSpacing:e.data.props.letterSpacing||0,lineHeight:e.data.props.lineHeight||1}}}),t=e.actions.setProp,n=e.propValue,a=function(e,n){t(function(t){if("fontWeight"===e&&(t.fontWeight=t.fontWeight===n?"normal":n),"fontStyle"===e&&(t.fontStyle=t.fontStyle===n?"normal":n),"textDecoration"===e){var a=t.textDecoration?t.textDecoration.split(" "):[];a.includes(n)?(t.textDecoration=a.filter(function(e){return e!==n}).join(" "),""===t.textDecoration&&(t.textDecoration="none")):a.includes("none")?t.textDecoration=a.filter(function(e){return"none"!==e}).concat(n).join(" "):t.textDecoration=[].concat((0,r.A)(a),[n]).join(" ")}"textTransform"===e&&(t.textTransform="uppercase"===t.textTransform?"none":"uppercase")})},x=function(e){var t;return null==(t=n.textDecoration)?void 0:t.split(" ").includes(e)},h=function(e){t(function(t){t.letterSpacing=e},500)},m=function(e){t(function(t){t.lineHeight=e},500)},f=(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,p.jsx)("label",{className:"text-sm font-medium mb-1",children:"Gi\xe3n c\xe1ch chữ"}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(o.A,{min:0,max:100,step:1,style:{flex:1},value:n.letterSpacing,onChange:h}),(0,p.jsx)(s.A,{min:0,max:100,step:1,value:n.letterSpacing,onChange:h,style:{marginLeft:"10px",width:"70px"}})]})]}),(0,p.jsxs)("div",{className:"flex flex-col",children:[(0,p.jsx)("label",{className:"text-sm font-medium mb-1",children:"Khoảng c\xe1ch d\xf2ng"}),(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)(o.A,{min:.5,max:2.5,step:.01,style:{flex:1},value:"normal"===n.lineHeight?1.2:n.lineHeight,onChange:m}),(0,p.jsx)(s.A,{min:.5,max:2.5,step:.01,value:"normal"===n.lineHeight?1.2:n.lineHeight,onChange:m,style:{marginLeft:"10px",width:"70px"}})]})]})]});return(0,p.jsxs)("div",{className:"jsx-3457556350 text-style-setting flex space-x-1 justify-center items-center mb-4",children:[(0,p.jsx)(c.Ay,{onClick:function(){return a("fontWeight","bold")},style:{fontWeight:"bold",border:"none",backgroundColor:"bold"===n.fontWeight?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"B"}),(0,p.jsx)(c.Ay,{onClick:function(){return a("fontStyle","italic")},style:{fontStyle:"italic",border:"none",backgroundColor:"italic"===n.fontStyle?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"I"}),(0,p.jsx)(c.Ay,{onClick:function(){return a("textDecoration","line-through")},style:{textDecoration:"line-through",border:"none",backgroundColor:x("line-through")?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"S"}),(0,p.jsx)(c.Ay,{onClick:function(){return a("textDecoration","underline")},style:{textDecoration:"underline",border:"none",backgroundColor:x("underline")?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"U"}),(0,p.jsx)(c.Ay,{onClick:function(){return a("textTransform","uppercase")},style:{border:"none",backgroundColor:"uppercase"===n.textTransform?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"Aa"}),(0,p.jsx)(l.A,{content:f,trigger:"click",placement:"bottom",styles:{root:{width:250}},children:(0,p.jsx)(c.Ay,{style:{border:"none",backgroundColor:"transparent",fontSize:"18px",width:35,padding:10},icon:(0,p.jsx)(u.KY2,{size:22})})}),(0,p.jsx)(i(),{id:"3457556350",children:['.text-style-setting button{font-family:"Times New Roman",Times,serif;}']})]})}},6975:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(14232),a=n(51558),i=n(59467),o=n(12626),s=n(63167),c=n(27421),l=n(98594),d=n(81589),u=n(65035),p=n(10553),x=n(37876);let h=function(){var e,t,n=(0,p.useSession)().data,h=(null==n||null==(e=n.user)?void 0:e.role)==="admin"||(null==n||null==(t=n.user)?void 0:t.role)==="editor";return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"flex",children:(0,x.jsxs)(a.Bx,{className:"fixed menu-sidebar bg-white dark:bg-darkgray z-[10]",children:[(0,x.jsx)("div",{className:"mb-7 px-4 brand-logo",children:(0,x.jsx)(d.A,{})}),(0,x.jsx)(c.A,{className:"h-[calc(100vh_-_100px)]",children:(0,x.jsx)(a.Bx.Items,{className:"px-4",children:(0,x.jsxs)(a.Bx.ItemGroup,{className:"sidebar-nav",children:[u.Yv.map(function(e,t){var n;return(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)("h5",{className:"text-link text-xs caption",children:(0,x.jsx)("span",{className:"hide-menu",children:e.heading})}),(0,x.jsx)(l.In,{icon:"solar:menu-dots-bold",className:"text-ld block mx-auto mt-6 leading-6 dark:text-opacity-60 hide-icon",height:18}),null==(n=e.children)?void 0:n.map(function(e,t){return(0,x.jsx)(r.Fragment,{children:e.children?(0,x.jsx)("div",{className:"collpase-items",children:(0,x.jsx)(o.A,{item:e})}):"DesignNavItem"===e.customComponent?(0,x.jsx)(s.A,{item:e}):(0,x.jsx)(i.A,{item:e})},e.id&&t)})]},t)}),h&&u.ZA.map(function(e,t){var n;return(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)("h5",{className:"text-link text-xs caption mt-6",children:(0,x.jsx)("span",{className:"hide-menu",children:e.heading})}),(0,x.jsx)(l.In,{icon:"solar:menu-dots-bold",className:"text-ld block mx-auto mt-6 leading-6 dark:text-opacity-60 hide-icon",height:18}),null==(n=e.children)?void 0:n.map(function(e,t){return(0,x.jsx)(r.Fragment,{children:e.children?(0,x.jsx)("div",{className:"collpase-items",children:(0,x.jsx)(o.A,{item:e})}):(0,x.jsx)(i.A,{item:e})},e.id&&t)})]},"admin-".concat(t))})]})})})]})})})}},8872:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(63857),a=n(27002),i=n.n(a),o=n(43081),s=n.n(o),c=n(14232),l=n(43107),d=n(1440),u=n(29916),p=n(36423),x=n(31233),h=n(14510),m=n(37876);let f=function(){var e,t=(0,c.useState)([]),n=t[0],a=t[1],o=(0,c.useState)(!0),f=o[0],g=o[1];(0,h.L)(),(0,c.useEffect)(function(){b()},[]);var b=(e=(0,r.A)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,(0,l.LF)();case 4:a(e.sent.templates),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching templates:",e.t0),g(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return e.apply(this,arguments)});return(0,m.jsxs)("div",{className:"jsx-2318782520 h-full",children:[(0,m.jsxs)("div",{className:"jsx-2318782520 mb-4 px-3",children:[(0,m.jsx)("h3",{className:"jsx-2318782520 text-lg font-semibold mb-2 mt-2",children:"Chọn mẫu thiết kế"}),(0,m.jsx)("p",{className:"jsx-2318782520 text-sm text-gray-500",children:"Chọn một mẫu thiết kế c\xf3 sẵn để bắt đầu nhanh ch\xf3ng"})]}),(0,m.jsx)("div",{className:"jsx-2318782520 scroll-list",children:f?(0,m.jsx)("div",{className:"jsx-2318782520 flex justify-center items-center h-64",children:(0,m.jsx)(d.A,{size:"small"})}):n.length>0?(0,m.jsx)("div",{className:"jsx-2318782520 template-grid-container",children:(0,m.jsx)("div",{className:"jsx-2318782520 template-grid",children:n.map(function(e){return(0,m.jsx)("div",{className:"jsx-2318782520 template-item",children:(0,m.jsx)(x.A,{imageSrc:"".concat(p.A.CDN_RESOURCE_URL,"/").concat(e.longThumbnail),templateData:e})},e.id)})})}):(0,m.jsx)(u.A,{description:"Kh\xf4ng t\xecm thấy mẫu thiết kế"})}),(0,m.jsx)(i(),{id:"4011045569",children:[".template-grid-container.jsx-2318782520{padding:10px;}",".template-grid.jsx-2318782520{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;row-gap:20px;padding-bottom:80px;}"]}),(0,m.jsx)(i(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})}},10881:(e,t,n)=>{"use strict";n.d(t,{A:()=>a}),n(14232);var r=n(37876);let a=function(e){var t=e.icon,n=e.label,a=e.onClick;return(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-1 group flex-shrink-0",children:[(0,r.jsx)("button",{onClick:a,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-50 hover:bg-gray-100 active:scale-95 transition-all duration-200 ease-out group-hover:shadow-md",children:t}),(0,r.jsx)("span",{className:"text-xs text-gray-600 font-medium group-hover:text-blue-600 transition-colors duration-200 whitespace-nowrap",children:n})]})}},12133:(e,t,n)=>{"use strict";n.d(t,{J1:()=>c,mU:()=>l});var r=n(42969);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=function(e){var t=e.effectEnabled,n=e.effectType,r=e.effectDuration,a=e.effectDelay,i=e.effectEasing;return t&&"none"!==n?{transition:"all ".concat(r,"s ").concat(i," ").concat(a,"s")}:{}},s=function(e){var t=e.effectEnabled,n=e.effectType;if(!t||"none"===n)return"none";var r="";switch(n){case"fade-in":default:r="none";break;case"slide-up":r="translateY(50px)";break;case"slide-down":r="translateY(-50px)";break;case"slide-left":r="translateX(50px)";break;case"slide-right":r="translateX(-50px)";break;case"scale-in":r="scale(0.5)";break;case"scale-out":r="scale(1.5)";break;case"rotate-in":r="rotate(-180deg)";break;case"bounce-in":r="scale(0.3)";break;case"flip-in":r="perspective(400px) rotateY(90deg)";break;case"zoom-in":r="scale(0.1)"}return r},c=function(e,t){var n=e.effectType,r=e.effectDuration,a=e.effectDelay,i=e.effectEasing;return"".concat(n,"-").concat(r,"-").concat(a,"-").concat(i,"-").concat(t)},l=function(e,t){return i(i({},o(e)),{},{transform:t?"none":s(e),opacity:e.effectEnabled&&"none"!==e.effectType&&!t?0:1,width:"100%",height:"100%"})};n(40673),n(43081),n(73317),n(73341),n(16495),n(18879),n(28295),n(65494),n(29538)},12448:(e,t,n)=>{"use strict";n.d(t,{x:()=>s}),n(14232);var r=n(66125),a=n(80645),i=n(40251),o=n(37876),s=function(){var e=(0,r.oB)(function(e){return{propValue:{opacity:e.data.props.opacity||1}}}),t=e.actions.setProp,n=e.propValue,s=function(e){t(function(t){t.opacity=e},500)};return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("label",{className:"text-sm font-medium",children:"Trong suốt"}),(0,o.jsx)(a.A,{min:0,max:1,step:.01,value:n.opacity,onChange:s,style:{width:"70px"}})]}),(0,o.jsx)(i.A,{min:0,max:1,step:.01,value:n.opacity,onChange:s})]})}},12626:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(51558),a=n(14232),i=n(59467),o=n(98594),s=n(35545),c=n(29573),l=n(14e3),d=n(37876),u=function(e){var t=e.item,n=(0,l.usePathname)(),p=t.children.find(function(e){return e.url===n});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(r.Bx.Collapse,{label:t.name,open:!!p,icon:function(){return(0,d.jsx)(o.In,{icon:t.icon,height:18})},className:"".concat(p?"!text-primary bg-lightprimary ":""," collapse-menu"),renderChevronIcon:function(e,t){var n=s.zKo;return(0,d.jsx)(n,{"aria-hidden":!0,className:"".concat((0,c.QP)(e.label.icon.open[t?"on":"off"])," drop-icon")})},children:t.children&&(0,d.jsx)(r.Bx.ItemGroup,{className:"sidebar-dropdown",children:t.children.map(function(e){return(0,d.jsx)(a.Fragment,{children:e.children?(0,d.jsx)(u,{item:e}):(0,d.jsx)(i.A,{item:e})},e.id)})})})})};let p=u},12887:(e,t,n)=>{"use strict";n.d(t,{p:()=>B});var r=n(63857),a=n(42969),i=n(27002),o=n.n(i),s=n(43081),c=n.n(s),l=n(14232),d=n(66125),u=n(82599),p=n(93521),x=n(25192),h=n(33536),m=n(96447),f=n(12448),g=n(89467),b=n(39229),j=n(67708),y=n(99205),v=n(37876),w=n(13286),k=n(33598),N=n(10881),A=n(86961),C=n(21350),S=n(47139),O={COLOR:"M\xe0u sắc",ROTATION:"Đối xứng",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",HYPERLINK:"Li\xean kết",TRANSITION:"Hiệu ứng động",ANIMATION:"Chuyển động"},T=n(36423),D=n(46648),E=n(47908);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P={top:10,left:10,width:100,height:100,backgroundColor:"transparent",color:"#999999",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,materialType:"img",locked:!1,transition:b.l,hyperlink:"",continuousAnimation:E.kM},B=function(e){var t=(0,l.useState)(""),n=t[0],a=t[1],i=(0,l.useRef)(null),s=(0,l.useState)([]),u=s[0],p=s[1],x=(0,l.useState)(!1),h=x[0],m=x[1],f=e=I(I({},P),e),g=f.top,j=f.left,y=f.height,N=f.width,A=f.opacity,C=f.backgroundColor,S=f.shadow,O=f.padding,E=f.borderRadius,R=f.rotation,B=f.flipX,z=f.flipY,_=f.borderPosition,F=f.borderSize,L=f.borderStyle,M=f.borderColor,H=f.hasShadow,U=f.boxShadow,K=f.imgKey,W=f.materialType,X=f.zIndex,G=f.locked,Y=f.transition,q=f.hyperlink,V=Y||b.l,Q=(0,D.h)().getAnimationStyle,Z=(0,d.oB)(function(e){return{active:e.events.selected,id:e.id}}),J=Z.connectors.connect,$=Z.actions.setProp,ee=Z.active,et=Z.id,en=(0,d.hG)(function(e){return{enabled:e.options.enabled}}).enabled;(0,l.useEffect)(function(){var t;(t=(0,r.A)(c().mark(function t(){var n,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("svg"===e.materialType&&e.imgKey)){t.next=16;break}return t.prev=1,t.next=4,fetch("".concat(T.A.CDN_RESOURCE_URL,"/").concat(e.imgKey));case 4:return n=t.sent,t.next=7,n.text();case 7:r=(r=t.sent).replace(/<svg/,'<svg preserveAspectRatio="none" width="100%" height="100%"'),e.color&&"transparent"!==e.color&&(r=r.replace(/<svg([^>]*)>/,"<svg$1><style>#svg-".concat(et," svg path { fill: ").concat(e.color,"; }</style>"))),a(r),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("Failed to fetch SVG:",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,13]])})),function(){return t.apply(this,arguments)})()},[e.imgKey,e.materialType,e.color]),(0,l.useEffect)(function(){if(ee&&en){var e=document.querySelector("#root-page-container");e&&p(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==et}))}},[ee,en,et]);var er=(0,l.useState)({width:0,height:0,left:0,top:0}),ea=er[0],ei=er[1],eo=(0,l.useState)(null),es=eo[0],ec=eo[1];(0,l.useEffect)(function(){if(ee&&en){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ei({width:t.width,height:t.height,left:t.left,top:t.top}),ec(e)}}},[ee,en]);var el=function(){switch(_){case"all":return{border:"".concat(F,"px ").concat(L," ").concat(M)};case"top":return{borderTop:"".concat(F,"px ").concat(L," ").concat(M)};case"bottom":return{borderBottom:"".concat(F,"px ").concat(L," ").concat(M)};case"right":return{borderRight:"".concat(F,"px ").concat(L," ").concat(M)};case"left":return{borderLeft:"".concat(F,"px ").concat(L," ").concat(M)};case"top-bottom":return{borderTop:"".concat(F,"px ").concat(L," ").concat(M),borderBottom:"".concat(F,"px ").concat(L," ").concat(M)};case"right-left":return{borderRight:"".concat(F,"px ").concat(L," ").concat(M),borderLeft:"".concat(F,"px ").concat(L," ").concat(M)};case"upper-left":return{borderTop:"".concat(F,"px ").concat(L," ").concat(M),borderLeft:"".concat(F,"px ").concat(L," ").concat(M)};case"upper-right":return{borderTop:"".concat(F,"px ").concat(L," ").concat(M),borderRight:"".concat(F,"px ").concat(L," ").concat(M)};case"lower-left":return{borderBottom:"".concat(F,"px ").concat(L," ").concat(M),borderLeft:"".concat(F,"px ").concat(L," ").concat(M)};case"lower-right":return{borderBottom:"".concat(F,"px ").concat(L," ").concat(M),borderRight:"".concat(F,"px ").concat(L," ").concat(M)};default:return{}}}(),ed=function(e){!en&&q&&q.trim()&&(e.preventDefault(),e.stopPropagation(),window.open(q,"_blank"))};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{"data-node-id":et,ref:function(e){e&&(J(e),i.current=e)},style:{position:"absolute",top:"".concat(g,"px"),left:"".concat(j,"px"),width:"".concat(N,"px"),height:"".concat(y,"px"),zIndex:X,cursor:en?"move":q&&q.trim()?"pointer":"default",transform:"rotate(".concat(R,"deg) scale(").concat(B?-1:1,", ").concat(z?-1:1,")")},onClick:ed,onTouchEnd:ed,className:"jsx-3557960200",children:(0,v.jsx)(k.A,{transition:V,targetRef:i,enabled:en,nodeId:et,onTransitionStart:function(){m(!0)},onTransitionEnd:function(){m(!1)},children:(0,v.jsx)("div",{style:I({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:C,textShadow:"0px 0px 2px rgba(0,0,0,".concat((S||0)/100,")"),opacity:A},Q()),className:"jsx-3557960200",children:(0,v.jsxs)("div",{className:"jsx-3557960200 material-component",children:["img"===W&&(0,v.jsx)("div",{style:I(I({backgroundImage:"url(".concat(T.A.CDN_RESOURCE_URL,"/").concat(K,")")},el),{},{borderRadius:"".concat(E[0],"px \n                  ").concat(E[1],"px \n                  ").concat(E[2],"px \n                  ").concat(E[3],"px"),padding:"".concat(O[0],"px ").concat(O[1],"px ").concat(O[2],"px ").concat(O[3],"px"),boxShadow:H?"".concat(U.offsetX,"px ").concat(U.offsetY,"px ").concat(U.blur,"px ").concat(U.spread,"px ").concat(U.color):"none"}),className:"jsx-3557960200 photo-bg-wrap"}),"svg"===W&&n&&(0,v.jsx)("div",{id:"svg-".concat(et),dangerouslySetInnerHTML:{__html:n},style:I(I({width:"100%",height:"100%",overflow:"hidden"},el),{},{borderRadius:"".concat(E[0],"px \n                  ").concat(E[1],"px \n                  ").concat(E[2],"px \n                  ").concat(E[3],"px"),padding:"".concat(O[0],"px ").concat(O[1],"px ").concat(O[2],"px ").concat(O[3],"px"),boxShadow:H?"".concat(U.offsetX,"px ").concat(U.offsetY,"px ").concat(U.blur,"px ").concat(U.spread,"px ").concat(U.color):"none"}),className:"jsx-3557960200 svg-wrap"})]})})})}),ee&&en&&i.current&&!h&&(0,v.jsx)(w.A,{target:i.current,container:es,otherElements:u,containerBounds:ea,currentProps:{top:g,left:j,width:N,height:y,rotation:R,flipX:B,flipY:z,locked:G},onUpdateProps:function(e){$(function(t){Object.assign(t,e)})}}),(0,v.jsx)(o(),{id:"3557960200",children:[".material-component.jsx-3557960200{width:100%;height:100%;}",".material-component.jsx-3557960200 img.jsx-3557960200{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".material-component.jsx-3557960200 .photo-bg-wrap.jsx-3557960200{width:100%;height:100%;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]})]})};B.craft={displayName:"Material Item",props:P,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e=(0,d.oB)(function(e){return{materialType:e.data.props.materialType}}).materialType;return(0,v.jsxs)(l.Fragment,{children:[(0,v.jsx)(g.k,{type:"material"}),(0,v.jsxs)(u.rk,{title:"M\xe0u sắc",defaultOpen:!0,children:[(0,v.jsx)(p.O,{isColor:"svg"===e,defaultColor:"#999999",isBackground:!0}),(0,v.jsx)(f.x,{})]}),(0,v.jsx)(u.rk,{title:"Đối xứng",children:(0,v.jsx)(x.d,{flipable:!0})}),(0,v.jsx)(u.rk,{title:"Đường viền",children:(0,v.jsx)(h.x,{})}),(0,v.jsx)(u.rk,{title:"Đổ b\xf3ng",children:(0,v.jsx)(m.G,{})}),(0,v.jsx)(u.rk,{title:"Li\xean kết",props:["hyperlink"],children:(0,v.jsx)(j.L,{})}),(0,v.jsx)(u.rk,{title:"Hiệu ứng chuyển động",children:(0,v.jsx)(b.i,{})}),(0,v.jsx)(u.rk,{title:"Chuyển động li\xean tục",children:(0,v.jsx)(y.A,{})})]})},mobileToolbar:function(){var e=(0,l.useState)(null),t=e[0],n=e[1],r=(0,d.oB)(function(e){return{materialType:e.data.props.materialType}}).materialType,a=function(e){n(e)};return(0,v.jsxs)(l.Fragment,{children:[(0,v.jsx)(N.A,{icon:(0,v.jsx)(A.NyH,{size:20}),label:"M\xe0u sắc",onClick:function(){return a(O.COLOR)}}),(0,v.jsx)(N.A,{icon:(0,v.jsx)(A.oS8,{size:20}),label:O.ROTATION,onClick:function(){return a(O.ROTATION)}}),(0,v.jsx)(N.A,{icon:(0,v.jsx)(A.lKm,{size:20}),label:O.BORDER,onClick:function(){return a(O.BORDER)}}),(0,v.jsx)(N.A,{icon:(0,v.jsx)(A.elE,{size:20}),label:O.BOX_SHADOW,onClick:function(){return a(O.BOX_SHADOW)}}),(0,v.jsx)(N.A,{icon:(0,v.jsx)(A.WnQ,{size:20}),label:O.HYPERLINK,onClick:function(){return a(O.HYPERLINK)}}),(0,v.jsx)(N.A,{icon:(0,v.jsx)(A.Vt5,{size:20}),label:O.TRANSITION,onClick:function(){return a(O.TRANSITION)}}),(0,v.jsx)(N.A,{icon:(0,v.jsx)(S.g4X,{size:20}),label:O.ANIMATION,onClick:function(){return a(O.ANIMATION)}}),(0,v.jsx)(C.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,v.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,v.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,v.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,v.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,v.jsx)("div",{className:"setting-content",children:function(){switch(t){case O.COLOR:return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.O,{isColor:"svg"===r,defaultColor:"#999999",isBackground:!0}),(0,v.jsx)(f.x,{})]});case O.ROTATION:return(0,v.jsx)(x.d,{flipable:!0});case O.BORDER:return(0,v.jsx)(h.x,{});case O.BOX_SHADOW:return(0,v.jsx)(m.G,{});case O.HYPERLINK:return(0,v.jsx)(j.L,{});case O.TRANSITION:return(0,v.jsx)(b.i,{});case O.ANIMATION:return(0,v.jsx)(y.A,{});default:return(0,v.jsx)(v.Fragment,{})}}()})})]})})]})}}}},13286:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(27002),a=n.n(r),i=n(14232),o=n(92045),s=n(37876);let c=function(e){var t=e.target,n=e.container,r=e.otherElements,c=e.containerBounds,l=e.currentProps,d=e.onUpdateProps,u=e.resizeDirections,p=e.keepRatio,x=(0,i.useRef)(null),h=l.top,m=l.left,f=l.width,g=l.height,b=l.rotation,j=l.flipX,y=l.flipY,v=!!l.locked;return(0,i.useEffect)(function(){l&&x.current&&x.current.updateRect()},[l]),(0,i.useEffect)(function(){if(!v&&t){var e=function(e){if(t&&document.activeElement===t){var n=e.shiftKey?10:1,r=h,a=m,i=!1;switch(e.key){case"ArrowUp":r-=n,i=!0;break;case"ArrowDown":r+=n,i=!0;break;case"ArrowLeft":a-=n,i=!0;break;case"ArrowRight":a+=n,i=!0}i&&(e.preventDefault(),t.style.top="".concat(r,"px"),t.style.left="".concat(a,"px"),d({top:r,left:a}))}};return t&&!t.hasAttribute("tabindex")&&t.setAttribute("tabindex","0"),window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}},[t,h,m,v,d]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Ay,{ref:x,target:t,container:n,origin:!1,resizable:!v,keepRatio:void 0===p||p,throttleResize:0,renderDirections:v?[]:void 0===u?["nw","n","ne","w","e","sw","s","se"]:u,edge:!1,zoom:1,padding:{left:0,top:0,right:0,bottom:0},draggable:!v,throttleDrag:0,rotatable:!v,throttleRotate:0,rotationPosition:"bottom",scalable:!1,snappable:!v,snapContainer:n,snapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},snapThreshold:3,horizontalGuidelines:function(){if(0===c.height)return[];var e=c.height;return[0,e/2,e]}(),verticalGuidelines:function(){if(0===c.width)return[];var e=c.width;return[0,e/2,e]}(),elementGuidelines:r,snapDistFormat:function(e){return"".concat(e,"px")},isDisplaySnapDigit:!0,snapDigit:0,onResizeStart:function(e){if(!v){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set([m,h]);var t=e.direction||[];2===t.length&&0!==t[0]&&0!==t[1]?e.setRatio(f/g):e.setRatio(0);var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="hidden")}},onResize:function(e){if(!v){var n=e.width,r=e.height,a=h,i=m;e.drag&&(a=e.drag.top,i=e.drag.left),t&&(t.style.width="".concat(n,"px"),t.style.height="".concat(r,"px"),t.style.top="".concat(a,"px"),t.style.left="".concat(i,"px"),e.drag&&e.drag.transform&&(t.style.transform="rotate(".concat(b,"deg) scale(").concat(j?-1:1,", ").concat(y?-1:1,")"))),e.drag||window.requestAnimationFrame(function(){d({width:n,height:r,top:a,left:i})})}},onResizeEnd:function(){if(!v){var e=document.getElementById("floating-toolbar");e&&(e.style.visibility="visible")}},onDragStart:function(){if(!v){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow="hidden");var t=document.getElementById("floating-toolbar");t&&(t.style.visibility="hidden")}},onDrag:function(e){!v&&(t&&(t.style.top="".concat(e.top,"px"),t.style.left="".concat(e.left,"px")),x.current&&(x.current.__dragDebounce=x.current.__dragDebounce||0,clearTimeout(x.current.__dragDebounce),x.current.__dragDebounce=setTimeout(function(){d({top:e.top,left:e.left})},20)))},onDragEnd:function(){if(!v){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow="");var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="visible"),t&&d({top:parseFloat(t.style.top),left:parseFloat(t.style.left)})}},onRotateStart:function(e){e.set(b);var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="hidden");var r=document.createElement("div");if(r.id="angle-display",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.backgroundColor="rgba(51, 51, 51, 0.8)",r.style.color="white",r.style.padding="4px 8px",r.style.borderRadius="4px",r.style.fontSize="12px",r.style.zIndex="9999",r.textContent="".concat(Math.round(b),"\xb0"),document.body.appendChild(r),t){var a=t.getBoundingClientRect();r.style.top="".concat(a.top-40,"px"),r.style.left="".concat(a.left+a.width/2-17,"px")}},onRotate:function(e){var n=e.rotate%360;n<0&&(n+=360);for(var r=n,a=Math.round(r),i=0,o=[0,45,90,135,180,225,270,315];i<o.length;i++){var s=o[i];if(2>=Math.abs(r-s)){r=s;break}}if(t){var c=2>=Math.abs(r-n)?r:n;t.style.transform="rotate(".concat(c,"deg) scale(").concat(j?-1:1,", ").concat(y?-1:1,")");var l=document.getElementById("angle-display");if(l){2>=Math.abs(r-n)?l.textContent="".concat(r.toFixed(1),"\xb0"):l.textContent="".concat(a.toFixed(1),"\xb0");var u=t.getBoundingClientRect();l.style.top="".concat(u.top-40,"px"),l.style.left="".concat(u.left+u.width/2-17,"px")}}x.current&&(x.current.__rotateDebounce=x.current.__rotateDebounce||0,clearTimeout(x.current.__rotateDebounce),x.current.__rotateDebounce=setTimeout(function(){d({rotation:2>=Math.abs(r-n)?r:n})},20))},onRotateEnd:function(){var e=document.getElementById("floating-toolbar");if(e&&(e.style.visibility="visible"),t){var n=t.style.transform.match(/rotate\(([^)]+)deg\)/),r=n?parseFloat(n[1]):0;(r%=360)<0&&(r+=360),d({rotation:r});var a=document.getElementById("angle-display");a&&a.remove()}},onRenderEnd:function(e){d({width:parseFloat(e.target.style.width)||f,height:parseFloat(e.target.style.height)||g,top:parseFloat(e.target.style.top)||h,left:parseFloat(e.target.style.left)||m})}}),(0,s.jsx)(a(),{id:"3059266317",children:[".moveable-control.moveable-rotation-control{width:24px !important;height:24px !important;margin-top:-12px !important;margin-left:-12px !important;border-radius:50% !important;background-color:white !important;border:1px solid #333 !important;box-shadow:0 2px 5px rgba(0,0,0,0.2) !important;cursor:-webkit-grab !important;cursor:-moz-grab !important;cursor:grab !important;}",".moveable-control.moveable-rotation-control:active{cursor:-webkit-grabbing !important;cursor:-moz-grabbing !important;cursor:grabbing !important;}",".moveable-rotation-digit{background-color:#333 !important;color:white !important;font-weight:bold !important;padding:2px 6px !important;border-radius:4px !important;}",".moveable-line.moveable-rotation-line{display:none !important;}",".moveable-control.moveable-rotation-control::before{content:\"\";position:absolute;top:50%;left:50%;width:15px;height:15px;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z'/%3E%3C/svg%3E\");background-size:contain;background-repeat:no-repeat;background-position:center;}"]})]})}},14510:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var r=n(14232),a=n(10553),i=n(46264),o=function(){var e="authenticated"===(0,a.useSession)().status,t=(0,i.p)(),n=t.initializeFavorites,o=t.isInitialized;return(0,r.useEffect)(function(){e&&!o&&n()},[e,n,o]),{isAuthenticated:e}}},14658:(e,t,n)=>{"use strict";n.d(t,{B9:()=>s,CE:()=>c,ZR:()=>l});var r=n(63857),a=n(43081),i=n.n(a),o=n(51695),s=function(){var e=(0,r.A)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.get("/admin/file-upload");case 3:return t=e.sent,e.abrupt("return",t.data.files||[]);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching admin assets:",e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.get("/admin/file-upload/template/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.files||[]);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching template assets:",e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.A)(i().mark(function e(t){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.A.delete("/admin/file-upload/".concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},15030:(e,t,n)=>{"use strict";n.d(t,{H:()=>p});var r=n(27002),a=n.n(r);n(14232);var i=n(66125),o=n(53872),s=n(83240),c=n(82642),l=n(6953),d=n(37876),u=o.A.Option,p=function(){var e=(0,i.oB)(function(e){return{fontSize:e.data.props.fontSize}}),t=e.actions.setProp,n=e.fontSize;return(0,d.jsxs)("div",{className:"jsx-3821075601 font-size-container flex items-center justify-between my-4",children:[(0,d.jsx)("label",{className:"jsx-3821075601 text-sm font-medium mb-1",children:"Font size"}),(0,d.jsxs)("div",{className:"jsx-3821075601 flex",children:[(0,d.jsx)(s.Ay,{icon:(0,d.jsx)(c.A,{}),onClick:function(){var e=parseInt(n)-1;t(function(t){t.fontSize=e},1e3)},style:{borderRadius:"4px 0 0 4px",width:30,display:"flex",justifyContent:"center",alignItems:"center"}}),(0,d.jsx)(o.A,{value:n,style:{width:65},className:"font-size-input",onChange:function(e){t(function(t){t.fontSize=e},1e3)},children:[10,12,14,16,18,20,22,24,26,30,36,48,64,72].map(function(e){return(0,d.jsx)(u,{className:"font-size-input-item",value:e,children:e},e)})}),(0,d.jsx)(s.Ay,{icon:(0,d.jsx)(l.A,{}),onClick:function(){var e=parseInt(n)+1;t(function(t){t.fontSize=e},1e3)},style:{borderRadius:" 0 4px 4px 0",width:30,display:"flex",justifyContent:"center",alignItems:"center"}})]}),(0,d.jsx)(a(),{id:"3821075601",children:[".font-size-input .ant-select-selector{border-radius:0px !important;}",".font-size-container .ant-btn.ant-btn-icon-only .anticon{font-size:15px;}",".font-size-container .ant-select-selection-item,.font-size-container .ant-select-item-option-content{font-size:14px;}"]})]})}},16104:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(89099),a=n(14232),i=function(){var e=(0,r.useRouter)(),t=(0,a.useState)(),n=t[0],i=t[1];return(0,a.useEffect)(function(){if(e.isReady){var t=e.query.template_id;"new-blank"===t?i(void 0):i(t)}},[e.isReady,e.query.template_id]),n}},16495:(e,t,n)=>{"use strict";n.d(t,{A6:()=>o,Qx:()=>i,Zd:()=>c,y3:()=>s});var r=n(36423),a=new Set,i=function(e){return e.replace(/['"]/g,"")},o=function(e){return e.replace(/\s+/g,"-").replace(/[^\w\-]/g,"").toLowerCase()},s=function(e){var t=i(e);if(!a.has(t)&&"arial"!==t.toLowerCase()){var n=o(e),s=document.createElement("link");s.rel="stylesheet",s.href="".concat(r.A.CDN_RESOURCE_URL,"/fonts/webfonts/").concat(n,"/font.css"),document.head.appendChild(s),a.add(t)}},c=function(e){var t=i(e);return'"'.concat(t,'"')}},17808:(e,t,n)=>{"use strict";n.d(t,{q:()=>Y});var r=n(42969),a=n(27002),i=n.n(a),o=n(14232),s=n(66125),c=n(82599),l=n(93521),d=n(33536),u=n(96447),p=n(12448),x=n(39229),h=n(95463),m=n(43340),f=n(10553),g=n(81495),b=n(78972),j=n(99205),y=n(69486),v=n(62436),w=n(40673),k=n(98594),N=n(83240),A=n(94085),C=n(87334),S=n(3566),O=n(56458),T=n(37876);let D=function(e){var t=e.visible,n=e.onClose,r=e.accounts,a=e.title,i=e.isPreview;return(0,T.jsx)(C.e,{appear:!0,show:t,as:o.Fragment,children:(0,T.jsxs)(S.lG,{style:{zIndex:0x174876e7ff},as:"div",className:"relative",onClose:n,children:[(0,T.jsx)(C.e.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,T.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,T.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,T.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,T.jsx)(C.e.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,T.jsxs)(S.lG.Panel,{className:"w-full max-w-xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[(0,T.jsx)("div",{className:"px-4 py-4",children:(0,T.jsx)(O.A,{accounts:r,isLoading:!1,mainTitle:void 0===a?"Hộp Qu\xe0 Y\xeau Thương":a,isPreview:void 0!==i&&i})}),(0,T.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-center",children:(0,T.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:n,children:"Đ\xf3ng"})})]})})})})]})})};var E=function(){var e=A.Fr||A.v1,t=(0,s.oB)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,modalTitle:e.data.props.modalTitle,qrBankAccounts:e.data.props.qrBankAccounts}}),n=t.id,r=t.imgKey,a=t.modalTitle,i=t.qrBankAccounts,c=(0,w.T_)(r),l=(0,o.useState)(!1),d=l[0],u=l[1],p=(0,v.wL)(),x=p.setReplacing,h=p.setReplaceType,m=p.setSelectedNodeId,f=p.isReplacing,g=p.resetReplaceItem,b=(0,v.c3)().setActiveKey,j=function(){u(!0)};(0,o.useEffect)(function(){return function(){f&&(g(),b(null))}},[f]);var C=0===i.length?[{id:"mockup-1",name:"T\xean C\xf4 D\xe2u",accountNumber:"12345678901",bank:"Vietcombank",qrCode:"",displayName:"C\xf4 d\xe2u",type:"bride"},{id:"mockup-2",name:"T\xean Ch\xfa Rể",accountNumber:"01234567890",bank:"BIDV",qrCode:"",displayName:"Ch\xfa rể",type:"groom"}]:i,S=e?50:100;return(0,T.jsxs)("div",{className:"my-4 flex justify-around items-center",children:[(0,T.jsxs)("div",{className:"flex justify-center flex-col gap-2 items-center",children:[(0,T.jsx)("div",{className:"preview-container",style:{padding:10,border:"1px solid #d9d9d9",borderRadius:"8px",backgroundColor:"#fafafa",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center"},onClick:j,onMouseEnter:function(e){e.currentTarget.style.borderColor="#1677ff",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseLeave:function(e){e.currentTarget.style.borderColor="#d9d9d9",e.currentTarget.style.boxShadow="none"},children:(0,T.jsx)("div",{style:{width:S,height:S,backgroundImage:"url(".concat(c,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",borderRadius:"4px"}})}),(0,T.jsxs)("div",{className:"flex gap-2",children:[(0,T.jsxs)(N.Ay,{color:"primary",type:"primary",size:"small",onClick:function(){var e=y.hW.MATERIAL;x(!0),h("material"),b(e),m(n)},className:"flex items-center gap-2 text-sm",children:[(0,T.jsx)(k.In,{icon:"solar:gallery-wide-bold",className:"w-5 h-5"}),"Đổi icon"]}),(0,T.jsxs)(N.Ay,{type:"default",size:"small",onClick:j,className:"flex items-center gap-2 text-sm",children:[(0,T.jsx)(k.In,{icon:"solar:eye-bold",className:"w-5 h-5"}),"Xem trước"]})]})]}),(0,T.jsx)(D,{visible:d,onClose:function(){return u(!1)},accounts:C,title:a||"Xem trước QR Bank",isPreview:0===i.length})]})};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=n(13286),B=n(33598),z=n(46648),_=n(10881),F=n(86961),L=n(21350),M=n(71255);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K={QR_BANK:"QR Bank",TITLE:"Ti\xeau đề",COLORS:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động",ANIMATION:"Chuyển động"};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G={top:10,left:10,width:100,height:100,backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,locked:!1,transition:x.l,imgKey:"resources/flowchartIcons/bc7ro23uqhun7ge954163l.png",qrBankAccounts:[],modalTitle:"Hộp Qu\xe0 Y\xeau Thương",continuousAnimation:{type:"wobble",duration:2,delay:0}},Y=function(e){var t=(0,o.useRef)(null),n=(0,o.useState)([]),r=n[0],a=n[1],c=(0,o.useState)(!1),l=c[0],d=c[1],u=(0,o.useState)(!1),p=u[0],h=u[1],m=e=X(X({},G),e),f=m.top,g=m.left,b=m.height,j=m.width,y=m.opacity,v=m.backgroundColor,k=m.shadow,N=m.padding,A=m.borderRadius,C=m.rotation,S=m.flipX,O=m.flipY,E=m.borderPosition,R=m.borderSize,I=m.borderStyle,_=m.borderColor,F=m.hasShadow,L=m.boxShadow,M=m.imgKey,H=m.zIndex,U=m.locked,K=m.transition,W=m.qrBankAccounts,Y=m.modalTitle;m.continuousAnimation;var q=K||x.l,V=(0,z.h)().getAnimationStyle,Q=(0,s.oB)(function(e){return{active:e.events.selected,id:e.id}}),Z=Q.connectors.connect,J=Q.actions.setProp,$=Q.active,ee=Q.id,et=(0,s.hG)(function(e){return{enabled:e.options.enabled}}).enabled;(0,o.useEffect)(function(){if($&&et){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==ee}))}},[$,et,ee]);var en=(0,o.useState)({width:0,height:0,left:0,top:0}),er=en[0],ea=en[1],ei=(0,o.useState)(null),eo=ei[0],es=ei[1];(0,o.useEffect)(function(){if($&&et){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ea({width:t.width,height:t.height,left:t.left,top:t.top}),es(e)}}},[$,et]);var ec=function(){switch(E){case"all":return{border:"".concat(R,"px ").concat(I," ").concat(_)};case"top":return{borderTop:"".concat(R,"px ").concat(I," ").concat(_)};case"bottom":return{borderBottom:"".concat(R,"px ").concat(I," ").concat(_)};case"right":return{borderRight:"".concat(R,"px ").concat(I," ").concat(_)};case"left":return{borderLeft:"".concat(R,"px ").concat(I," ").concat(_)};case"top-bottom":return{borderTop:"".concat(R,"px ").concat(I," ").concat(_),borderBottom:"".concat(R,"px ").concat(I," ").concat(_)};case"right-left":return{borderRight:"".concat(R,"px ").concat(I," ").concat(_),borderLeft:"".concat(R,"px ").concat(I," ").concat(_)};case"upper-left":return{borderTop:"".concat(R,"px ").concat(I," ").concat(_),borderLeft:"".concat(R,"px ").concat(I," ").concat(_)};case"upper-right":return{borderTop:"".concat(R,"px ").concat(I," ").concat(_),borderRight:"".concat(R,"px ").concat(I," ").concat(_)};case"lower-left":return{borderBottom:"".concat(R,"px ").concat(I," ").concat(_),borderLeft:"".concat(R,"px ").concat(I," ").concat(_)};case"lower-right":return{borderBottom:"".concat(R,"px ").concat(I," ").concat(_),borderRight:"".concat(R,"px ").concat(I," ").concat(_)};default:return{}}}();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{"data-node-id":ee,ref:function(e){e&&(Z(e),t.current=e)},style:{position:"absolute",top:"".concat(f,"px"),left:"".concat(g,"px"),width:"".concat(j,"px"),height:"".concat(b,"px"),zIndex:H,cursor:et?"move":"default",transform:"rotate(".concat(C,"deg) scale(").concat(S?-1:1,", ").concat(O?-1:1,")")},className:"jsx-3664286752",children:(0,T.jsx)(B.A,{transition:q,targetRef:t,enabled:et,nodeId:ee,onTransitionStart:function(){d(!0)},onTransitionEnd:function(){d(!1)},children:(0,T.jsx)("div",{style:X(X({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:v,textShadow:"0px 0px 2px rgba(0,0,0,".concat((k||0)/100,")"),opacity:y,padding:"".concat(N[0],"px ").concat(N[1],"px ").concat(N[2],"px ").concat(N[3],"px")},ec),{},{borderRadius:"".concat(A[0],"px \n              ").concat(A[1],"px \n              ").concat(A[2],"px \n              ").concat(A[3],"px"),boxShadow:F?"".concat(L.offsetX,"px ").concat(L.offsetY,"px ").concat(L.blur,"px ").concat(L.spread,"px ").concat(L.color):"none",cursor:!et&&W&&W.length>0?"pointer":et?"move":"default"},V()),onClick:function(e){e.stopPropagation(),!et&&W&&W.length>0&&h(!0)},className:"jsx-3664286752",children:(0,T.jsx)("div",{className:"jsx-3664286752 qr-box-component",children:(0,T.jsx)("div",{style:{backgroundImage:"url(".concat((0,w.T_)(M),")")},className:"jsx-3664286752 photo-bg-wrap"})})})})}),$&&et&&t.current&&!l&&(0,T.jsx)(P.A,{target:t.current,container:eo,otherElements:r,containerBounds:er,currentProps:{top:f,left:g,width:j,height:b,rotation:C,flipX:S,flipY:O,locked:U},onUpdateProps:function(e){J(function(t){Object.assign(t,e)})}}),(0,T.jsx)(i(),{id:"3664286752",children:[".qr-box-component.jsx-3664286752{width:100%;height:100%;}",".qr-box-component.jsx-3664286752 img.jsx-3664286752{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".qr-box-component.jsx-3664286752 .photo-bg-wrap.jsx-3664286752{width:100%;height:100%;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]}),(0,T.jsx)(D,{visible:p,onClose:function(){return h(!1)},accounts:W||[],title:Y})]})};Y.craft={displayName:"Qr Box",props:G,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e,t=(0,g.$E)(),n=t.settings,r=t.setQRBankAccounts,a=(0,f.useSession)().data,i=(null==a||null==(e=a.user)?void 0:e.plan)||"free",y=(0,s.oB)(function(e){return{modalTitle:e.data.props.modalTitle}}).modalTitle,v=(0,s.oB)().actions.setProp,w=(0,o.useState)([]),k=w[0],N=w[1];(0,o.useEffect)(function(){n.qrBankAccounts&&(N(n.qrBankAccounts.map(function(e){return I(I({},e),{},{id:e.id||Date.now().toString()})})),v(function(e){e.qrBankAccounts=n.qrBankAccounts}))},[n.qrBankAccounts]);var A=function(e){v(function(t){t.modalTitle=e})};return(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)("div",{className:"mb-3 text-sm text-gray-600 italic",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng. Khi click v\xe0o icon n\xe0y sẽ hiển thị danh s\xe1ch QR code."}),(0,T.jsx)(E,{}),(0,T.jsxs)(c.rk,{title:"Th\xf4ng tin m\xe3 QR",defaultOpen:!0,children:[(0,T.jsx)(m.A,{qrBankAccounts:k,onAccountsChange:function(e){N(e),r(e),v(function(t){t.qrBankAccounts=e})},userPlan:i,disabled:!1}),(0,T.jsxs)("div",{className:"mt-3",children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ti\xeau đề khi hiển thị"}),(0,T.jsx)(b.A,{placeholder:"Nhập ti\xeau đề",value:y||"",onChange:function(e){return A(e.target.value)},className:"w-full"})]})]}),(0,T.jsxs)(c.rk,{title:"M\xe0u sắc",children:[(0,T.jsx)(l.O,{isColor:!1,isBackground:!0}),(0,T.jsx)(p.x,{})]}),(0,T.jsx)(c.rk,{title:"Khoảng đệm",children:(0,T.jsx)(h.a,{})}),(0,T.jsx)(c.rk,{title:"Đường viền",children:(0,T.jsx)(d.x,{})}),(0,T.jsx)(c.rk,{title:"Đổ b\xf3ng",children:(0,T.jsx)(u.G,{})}),(0,T.jsx)(c.rk,{title:"Hiệu ứng chuyển động",children:(0,T.jsx)(x.i,{})}),(0,T.jsx)(c.rk,{title:"Chuyển động li\xean tục",children:(0,T.jsx)(j.A,{})})]})},mobileToolbar:function(){var e,t=(0,o.useState)(null),n=t[0],r=t[1],a=(0,o.useState)(!1),i=a[0],c=a[1],y=(0,g.$E)(),w=y.settings,k=y.setQRBankAccounts,N=(0,f.useSession)().data,A=(null==N||null==(e=N.user)?void 0:e.plan)||"free",C=(0,s.oB)(function(e){return{modalTitle:e.data.props.modalTitle}}).modalTitle,S=(0,s.oB)().actions.setProp,O=(0,v.wL)(),D=O.isReplacing,R=O.resetReplaceItem,I=O.replaceType,P=(0,v.c3)().setActiveKey,B=(0,o.useState)([]),z=B[0],H=B[1];(0,o.useEffect)(function(){w.qrBankAccounts&&(H(w.qrBankAccounts.map(function(e){return U(U({},e),{},{id:e.id||Date.now().toString()})})),S(function(e){e.qrBankAccounts=w.qrBankAccounts}))},[w.qrBankAccounts]);var W=function(e){H(e),k(e),S(function(t){t.qrBankAccounts=e})},X=function(e){S(function(t){t.modalTitle=e})};(0,o.useEffect)(function(){D&&"material"===I&&c(!0)},[D,I]);var G=function(){c(!1),D&&(R(),P(null))},Y=function(e){r(e)};return(0,T.jsxs)(o.Fragment,{children:[(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.oF5,{size:20}),label:K.QR_BANK,onClick:function(){return Y(K.QR_BANK)}}),(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.TEV,{size:20}),label:K.TITLE,onClick:function(){return Y(K.TITLE)}}),(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.NyH,{size:20}),label:K.COLORS,onClick:function(){return Y(K.COLORS)}}),(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.WKR,{size:20}),label:K.PADDING,onClick:function(){return Y(K.PADDING)}}),(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.lKm,{size:20}),label:K.BORDER,onClick:function(){return Y(K.BORDER)}}),(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.elE,{size:20}),label:K.BOX_SHADOW,onClick:function(){return Y(K.BOX_SHADOW)}}),(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.Vt5,{size:20}),label:K.TRANSITION,onClick:function(){return Y(K.TRANSITION)}}),(0,T.jsx)(_.A,{icon:(0,T.jsx)(F.oS8,{size:20}),label:K.ANIMATION,onClick:function(){return Y(K.ANIMATION)}}),(0,T.jsx)(L.zD,{visible:!!n,showCloseButton:!0,onClose:function(){r(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"50vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,T.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,T.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,T.jsx)("h3",{className:"text-lg font-semibold text-center",children:n})}),(0,T.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(50vh - 60px)",minHeight:"200px"},children:(0,T.jsx)("div",{className:"setting-content",children:function(){switch(n){case K.QR_BANK:return(0,T.jsxs)("div",{className:"py-2",children:[(0,T.jsx)("div",{className:"mb-3 text-sm text-gray-600 italic",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng. Khi click v\xe0o icon n\xe0y sẽ hiển thị danh s\xe1ch QR code."}),(0,T.jsx)(E,{}),(0,T.jsx)(m.A,{qrBankAccounts:z,onAccountsChange:W,userPlan:A,disabled:!1})]});case K.TITLE:return(0,T.jsx)("div",{className:"py-2",children:(0,T.jsxs)("div",{className:"mb-3",children:[(0,T.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ti\xeau đề khi hiển thị"}),(0,T.jsx)(b.A,{placeholder:"Nhập ti\xeau đề",value:C||"",onChange:function(e){return X(e.target.value)},className:"w-full"})]})});case K.COLORS:return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"my-4",children:[(0,T.jsx)("div",{className:"text-gray-700 mb-3",children:"M\xe0u sắc nền"}),(0,T.jsx)(l.O,{isColor:!1,isBackground:!0,colorTitle:"M\xe0u nền"})]}),(0,T.jsx)(p.x,{})]});case K.PADDING:return(0,T.jsx)(h.a,{});case K.BORDER:return(0,T.jsx)(d.x,{});case K.BOX_SHADOW:return(0,T.jsx)(u.G,{});case K.TRANSITION:return(0,T.jsx)(x.i,{});case K.ANIMATION:return(0,T.jsx)(j.A,{});default:return(0,T.jsx)(T.Fragment,{})}}()})})]})}),(0,T.jsx)(L.zD,{visible:i,onMaskClick:G,position:"bottom",bodyStyle:{height:"60vh"},children:(0,T.jsx)(M.A,{isMobile:!0,onClose:G})})]})}}}},18879:(e,t,n)=>{"use strict";n.d(t,{AP:()=>l,xK:()=>i});var r=n(36423),a=["Mai Anh","Erik","Ho\xe0ng Dũng","T\xf9ng","Linh","Hương","Minh","Thu H\xe0","Đức","Phương","Huy","Thảo","Quang","Hồng Nhung","Tuấn Anh","Ngọc Anh","Ho\xe0ng","Lan Anh","Việt Anh","Thanh","Hải","Ngọc","Duy","Thủy","Trung","Mai","H\xe0","Nam","Hiền","Trang"],i=function(e){return"".concat(r.A.CDN_URL,"/gifts/thumb/").concat(e,".png")},o=["❤️ \uD83D\uDC95 Ch\xfac hai bạn trăm năm hạnh ph\xfac!","\uD83C\uDF89 May your love story be beautiful and endless!","\uD83D\uDC91 Mong rằng t\xecnh y\xeau của hai bạn m\xe3i đẹp như ng\xe0y h\xf4m nay!","\uD83D\uDC96 M\xe3i m\xe3i hạnh ph\xfac b\xean nhau!","\uD83C\uDF1F Ch\xfac mừng hạnh ph\xfac lứa đ\xf4i!","\uD83D\uDC90 Ch\xfac hai bạn trăm năm h\xf2a hợp, hạnh ph\xfac!","✨ Đồng t\xe2m đồng l\xf2ng, x\xe2y đắp tổ ấm thịnh vượng!","\uD83C\uDF8A Ch\xfac hai bạn lu\xf4n vui vẻ, thấu hiểu v\xe0 n\xe2ng đỡ nhau!","\uD83D\uDC9D Mong t\xecnh y\xeau của hai bạn m\xe3i vĩnh cửu!","\uD83E\uDD42 Một h\xe0nh tr\xecnh hạnh ph\xfac đang chờ đ\xf3n hai bạn!","\uD83D\uDC8D Ch\xfac cho t\xecnh y\xeau của hai bạn mỗi ng\xe0y một lớn mạnh!","\uD83D\uDD4A️ T\xe2n h\xf4n hạnh ph\xfac, trăm năm b\xean nhau!"],s=["\uD83C\uDF82 Ch\xfac mừng sinh nhật! Tuổi mới nhiều niềm vui!","\uD83C\uDF81 Happy Birthday! Wishing you health and happiness!","\uD83C\uDF88 Sinh nhật vui vẻ, tuổi mới th\xe0nh c\xf4ng rực rỡ!","✨ Ch\xfac mừng ng\xe0y đặc biệt của bạn!","\uD83C\uDF08 Tuổi mới ph\xe1t t\xe0i, ph\xe1t lộc!","\uD83C\uDF1F Ch\xfac bạn một năm tr\xe0n đầy may mắn v\xe0 hạnh ph\xfac!","\uD83E\uDD42 Mừng tuổi mới, th\xeam nhiều niềm vui v\xe0 th\xe0nh c\xf4ng!","\uD83C\uDF8A Ch\xfac mừng sinh nhật! Ch\xfac bạn lu\xf4n xinh đẹp v\xe0 hạnh ph\xfac!","\uD83C\uDFAF Tuổi mới, đạt được mọi mục ti\xeau bạn đặt ra!","\uD83C\uDF3A Ch\xfac bạn c\xf3 sinh nhật ngọt ng\xe0o v\xe0 tr\xe0n đầy niềm vui!","\uD83C\uDF89 Tuổi mới th\xe0nh c\xf4ng rực rỡ, gặp nhiều may mắn!","\uD83D\uDCAB Ch\xfac mừng sinh nhật! Mong mọi điều tốt đẹp đến với bạn!"],c=["❤️ \uD83D\uDC95 Wishing you a lifetime of happiness!","\uD83C\uDF89 Ch\xfac bạn mọi điều tốt đẹp nhất!","\uD83D\uDC91 Gửi đến bạn những lời ch\xfac tốt đẹp nhất!","\uD83D\uDC96 Mong bạn lu\xf4n vui vẻ v\xe0 hạnh ph\xfac!","\uD83C\uDF1F Ch\xfac mừng bạn!","\uD83D\uDC90 Gửi đến bạn những lời ch\xfac tốt l\xe0nh!","✨ Hạnh ph\xfac v\xe0 thịnh vượng!","\uD83C\uDF8A Ch\xfac bạn c\xf3 những khoảnh khắc tuyệt vời!","\uD83D\uDC9D Những điều tốt đẹp nhất sẽ đến với bạn!","\uD83E\uDD42 Here's to a beautiful journey ahead!"],l=function(e){var t="thiep-cuoi"===e?o:"thiep-sinh-nhat"===e?s:c;return{success:!0,messages:Array.from({length:5},function(){return{senderName:a[Math.floor(Math.random()*a.length)],content:t[Math.floor(Math.random()*t.length)],createdAt:new Date().toISOString()}})}}},22705:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var r=function(e,t,n){var r=Math.min(e/t,e/n);return{scaleWidth:t*r,scaleHeight:n*r}}},24170:(e,t,n)=>{"use strict";n.d(t,{A:()=>Y});var r=n(44478),a=n(14232),i=n(54587),o=n.n(i),s=n(66125),c=n(36423),l=n(88660),d=n(69486),u=n(66013),p=n(25962),x=n(43830),h=n(70970),m=n(10553),f=n(87334),g=n(3566),b=n(98594),j=n(24530),y=n(37876);let v=function(e){var t=e.isOpen,n=e.onClose,r=j.E4.filter(function(e){return"basic"===e.name||"premium"===e.name}),i=function(e){window.open(e,"_blank"),n()};return(0,y.jsx)(f.e,{appear:!0,show:t,as:a.Fragment,children:(0,y.jsxs)(g.lG,{as:"div",className:"relative",style:{zIndex:9999},onClose:n,children:[(0,y.jsx)(f.e.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,y.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,y.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,y.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,y.jsx)(f.e.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,y.jsxs)(g.lG.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all relative",children:[(0,y.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Đ\xf3ng",children:(0,y.jsx)(b.In,{icon:"solar:close-circle-bold",className:"h-6 w-6 text-gray-500"})}),(0,y.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,y.jsx)("div",{className:"rounded-full bg-blue-100 p-3",children:(0,y.jsx)(b.In,{icon:"solar:map-bold",className:"h-8 w-8 text-blue-500"})})}),(0,y.jsx)(g.lG.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-gray-900 text-center mb-2",children:"Giới hạn g\xf3i Free"}),(0,y.jsxs)("div",{className:"mt-4 text-center",children:[(0,y.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:(0,y.jsxs)("p",{className:"text-gray-600",children:["G\xf3i Free chỉ cho ph\xe9p sử dụng tối đa"," ",(0,y.jsx)("strong",{children:"1 bản đồ"})," tr\xean mỗi trang."]})}),(0,y.jsx)("p",{className:"text-gray-600 mb-6",children:"N\xe2ng cấp l\xean g\xf3i Basic hoặc Premium để th\xeam kh\xf4ng giới hạn bản đồ v\xe0 nhiều t\xednh năng n\xe2ng cao kh\xe1c."}),(0,y.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,y.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,y.jsx)(b.In,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"N\xe2ng cấp để sử dụng đầy đủ"]}),(0,y.jsx)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:r.map(function(e){return(0,y.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[e.popular&&(0,y.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,y.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,y.jsx)(b.In,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,y.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,y.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,y.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,y.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,j.gl)(e.price,e.originalPrice),"%"]})]}):(0,y.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,y.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,y.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,y.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,y.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,y.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,y.jsx)("div",{className:"text-gray-700",children:"• Kh\xf4ng giới hạn bản đồ"}),e.featured&&(0,y.jsx)("div",{className:"text-gray-700",children:"• Template Premium"})]}),(0,y.jsxs)("button",{onClick:function(){return i(e.ctaLink+"&upgradeSource=map-limit")},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]})]})]})})})})]})})};var w=n(62497),k=n(73555),N=n(4422),A=n(45503),C=n(60501),S=n(50253),O=n(67345),T=n(83240),D=n(71582);let E=function(e){var t=e.visible,n=e.onClose,r=e.onUpgrade,a=e.currentPlan;return(0,y.jsx)(A.A,{centered:!0,title:(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(D.A,{className:"text-yellow-500 mr-2"}),(0,y.jsx)("span",{children:"Album ảnh | Premium Feature"})]}),open:t,onCancel:n,footer:null,width:600,className:"photo-gallery-upgrade-modal",children:(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsx)("div",{className:"text-center",children:(0,y.jsx)("p",{className:"text-gray-600 mt-4 text-sm",children:"Tạo album ảnh chuy\xean nghiệp với khả năng hiển thị nhiều ảnh trong c\xf9ng một gallery. Người xem c\xf3 thể click v\xe0o từng ảnh để xem ph\xf3ng to v\xe0 cuộn qua c\xe1c ảnh một c\xe1ch mượt m\xe0."})}),(0,y.jsx)(C.A,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:(0,y.jsx)("div",{className:"text-center",children:(0,y.jsx)("div",{className:"rounded-lg overflow-hidden shadow-lg",children:(0,y.jsx)("video",{src:"".concat(c.A.CDN_URL,"/assets/plugins/photo-gallery.webm"),autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto",style:{maxHeight:"400px"},children:"Tr\xecnh duyệt của bạn kh\xf4ng hỗ trợ video."})})})}),(0,y.jsx)(C.A,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"font-semibold text-orange-700",children:["G\xf3i hiện tại: ","free"===(void 0===a?"free":a)?"Free":"Basic"]}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:"Cần n\xe2ng cấp l\xean Premium để sử dụng"})]}),(0,y.jsxs)("div",{className:"text-right",children:[(0,y.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Y\xeau cầu:"}),(0,y.jsx)(S.A,{color:"purple",className:"text-sm",children:"Premium"})]})]})}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Sẵn s\xe0ng n\xe2ng cấp?"}),(0,y.jsxs)(O.A,{size:"middle",children:[(0,y.jsx)(T.Ay,{onClick:n,children:"Để sau"}),(0,y.jsx)(T.Ay,{type:"primary",icon:(0,y.jsx)(D.A,{}),onClick:r,className:"bg-gradient-to-r from-purple-500 to-pink-500 border-none",children:"N\xe2ng cấp Premium"})]})]})]})})};var R=n(24597),I=n(69834);let P=function(e){var t=e.visible,n=e.onClose,r=e.onUpgrade,a=e.currentPlan;return(0,y.jsx)(A.A,{centered:!0,title:(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(D.A,{className:"text-yellow-500 mr-2"}),(0,y.jsx)("span",{children:"Video YouTube | Premium Feature"})]}),open:t,onCancel:n,footer:null,width:600,className:"youtube-embed-upgrade-modal",children:(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsx)("div",{className:"text-center",children:(0,y.jsx)("p",{className:"text-gray-600 mt-4 text-sm",children:"Nh\xfang video YouTube trực tiếp v\xe0o trang của bạn. Người xem c\xf3 thể xem video ngay trong thiệp mời m\xe0 kh\xf4ng cần rời khỏi trang. T\xednh năng ho\xe0n hảo để chia sẻ kỷ niệm, th\xf4ng điệp hoặc video giới thiệu."})}),(0,y.jsxs)("div",{className:"relative rounded-lg overflow-hidden shadow-lg border border-red-200",style:{minHeight:"250px"},children:[(0,y.jsx)("video",{src:"".concat(c.A.CDN_URL,"/assets/plugins/youtube-embed.webm"),autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{filter:"blur(1px)",zIndex:0},children:"Tr\xecnh duyệt của bạn kh\xf4ng hỗ trợ video."}),(0,y.jsx)("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(255, 0, 0, 0.1) 0%, rgba(255, 105, 180, 0.1) 100%)",zIndex:1}}),(0,y.jsx)("div",{className:"relative text-center p-8 flex items-center justify-center",style:{minHeight:"250px",zIndex:2},children:(0,y.jsxs)("div",{children:[(0,y.jsx)(R.A,{style:{fontSize:"64px",color:"#FF0000"}}),(0,y.jsxs)("div",{className:"mt-4 text-white",children:[(0,y.jsx)("div",{className:"font-semibold text-lg mb-2 drop-shadow-lg",children:"T\xednh năng bao gồm:"}),(0,y.jsxs)("div",{className:"space-y-2 text-sm text-left max-w-xs mx-auto",children:[(0,y.jsxs)("div",{className:"flex items-start",children:[(0,y.jsx)(I.A,{className:"text-green-400 mr-2 mt-1 drop-shadow-lg"}),(0,y.jsx)("span",{className:"drop-shadow-lg",children:"Nh\xfang video YouTube bất kỳ"})]}),(0,y.jsxs)("div",{className:"flex items-start",children:[(0,y.jsx)(I.A,{className:"text-green-400 mr-2 mt-1 drop-shadow-lg"}),(0,y.jsx)("span",{className:"drop-shadow-lg",children:"Tự động ph\xe1t video khi tải trang"})]}),(0,y.jsxs)("div",{className:"flex items-start",children:[(0,y.jsx)(I.A,{className:"text-green-400 mr-2 mt-1 drop-shadow-lg"}),(0,y.jsx)("span",{className:"drop-shadow-lg",children:"T\xf9y chỉnh k\xedch thước v\xe0 vị tr\xed"})]}),(0,y.jsxs)("div",{className:"flex items-start",children:[(0,y.jsx)(I.A,{className:"text-green-400 mr-2 mt-1 drop-shadow-lg"}),(0,y.jsx)("span",{className:"drop-shadow-lg",children:"T\xf9y chỉnh giao diện v\xe0 hiệu ứng"})]})]})]})]})})]}),(0,y.jsx)(C.A,{className:"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"font-semibold text-orange-700",children:["G\xf3i hiện tại: ","free"===(void 0===a?"free":a)?"Free":"Basic"]}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:"Cần n\xe2ng cấp l\xean Premium để sử dụng"})]}),(0,y.jsxs)("div",{className:"text-right",children:[(0,y.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Y\xeau cầu:"}),(0,y.jsx)(S.A,{color:"purple",className:"text-sm",children:"Premium"})]})]})}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Sẵn s\xe0ng n\xe2ng cấp?"}),(0,y.jsxs)(O.A,{size:"middle",children:[(0,y.jsx)(T.Ay,{onClick:n,children:"Để sau"}),(0,y.jsx)(T.Ay,{type:"primary",icon:(0,y.jsx)(D.A,{}),onClick:r,className:"bg-gradient-to-r from-purple-500 to-pink-500 border-none",children:"N\xe2ng cấp Premium"})]})]})]})})};var B=n(17808),z=n(89862),_="".concat(c.A.CDN_URL,"/assets/plugins/map.png"),F="".concat(c.A.CDN_URL,"/assets/plugins/calendar.png"),L="".concat(c.A.CDN_URL,"/assets/plugins/countdown.png"),M="".concat(c.A.CDN_URL,"/assets/plugins/telephone.png"),H="".concat(c.A.CDN_URL,"/assets/plugins/form.png"),U="".concat(c.A.CDN_URL,"/assets/plugins/text-box.png"),K="".concat(c.A.CDN_URL,"/assets/plugins/gift-box.png");c.A.CDN_URL;var W="".concat(c.A.CDN_URL,"/assets/plugins/love-letter.png"),X="".concat(c.A.CDN_URL,"/assets/plugins/photo-gallery.png"),G="".concat(c.A.CDN_URL,"/assets/plugins/video.png");let Y=function(e){var t,n,i=e.isMobile,c=void 0!==i&&i,f=e.onClose,g=(0,s.hG)(),b=g.connectors.create,j=g.actions,A=g.query,C=(0,m.useSession)().data,S=(null==C||null==(t=C.user)?void 0:t.plan)||"free",O=(null==C||null==(n=C.user)?void 0:n.role)==="partner",T=(0,a.useState)(!1),D=T[0],R=T[1],I=(0,a.useState)(!1),Y=I[0],q=I[1],V=(0,a.useState)(!1),Q=V[0],Z=V[1],J=(0,a.useState)(!1),$=J[0],ee=J[1],et=(0,a.useRef)(0),en=(0,a.useRef)(0),er=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width));et.current=Math.round(Math.min(Math.max(a,0),n.height)),en.current=i}},ea=function(e,t,n){if(!O){if(4===n&&"free"===S&&Object.values(A.getNodes()).some(function(e){var t,n,r;return(null==(t=e.data)?void 0:t.name)==="UnifiedMap"||(null==(n=e.data)?void 0:n.name)==="PluginMap"||(null==(r=e.data)?void 0:r.name)==="PluginSimpleMap"}))return void R(!0);if(7===n&&"premium"!==S)return void q(!0);if(11===n&&"premium"!==S)return void Z(!0)}if(12===n&&"premium"!==S)return void ee(!0);var i=document.getElementById("root-page-container"),o=document.getElementById("main-scroll-container");if(i&&o){var s=o.scrollTop,l=i.getBoundingClientRect().width,d=A.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,r.A)(d.map(function(e){return A.node(e).get().data.props.zIndex||0}))));var p=A.createNode(a.createElement(e,{top:Math.round(s+window.innerHeight/2-150),left:Math.round(l/2-t/2),zIndex:0==u?0:u+1}));j.add(p,"ROOT"),j.selectNode(p.id),c&&f&&f()}},ei=[{id:1,thumbnail:F,title:"Lịch",element:l.a,initWidth:d.bv.calendarWidth},{id:2,thumbnail:L,title:"Đếm ngược",element:u.T,initWidth:d.bv.countdownWidth},{id:4,thumbnail:_,title:"Bản đồ",element:h.L,initWidth:d.bv.mapWidth},{id:5,thumbnail:M,title:"N\xfat gọi",element:p.i,initWidth:d.bv.phoneButtonWidth},{id:6,thumbnail:H,title:"Form x\xe1c nhận tham dự",element:x.w,initWidth:d.bv.formWidth},{id:7,thumbnail:U,title:"T\xean kh\xe1ch mời tự động",element:w.R,initWidth:d.bv.textWidth,isPremium:!0},{id:8,thumbnail:K,title:"QR Box",element:B.q,initWidth:100,isPremium:!0},{id:10,thumbnail:W,title:"Hiệu ứng phong b\xec thư",element:z.fQ,initWidth:d.bv.initPluginWidth,isPremium:!0},{id:11,thumbnail:X,title:"Album ảnh",element:z.Ah,initWidth:d.bv.photoGalleryWidth,isPremium:!0},{id:12,thumbnail:G,title:"Video YouTube",element:z.wl,initWidth:d.bv.youtubeEmbedWidth,isPremium:!0}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{id:"plugin-list-container",className:"".concat(c?"h-[60vh]":"h-[calc(100vh-60px)]"," overflow-auto p-4 pb-24"),children:(0,y.jsx)("div",{className:"grid gap-x-3 gap-y-4 grid-cols-2",children:ei.map(function(e,t){var n=e.element;return(0,y.jsxs)("div",{className:"flex items-center p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer group flex-col relative",ref:function(t){t&&b(t,(0,y.jsx)(n,{}),{onCreate:function(t){if(4===e.id&&"free"===S){var n=Object.keys(t.nodes)[0];j.delete(n);return}if(7===e.id&&"premium"!==S){var a=Object.keys(t.nodes)[0];j.delete(a),q(!0);return}if(11===e.id&&"premium"!==S){var i=Object.keys(t.nodes)[0];j.delete(i),Z(!0);return}if(12===e.id&&"premium"!==S){var o=Object.keys(t.nodes)[0];j.delete(o),ee(!0);return}var s=A.node("ROOT").get().data.nodes||[],c=0;s.length>0&&(c=Math.max.apply(Math,(0,r.A)(s.map(function(e){return A.node(e).get().data.props.zIndex||0}))));var l=Object.keys(t.nodes)[0];j.setProp(l,function(e){e.top=et.current||0,e.left=en.current||0,e.zIndex=0==c?0:c+1})}})},draggable:!0,onClick:function(){return ea(n,e.initWidth,e.id)},onDrag:er,children:[(0,y.jsx)("div",{className:"w-10 h-10 flex items-center justify-center mb-2",children:(0,y.jsx)(o(),{unoptimized:!0,width:40,height:40,className:"object-contain w-full h-full",src:e.thumbnail,alt:"".concat(e.title," icon")})}),(0,y.jsx)("div",{className:"text-xs font-medium text-gray-700 group-hover:text-blue-600 transition-colors duration-200 text-center",children:e.title}),e.isPremium&&!O&&(0,y.jsx)(k.A,{position:"top-right",size:"md"})]},t)})})}),D&&(0,y.jsx)(v,{isOpen:D,onClose:function(){return R(!1)}}),Y&&(0,y.jsx)(N.A,{visible:Y,onClose:function(){return q(!1)},onUpgrade:function(){q(!1),window.open("/checkout/upgrade?plan=premium&upgradeSource=guest-urls","_blank")},currentPlan:S}),Q&&(0,y.jsx)(E,{visible:Q,onClose:function(){return Z(!1)},onUpgrade:function(){Z(!1),window.open("/checkout/upgrade?plan=premium&upgradeSource=photo-gallery","_blank")},currentPlan:S}),$&&(0,y.jsx)(P,{visible:$,onClose:function(){return ee(!1)},onUpgrade:function(){ee(!1),window.open("/checkout/upgrade?plan=premium&upgradeSource=youtube-embed","_blank")},currentPlan:S})]})}},25192:(e,t,n)=>{"use strict";n.d(t,{d:()=>o}),n(14232);var r=n(48871),a=n(66125),i=n(37876),o=function(e){var t=e.flipable,n=(0,a.oB)(function(e){return{propValue:{rotation:e.data.props.rotation||0,flipX:e.data.props.flipX||!1,flipY:e.data.props.flipY||!1}}}),o=n.actions.setProp,s=n.propValue,c=function(e){return function(t){o(function(n){"X"===e?n.flipX=t:n.flipY=t})}};return(0,i.jsx)("div",{children:void 0!==t&&t&&(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("label",{className:"text-sm font-medium mr-2",children:"Lật ngang:"}),(0,i.jsx)(r.A,{checked:s.flipX,onChange:c("X")})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("label",{className:"text-sm font-medium mr-2",children:"Lật dọc:"}),(0,i.jsx)(r.A,{checked:s.flipY,onChange:c("Y")})]})]})})}},25385:(e,t,n)=>{"use strict";n.d(t,{QU:()=>c});var r=n(63857),a=n(43081),i=n.n(a);n(72185);var o=n(91040),s=n(36423),c=function(){var e=(0,r.A)(i().mark(function e(){var t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(s.A.API_URL,"/categories"),e.next=4,o.A.get(t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error fetching all categories:",e.t0),e.abrupt("return",{success:!1,categories:[],message:"Kh\xf4ng thể tải danh s\xe1ch danh mục"});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},25962:(e,t,n)=>{"use strict";n.d(t,{i:()=>_});var r=n(42969),a=n(27002),i=n.n(a),o=n(14232),s=n(66125),c=n(13286),l=n(37876);let d=function(e){var t=e.color,n=e.fontSize,r=e.fontFamily,a=e.phoneNumber,o=e.buttonText,c=e.showIcon,d=e.iconSize,u=e.iconColor,p=(0,s.hG)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,l.jsxs)("div",{style:{width:"100%",height:"100%"},className:"jsx-1005507239",children:[(0,l.jsxs)("button",{onClick:function(e){!p&&(e.preventDefault(),e.stopPropagation(),a&&(window.location.href="tel:".concat(a)))},style:{color:t,fontSize:"".concat(n,"px"),fontFamily:r,width:"100%",height:"100%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",textDecoration:"none",position:"relative"},className:"jsx-1005507239 phone-button",children:[c&&(0,l.jsx)("svg",{width:d,height:d,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"5px"},className:"jsx-1005507239",children:(0,l.jsx)("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z",stroke:u,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-1005507239"})}),o]}),(0,l.jsx)(i(),{id:"1005507239",children:[".phone-button.jsx-1005507239:hover{opacity:0.9;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".phone-button.jsx-1005507239:active{-webkit-transform:translateY(1px);-ms-transform:translateY(1px);transform:translateY(1px);}"]})]})};var u=n(93521),p=n(33536),x=n(96447),h=n(12448),m=n(39229),f=n(82599),g=n(15030),b=n(48371),j=function(e){var t=e.label,n=e.propName,r=e.placeholder,a=e.type,i=(0,s.oB)(function(e){return{value:e.data.props[n]}}),o=i.actions.setProp,c=i.value;return(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:t}),(0,l.jsx)("input",{type:void 0===a?"text":a,className:"w-full rounded border border-gray-300 p-2",value:c||"",onChange:function(e){return o(function(t){return t[n]=e.target.value})},placeholder:r})]})},y=n(53872),v=n(83240),w=n(48871),k=n(82642),N=n(6953),A=n(55882),C=y.A.Option,S=function(){var e=(0,s.oB)(function(e){return{iconSize:e.data.props.iconSize}}),t=e.actions.setProp,n=e.iconSize;return(0,l.jsxs)("div",{className:"jsx-1531429221 icon-size-container flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"jsx-1531429221 text-sm font-medium",children:"Icon size"}),(0,l.jsxs)("div",{className:"jsx-1531429221 flex",children:[(0,l.jsx)(v.Ay,{icon:(0,l.jsx)(k.A,{}),onClick:function(){var e=Math.max(10,n-1);t(function(t){return t.iconSize=e},1e3)},style:{borderRadius:"4px 0 0 4px",width:30,display:"flex",justifyContent:"center",alignItems:"center"}}),(0,l.jsx)(y.A,{value:n,style:{width:65},className:"icon-size-input",onChange:function(e){t(function(t){return t.iconSize=e},1e3)},children:[12,14,16,18,20,22,24,28,32].map(function(e){return(0,l.jsx)(C,{value:e,children:e},e)})}),(0,l.jsx)(v.Ay,{icon:(0,l.jsx)(N.A,{}),onClick:function(){var e=n+1;t(function(t){return t.iconSize=e},1e3)},style:{borderRadius:"0 4px 4px 0",width:30,display:"flex",justifyContent:"center",alignItems:"center"}})]}),(0,l.jsx)(i(),{id:"1531429221",children:[".icon-size-input .ant-select-selector{border-radius:0px !important;}",".icon-size-container .ant-btn.ant-btn-icon-only .anticon{font-size:15px;}",".icon-size-container .ant-select-selection-item,.icon-size-container .ant-select-item-option-content{font-size:14px;}"]})]})},O=function(){var e=(0,s.oB)(function(e){return{showIcon:e.data.props.showIcon,iconColor:e.data.props.iconColor}}),t=e.actions.setProp,n=e.showIcon,r=e.iconColor;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Hiển thị icon điện thoại"}),(0,l.jsx)(w.A,{checked:n,onChange:function(e){return t(function(t){return t.showIcon=e})}})]}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S,{}),(0,l.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u icon"}),(0,l.jsx)(A.V,{value:r,onChange:function(e){t(function(t){if(e.rgba&&e.rgba.a<1){var n;t.iconColor=(n=e.rgba)?"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(n.a,")"):""}else t.iconColor=e.hex})}})]})]})]})},T=n(33598),D=n(10881),E=n(86961),R=n(21350),I={SETUP:"Thiết lập",ICON:"Hiển thị",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z={top:10,left:10,width:130,height:40,backgroundColor:"#ff5757",color:"#ffffff",phoneNumber:"",padding:[0,0,0,0],opacity:1,rotation:0,borderRadius:[5,5,5,5],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},fontSize:16,fontFamily:"Arial",buttonText:"Gọi ngay",showIcon:!0,iconSize:16,iconColor:"#ffffff",zIndex:0,locked:!1,transition:m.l},_=function(e){var t=(0,o.useRef)(null),n=(0,o.useState)([]),r=n[0],a=n[1],u=e=B(B({},z),e),p=u.top,x=u.left,h=u.height,f=u.width,g=u.opacity,b=u.backgroundColor,j=u.color,y=u.phoneNumber,v=u.padding,w=u.borderRadius,k=u.rotation,N=u.borderPosition,A=u.borderSize,C=u.borderStyle,S=u.borderColor,O=u.hasShadow,D=u.boxShadow,E=u.fontSize,R=u.fontFamily,I=u.buttonText,P=u.showIcon,_=u.iconSize,F=u.iconColor,L=u.zIndex,M=u.locked,H=u.transition,U=(0,s.oB)(function(e){return{active:e.events.selected,id:e.id}}),K=U.connectors.connect,W=U.actions.setProp,X=U.active,G=U.id,Y=(0,s.hG)(function(e){return{enabled:e.options.enabled}}).enabled,q=H||m.l,V=(0,o.useState)(!1),Q=V[0],Z=V[1];(0,o.useEffect)(function(){if(X&&Y){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==G}))}},[X,Y,G]);var J=(0,o.useState)({width:0,height:0,left:0,top:0}),$=J[0],ee=J[1],et=(0,o.useState)(null),en=et[0],er=et[1];(0,o.useEffect)(function(){if(X&&Y){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ee({width:t.width,height:t.height,left:t.left,top:t.top}),er(e)}}},[X,Y]);var ea=function(){switch(N){case"all":return{border:"".concat(A,"px ").concat(C," ").concat(S)};case"top":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S)};case"bottom":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S)};case"right":return{borderRight:"".concat(A,"px ").concat(C," ").concat(S)};case"left":return{borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"top-bottom":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderBottom:"".concat(A,"px ").concat(C," ").concat(S)};case"right-left":return{borderRight:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"upper-left":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"upper-right":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderRight:"".concat(A,"px ").concat(C," ").concat(S)};case"lower-left":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"lower-right":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S),borderRight:"".concat(A,"px ").concat(C," ").concat(S)};default:return{}}}(),ei=O?"".concat(D.offsetX,"px ").concat(D.offsetY,"px ").concat(D.blur,"px ").concat(D.spread,"px ").concat(D.color):"none";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:function(e){e&&!M&&K(e),t.current=e},style:{width:"".concat(f,"px"),height:"".concat(h,"px"),position:"absolute",top:"".concat(p,"px"),left:"".concat(x,"px"),transform:"rotate(".concat(k,"deg)"),zIndex:L,cursor:Y?"move":"default"},"data-node-id":G,className:"jsx-2488970344 phone-button-container",children:(0,l.jsx)(T.A,{transition:q,targetRef:t,enabled:Y,nodeId:G,onTransitionStart:function(){Z(!0)},onTransitionEnd:function(){Z(!1)},children:(0,l.jsx)("div",{style:B({width:"100%",height:"100%",position:"relative",opacity:g,borderRadius:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px"),boxShadow:ei,backgroundColor:b,padding:"".concat(v[0],"px ").concat(v[1],"px ").concat(v[2],"px ").concat(v[3],"px"),display:"flex",justifyContent:"center",alignItems:"center"},ea),className:"jsx-2488970344",children:(0,l.jsx)(d,{color:j,fontSize:E,fontFamily:R,phoneNumber:y,buttonText:I,showIcon:P,iconSize:_,iconColor:F})})})}),t.current&&X&&Y&&!Q&&(0,l.jsx)(c.A,{target:t.current,container:en,otherElements:r,containerBounds:$,currentProps:{top:p,left:x,width:f,height:h,rotation:k,flipX:!1,flipY:!1,locked:M},onUpdateProps:function(e){W(function(t){Object.assign(t,e)})}}),(0,l.jsx)(i(),{id:"2488970344",children:[".phone-button-container:hover{z-index:9999999 !important;}"]})]})};_.craft={displayName:"Phone Button",props:z,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsxs)(f.rk,{defaultOpen:!0,title:"Thiết lập n\xfat gọi",children:[(0,l.jsx)(j,{label:"Số điện thoại",propName:"phoneNumber",placeholder:"Nhập số điện thoại",type:"tel"}),(0,l.jsx)(j,{label:"Nội dung n\xfat",propName:"buttonText",placeholder:"Nội dung n\xfat",type:"text"}),(0,l.jsx)("hr",{}),(0,l.jsx)(O,{}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"M\xe0u sắc n\xfat"}),(0,l.jsx)(u.O,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,l.jsx)(g.H,{}),(0,l.jsx)(b.e,{}),(0,l.jsx)(h.x,{})]}),(0,l.jsx)(f.rk,{title:"Đường viền",children:(0,l.jsx)(p.x,{})}),(0,l.jsx)(f.rk,{title:"Đổ b\xf3ng",children:(0,l.jsx)(x.G,{})}),(0,l.jsx)(f.rk,{title:"Hiệu ứng chuyển động",children:(0,l.jsx)(m.i,{})})]})},mobileToolbar:function(){var e=(0,o.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(D.A,{icon:(0,l.jsx)(E.E89,{size:20}),label:I.SETUP,onClick:function(){return r(I.SETUP)}}),(0,l.jsx)(D.A,{icon:(0,l.jsx)(E.NyH,{size:20}),label:I.ICON,onClick:function(){return r(I.ICON)}}),(0,l.jsx)(D.A,{icon:(0,l.jsx)(E.lKm,{size:20}),label:I.BORDER,onClick:function(){return r(I.BORDER)}}),(0,l.jsx)(D.A,{icon:(0,l.jsx)(E.elE,{size:20}),label:I.BOX_SHADOW,onClick:function(){return r(I.BOX_SHADOW)}}),(0,l.jsx)(D.A,{icon:(0,l.jsx)(E.Vt5,{size:20}),label:I.TRANSITION,onClick:function(){return r(I.TRANSITION)}}),(0,l.jsx)(R.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,l.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,l.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,l.jsx)("div",{className:"setting-content",children:function(){switch(t){case I.SETUP:return(0,l.jsxs)("div",{className:"py-2",children:[(0,l.jsx)(j,{label:"Số điện thoại",propName:"phoneNumber",placeholder:"Nhập số điện thoại",type:"tel"}),(0,l.jsx)(j,{label:"Nội dung n\xfat",propName:"buttonText",placeholder:"Nội dung n\xfat",type:"text"}),(0,l.jsx)(g.H,{}),(0,l.jsx)(b.e,{}),(0,l.jsx)(h.x,{})]});case I.ICON:return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(O,{}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"M\xe0u sắc n\xfat"}),(0,l.jsx)(u.O,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]})]});case I.BORDER:return(0,l.jsx)(p.x,{});case I.BOX_SHADOW:return(0,l.jsx)(x.G,{});case I.TRANSITION:return(0,l.jsx)(m.i,{});default:return(0,l.jsx)(l.Fragment,{})}}()})})]})})]})}}}},26462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(14232),a=n(35071),i=n(83240),o=n(50253),s=n(98594),c=n(19471),l=n(37876),d=function(e){var t,n,d,u,p,x,h,m,f=e.pageData,g=e.userPlan,b=e.className,j=e.showPlanInfo,y=void 0===j||j,v=(0,r.useState)(!1),w=v[0],k=v[1];return null!=f&&f.expirationDate?(t=new Date(f.createdAt),n=new Date(f.expirationDate),d=new Date,u=Math.ceil((n.getTime()-t.getTime())/864e5),p=Math.max(0,Math.ceil((n.getTime()-d.getTime())/864e5)),x=Math.min(100,Math.min(u,Math.max(0,Math.ceil((d.getTime()-t.getTime())/864e5)))/u*100),h=p<=("free"===g?30:"basic"===g?90:365),m=0===p,(0,l.jsxs)("div",{className:"space-y-3 ".concat(void 0===b?"":b),children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(a.A,{status:m?"error":h?"warning":"processing"}),(0,l.jsx)("span",{className:m?"text-red-600 font-medium":h?"text-orange-500 font-medium":"premium"===g?"text-green-500 font-medium":"basic"===g?"text-blue-500 font-medium":"text-yellow-500 font-medium",children:m?"Đ\xe3 hết hạn":"C\xf2n ".concat(p," ng\xe0y")})]}),(0,l.jsxs)("span",{className:"text-gray-500",children:[Math.round(x),"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:(0,l.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(m?"bg-red-500":h?"bg-orange-500":"premium"===g?"bg-green-500":"basic"===g?"bg-blue-500":"bg-yellow-500"),style:{width:"".concat(x,"%")}})}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Ng\xe0y tạo: ",t.toLocaleDateString("vi-VN")]}),(0,l.jsxs)("span",{children:["Hết hạn: ",n.toLocaleDateString("vi-VN")]})]})]}),(0,l.jsxs)("div",{className:"mt-3 flex items-start gap-3 bg-gray-50 rounded-lg p-3 border border-gray-100",children:[y&&(0,l.jsx)("div",{className:"text-amber-500 mt-0.5",children:(0,l.jsx)(s.In,{icon:"solar:bell-bold",className:"text-lg"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-sm text-gray-700",children:m?"Trang web đ\xe3 hết hạn. Nhấn n\xfat b\xean dưới để xem c\xe1c t\xf9y chọn gia hạn.":h?"Trang web sắp hết hạn! H\xe3y gia hạn ngay để tr\xe1nh gi\xe1n đoạn.":"free"===g?"Với g\xf3i Free, trang web sẽ c\xf3 thời hạn 6 th\xe1ng kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn.":"basic"===g?"Với g\xf3i Basic, trang web sẽ c\xf3 thời hạn 2 năm kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn.":"Với g\xf3i Premium, trang web sẽ c\xf3 thời hạn 5 năm kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn."}),(m||h||"premium"!==g)&&(0,l.jsx)("div",{className:"flex gap-2 mt-3",children:(0,l.jsx)(i.Ay,{type:"primary",size:"small",className:m||h?"bg-red-500 hover:bg-red-600 border-red-500":"free"===g?"bg-blue-500 hover:bg-blue-600 border-blue-500":"bg-orange-500 hover:bg-orange-600 border-orange-500",onClick:function(){return k(!0)},children:m?"Gia hạn ngay":h?"Gia hạn trang":"Xem c\xe1c g\xf3i"})}),"premium"===g&&(m||h)&&(0,l.jsx)("div",{className:"flex gap-2 mt-3",children:(0,l.jsx)(i.Ay,{type:"primary",size:"small",className:"bg-green-500 hover:bg-green-600 border-green-500",onClick:function(){return k(!0)},children:"Gia hạn trang web"})})]})]}),y&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("span",{className:"text-sm sm:text-base",children:"G\xf3i hiện tại"}),(0,l.jsx)(o.A,{className:"uppercase",color:"free"===g?"warning":"basic"===g?"blue":"green",children:g})]}),"premium"!==g&&(0,l.jsxs)(i.Ay,{type:"link",size:"small",className:"text-xs sm:text-xs text-blue-500 hover:text-blue-600 p-0 h-auto flex items-center self-start sm:self-auto min-h-[32px] sm:min-h-auto",onClick:function(){return window.open("/pricing-plans?upgradeSource=time-extension-".concat(m?"expired":h?"expiring-soon":"upgrade"),"_blank")},children:[(0,l.jsx)(s.In,{icon:"solar:arrow-up-bold",className:"text-xs mr-0.5"}),"N\xe2ng cấp"]}),"premium"===g&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs sm:text-xs text-green-600 self-start sm:self-auto",children:[(0,l.jsx)(s.In,{icon:"solar:star-bold",className:"text-sm"}),(0,l.jsx)("span",{children:"G\xf3i cao nhất"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-2 pt-3 sm:pt-2 border-t border-gray-100",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)(s.In,{icon:"solar:clock-circle-bold",className:"text-green-500"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Gia hạn thời gian"})]}),(0,l.jsxs)(i.Ay,{type:"link",size:"small",className:"text-xs sm:text-xs text-green-600 hover:text-green-700 p-0 h-auto flex items-center self-start sm:self-auto min-h-[32px] sm:min-h-auto",onClick:function(){return k(!0)},children:[(0,l.jsx)(s.In,{icon:"solar:calendar-add-bold",className:"text-xs mr-0.5"}),"Gia hạn"]})]})]}),(0,l.jsx)(c.A,{isOpen:w,onClose:function(){return k(!1)},currentPlan:g,expirationDate:f.expirationDate,isExpired:m,isExpiringSoon:h,daysLeft:p,openInNewTab:!0})]})):null}},27036:(e,t,n)=>{"use strict";n.d(t,{A:()=>c}),n(14232);var r=n(83240),a=n(42510),i=n(5246),o=n(56376),s=n(37876);let c=function(e){var t=e.isLoading,n=e.onExport,c=e.buttonText,l=e.isTemplate,d=void 0!==l&&l,u=e.pageId,p=(0,o.v)(),x=p.showVerification,h=p.checkAndOpenVerification,m=p.closeVerification,f=p.handleVerificationSuccess;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Ay,{color:"primary",type:"primary",onClick:function(){if(u&&!d)return void n();h()||n()},loading:t,icon:(0,s.jsx)(a.A,{}),children:c||(u&&!d?"Lưu":"Xuất bản")}),(0,s.jsx)(i.A,{visible:x,onClose:m,onSuccess:function(){return f(n)},submitText:"Xuất bản",loading:t})]})}},27484:(e,t,n)=>{"use strict";n.d(t,{A:()=>ej});var r=n(27002),a=n.n(r),i=n(14232),o=n(73301),s=n(1440),c=n(29916),l=n(54587),d=n.n(l),u=n(73555),p=n(37876);let x=function(e){var t=e.effect,n=e.isSelected,r=void 0!==n&&n,o=e.onClick,s=e.isMobile,c=void 0!==s&&s,l=(0,i.useState)(!1),x=l[0],h=l[1],m=(0,i.useRef)(null);return(0,i.useEffect)(function(){c&&m.current&&t.videoUrl&&x&&m.current.play()},[c,x,t.videoUrl]),(0,p.jsxs)("div",{className:"jsx-1714539663 effect-card",children:[(0,p.jsxs)("div",{onClick:function(){o&&o(t)},onMouseEnter:function(){!c&&m.current&&t.videoUrl&&m.current.play()},onMouseLeave:function(){!c&&m.current&&t.videoUrl&&(m.current.pause(),m.current.currentTime=0)},className:"jsx-1714539663 "+"effect-container ".concat(r?"selected":""),children:[(0,p.jsx)(u.A,{position:"top-left",size:"sm"}),(0,p.jsxs)("div",{className:"jsx-1714539663 image-container",children:[t.videoUrl?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("video",{ref:m,muted:!0,loop:!0,playsInline:!0,onLoadedData:function(){setTimeout(function(){h(!0)},1e3)},style:{display:x?"block":"none"},className:"jsx-1714539663 effect-video",children:[(0,p.jsx)("source",{src:t.videoUrl,type:"video/webm",className:"jsx-1714539663"}),"Your browser does not support the video tag."]}),!x&&(0,p.jsx)(d(),{unoptimized:!0,src:t.thumbnailUrl,alt:t.name,fill:!0,sizes:"(max-width: 576px) 50vw, (max-width: 768px) 33vw, 25vw",className:"effect-image",loading:"lazy"})]}):(0,p.jsx)(d(),{unoptimized:!0,src:t.thumbnailUrl,alt:t.name,fill:!0,sizes:"(max-width: 576px) 50vw, (max-width: 768px) 33vw, 25vw",className:"effect-image",loading:"lazy"}),r&&(0,p.jsx)("div",{className:"jsx-1714539663 selected-badge",children:(0,p.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-1714539663",children:(0,p.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"currentColor",className:"jsx-1714539663"})})})]}),(0,p.jsxs)("div",{className:"jsx-1714539663 effect-footer",children:[(0,p.jsx)("span",{className:"jsx-1714539663 effect-title",children:t.name}),(0,p.jsxs)("span",{className:"jsx-1714539663 effect-duration",children:[t.duration,"s"]})]})]}),(0,p.jsx)(a(),{id:"1714539663",children:[".effect-card.jsx-1714539663{width:100%;border-radius:8px;background:#fff;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}",".effect-container.jsx-1714539663{position:relative;cursor:pointer;border:2px solid transparent;border-radius:8px;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;background:#fff;}",".effect-container.jsx-1714539663:hover{-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.15);}",".effect-container.selected.jsx-1714539663{box-shadow:0 4px 12px rgba(24,144,255,0.2);}",".image-container.jsx-1714539663{position:relative;width:100%;overflow:hidden;border-radius:6px 6px 0 0;aspect-ratio:9/16;}",".effect-image.jsx-1714539663,.effect-video.jsx-1714539663{object-fit:cover;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;width:100%;height:100%;}",".effect-container.jsx-1714539663:hover .effect-image.jsx-1714539663,.effect-container.jsx-1714539663:hover .effect-video.jsx-1714539663{-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}",".effect-overlay.jsx-1714539663{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient( to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.6) 100% );opacity:0;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding:12px;}",".effect-container.jsx-1714539663:hover .effect-overlay.jsx-1714539663{opacity:1;}",".effect-info.jsx-1714539663{color:white;width:100%;}",".effect-name.jsx-1714539663{font-size:14px;font-weight:600;margin:0 0 4px 0;line-height:1.2;}",".effect-duration.jsx-1714539663{font-size:11px;color:#8c8c8c;}",".video-indicator.jsx-1714539663{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:4px;font-size:11px;opacity:0.9;background:rgba(0,0,0,0.5);padding:2px 6px;border-radius:4px;margin-top:4px;}",".selected-badge.jsx-1714539663{position:absolute;top:8px;right:8px;width:24px;height:24px;background:#1890ff;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:white;box-shadow:0 2px 8px rgba(24,144,255,0.3);}",".effect-footer.jsx-1714539663{padding:8px 12px;background:#fafafa;border-top:1px solid #f0f0f0;}",".effect-title.jsx-1714539663{display:block;font-size:12px;font-weight:500;color:#262626;line-height:1.2;margin-bottom:2px;overflow:hidden;text-overflow:ellipsis;white-space:wrap;}","@media (max-width:768px){.image-container.jsx-1714539663{aspect-ratio:9/16;}.effect-footer.jsx-1714539663{padding:6px 8px;}.effect-title.jsx-1714539663{font-size:11px;}.effect-overlay.jsx-1714539663{padding:8px;}.effect-name.jsx-1714539663{font-size:12px;}.effect-duration.jsx-1714539663{font-size:10px;}.video-indicator.jsx-1714539663{font-size:10px;}}"]})]})};var h=n(81495),m=n(36423),f=n(733),g=n(27925),b=n(90916),j=n(45503),y=n(83240),v=n(78972),w=n(44478),k=n(63857),N=n(43081),A=n.n(N),C=n(39385),S=n(40673),O=n(16825),T=n(34007),D=n(10553),E=C.A.TabPane,R=[{id:"24bebbc90bc64fe3952b44881c3be849",imgKey:"resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"},{id:"694f2494535443aa96ab2f8cbf4d06bf",imgKey:"resources/characters/694f2494535443aa96ab2f8cbf4d06bf.gif"},{id:"804e975d4ce943ceb59eaef61f6f1e8d",imgKey:"resources/characters/804e975d4ce943ceb59eaef61f6f1e8d.gif"},{id:"c75adf6d5f824943954f73aa10deb85b",imgKey:"resources/characters/c75adf6d5f824943954f73aa10deb85b.gif"}];let I=function(e){var t,n=e.value,r=e.onChange,l=(0,i.useState)([]),u=l[0],x=l[1],h=(0,i.useState)(!1),f=h[0],g=h[1],b=(0,i.useState)(n),j=b[0],y=b[1],v=(0,D.useSession)().data,N=null!=n&&n.includes("/uploads/")?"user-photos":"materials";(0,i.useEffect)(function(){var e;(e=(0,k.A)(A().mark(function e(){var t,n;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,(null==v||null==(t=v.user)?void 0:t.role)!=="partner"){e.next=10;break}return e.next=6,(0,T.w0)();case 6:n=e.sent.map(function(e){return{fileSize:e.fileSize,fileKey:e.fileKey,fileId:e.fileId,createdAt:e.createdAt}}),e.next=13;break;case 10:return e.next=12,(0,O.bl)();case 12:n=e.sent;case 13:x((0,w.A)(n).sort(function(e,t){return new Date(t.createdAt||0).getTime()-new Date(e.createdAt||0).getTime()})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Failed to fetch user photos:",e.t0),o.Ay.error("Kh\xf4ng thể tải danh s\xe1ch ảnh của bạn");case 21:return e.prev=21,g(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[1,17,21,24]])})),function(){return e.apply(this,arguments)})()},[null==v||null==(t=v.user)?void 0:t.role]);var I=function(e){y(e),null==r||r(e)};return(0,p.jsxs)("div",{className:"jsx-3577583500 image-selector",children:[(0,p.jsxs)(C.A,{defaultActiveKey:N,size:"small",children:[(0,p.jsx)(E,{tab:(0,p.jsx)("span",{className:"jsx-3577583500",children:"Ảnh c\xf3 sẵn"}),children:(0,p.jsx)("div",{className:"jsx-3577583500 materials-section",children:(0,p.jsx)("div",{className:"jsx-3577583500 image-grid",children:R.map(function(e){var t,n=(t=e.imgKey,"".concat(m.A.CDN_URL,"/").concat(t));return(0,p.jsx)("div",{onClick:function(){return I(n)},className:"jsx-3577583500 "+"image-item ".concat(j===n?"selected":""),children:(0,p.jsx)(d(),{unoptimized:!0,src:n,alt:"Material ".concat(e.id),width:80,height:80,objectFit:"cover"})},e.id)})})})},"materials"),(0,p.jsx)(E,{tab:(0,p.jsx)("span",{className:"jsx-3577583500",children:"Ảnh của bạn"}),children:(0,p.jsx)("div",{className:"jsx-3577583500 user-photos-section",children:f?(0,p.jsxs)("div",{className:"jsx-3577583500 loading-container",children:[(0,p.jsx)(s.A,{size:"large"}),(0,p.jsx)("p",{className:"jsx-3577583500",children:"Đang tải ảnh của bạn..."})]}):u.length>0?(0,p.jsx)("div",{className:"jsx-3577583500 image-grid",children:u.map(function(e){var t=(0,S.T_)(e.fileKey);return(0,p.jsx)("div",{onClick:function(){return I(t)},className:"jsx-3577583500 "+"image-item ".concat(j===t?"selected":""),children:(0,p.jsx)(d(),{unoptimized:!0,src:(0,S.$W)(e.fileKey,200),alt:"User photo ".concat(e.fileId),width:80,height:80,objectFit:"cover"})},e.fileId)})}):(0,p.jsx)(c.A,{description:"Bạn chưa c\xf3 ảnh n\xe0o",image:c.A.PRESENTED_IMAGE_SIMPLE})})},"user-photos")]}),(0,p.jsx)(a(),{id:"3577583500",children:[".image-selector.jsx-3577583500{width:100%;}",".image-grid.jsx-3577583500{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;max-height:300px;overflow-y:auto;padding:8px;}",".image-item.jsx-3577583500{position:relative;border:2px solid transparent;border-radius:8px;cursor:pointer;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".image-item.jsx-3577583500:hover{border-color:#1890ff;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}",".image-item.selected.jsx-3577583500{border-color:#1890ff;box-shadow:0 0 0 2px rgba(24,144,255,0.2);}",".image-item.jsx-3577583500 img.jsx-3577583500{border-radius:6px;width:100%;height:100%;object-fit:cover;}",".loading-container.jsx-3577583500{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:40px 0;color:#8c8c8c;}",".loading-container.jsx-3577583500 p.jsx-3577583500{margin-top:12px;font-size:14px;}","@media (max-width:768px){.image-grid.jsx-3577583500{grid-template-columns:repeat(4,1fr);gap:6px;padding:6px;}.image-item.jsx-3577583500{width:50px;}}","@media (max-width:480px){.image-grid.jsx-3577583500{grid-template-columns:repeat(4,1fr);gap:4px;padding:4px;}.image-item.jsx-3577583500{width:45px;}}"]})]})},P=function(e){var t=e.visible,n=e.effect,r=e.onCancel,o=e.onConfirm,s=e.currentTitle,c=void 0===s?"":s,l=e.currentSubtitle,d=void 0===l?"":l,u=e.currentImageUrl,x=void 0===u?"":u,h=e.currentDuration,m=void 0===h?5:h,f=b.A.useForm(),w=(0,g.A)(f,1)[0],k=(0,i.useState)(c),N=k[0],A=k[1],C=(0,i.useState)(d),S=C[0],O=C[1],T=(0,i.useState)(x),D=T[0],E=T[1],R=(0,i.useState)(m),P=R[0],B=R[1];(0,i.useEffect)(function(){t&&(A(c),O(d),E(x),B(m),w.setFieldsValue({title:c,subtitle:d,duration:m}))},[t,c,d,x,m,w]);var z=function(){w.resetFields(),r()};return(0,p.jsxs)(j.A,{title:"Cấu h\xecnh hiệu ứng Animated Image",open:t,onCancel:z,footer:[(0,p.jsx)(y.Ay,{onClick:z,children:"Hủy"},"cancel"),(0,p.jsx)(y.Ay,{type:"primary",onClick:function(){w.validateFields().then(function(e){n&&o(n,e.title,e.subtitle,D,e.duration)})},children:"X\xe1c nhận"},"confirm")],width:600,destroyOnClose:!0,children:[(0,p.jsxs)(b.A,{form:w,layout:"vertical",initialValues:{title:N,subtitle:S},children:[(0,p.jsx)(b.A.Item,{label:"Ti\xeau đề ch\xednh",name:"title",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề ch\xednh"},{max:40,message:"Ti\xeau đề kh\xf4ng được qu\xe1 40 k\xfd tự"}],children:(0,p.jsx)(v.A,{placeholder:"Nhập ti\xeau đề ch\xednh (VD: Wedding Day)",value:N,onChange:function(e){return A(e.target.value)},maxLength:50,showCount:!0})}),(0,p.jsx)(b.A.Item,{label:"Ti\xeau đề phụ",name:"subtitle",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề phụ"},{max:60,message:"Ti\xeau đề phụ kh\xf4ng được qu\xe1 60 k\xfd tự"}],children:(0,p.jsx)(v.A.TextArea,{placeholder:"Nhập ti\xeau đề phụ (VD: Xin mời xem thiệp cưới của ch\xfang m\xecnh nha)",value:S,onChange:function(e){return O(e.target.value)},maxLength:60,showCount:!0,rows:2})}),(0,p.jsx)(b.A.Item,{label:"Thời gian hiển thị (gi\xe2y)",name:"duration",rules:[{required:!0,message:"Vui l\xf2ng nhập thời gian hiển thị"}],children:(0,p.jsx)(v.A,{type:"number",placeholder:"Nhập thời gian hiển thị (VD: 5)",value:P,onChange:function(e){return B(Number(e.target.value))},min:1,max:10,addonAfter:"gi\xe2y"})}),(0,p.jsx)(b.A.Item,{label:"Chọn ảnh",required:!0,children:(0,p.jsx)(I,{value:D,onChange:function(e){E(e)}})}),(0,p.jsxs)("div",{className:"jsx-1616491144 preview-section",children:[(0,p.jsx)("h4",{className:"jsx-1616491144",children:"Xem trước:"}),(0,p.jsxs)("div",{className:"jsx-1616491144 preview-content",children:[(0,p.jsx)("div",{className:"jsx-1616491144 preview-text",children:(0,p.jsx)("div",{className:"jsx-1616491144 preview-title",children:N||"Ti\xeau đề ch\xednh"})}),(0,p.jsx)("div",{className:"jsx-1616491144 preview-image-container",children:D?(0,p.jsx)("img",{src:D,alt:"Preview",className:"jsx-1616491144 preview-image"}):(0,p.jsx)("div",{className:"jsx-1616491144 no-image-placeholder",children:(0,p.jsx)("span",{className:"jsx-1616491144",children:"Chưa chọn ảnh"})})}),(0,p.jsx)("div",{className:"jsx-1616491144 preview-text",children:(0,p.jsx)("div",{className:"jsx-1616491144 preview-subtitle",children:S||"Ti\xeau đề phụ"})})]})]})]}),(0,p.jsx)(a(),{id:"1616491144",children:[".preview-section.jsx-1616491144{margin-top:20px;padding:16px;background:#f5f5f5;border-radius:8px;border:1px solid #d9d9d9;}",".preview-section.jsx-1616491144 h4.jsx-1616491144{margin:0 0 12px 0;color:#262626;font-size:14px;font-weight:600;}",".preview-content.jsx-1616491144{background:linear-gradient( 135deg, #820000 0%, #5a0000 50%, #3a0000 100% );padding:20px;border-radius:8px;text-align:center;min-height:280px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:16px;}",".preview-image-container.jsx-1616491144{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:120px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".preview-image.jsx-1616491144{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px;}",".no-image-placeholder.jsx-1616491144{width:120px;height:120px;background:rgba(255,255,255,0.1);border:2px dashed rgba(255,255,255,0.3);border-radius:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:rgba(255,255,255,0.6);font-size:12px;}",".preview-text.jsx-1616491144{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:8px;}",'.preview-title.jsx-1616491144{color:#fff;font-size:18px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,0.8);-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-family:"Playfair Display",serif;}','.preview-subtitle.jsx-1616491144{color:#fff;font-size:14px;font-weight:300;text-shadow:1px 1px 2px rgba(0,0,0,0.8);-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;font-family:"Inter",sans-serif;opacity:0.9;line-height:1.4;}',"@media (max-width:768px){.preview-content.jsx-1616491144{min-height:180px;padding:16px;}.preview-image-container.jsx-1616491144{height:100px;}.no-image-placeholder.jsx-1616491144{width:100px;height:100px;}.preview-title.jsx-1616491144{font-size:16px;}.preview-subtitle.jsx-1616491144{font-size:12px;}}"]})]})};var B="".concat(m.A.CDN_URL,"/assets/opening-effects/preview"),z=[{id:"curtain-blue",name:"Curtain Blue",duration:4,videoUrl:"".concat(B,"/curtain-reveal-blue.webm"),type:"curtain",thumbnailUrl:"".concat(B,"/curtain-reveal-blue.jpg")},{id:"curtain-pink",name:"Curtain Pink",duration:4,videoUrl:"".concat(B,"/curtain-reveal-pink.webm"),type:"curtain",thumbnailUrl:"".concat(B,"/curtain-reveal-pink.jpg")},{id:"curtain-purple",name:"Curtain Purple",duration:4,videoUrl:"".concat(B,"/curtain-reveal-purple.webm"),type:"curtain",thumbnailUrl:"".concat(B,"/curtain-reveal-purple.jpg")},{id:"curtain-yellow",name:"Curtain Yellow",duration:4,videoUrl:"".concat(B,"/curtain-reveal-yellow.webm"),type:"curtain",thumbnailUrl:"".concat(B,"/curtain-reveal-yellow.jpg")},{id:"curtain-red",name:"Curtain Red",duration:4,videoUrl:"".concat(B,"/curtain-reveal-red.webm"),type:"curtain",thumbnailUrl:"".concat(B,"/curtain-reveal-red.jpg")},{id:"animated-image-1",name:"Animated Image",duration:5,videoUrl:"".concat(B,"/animated-image-1.webm"),type:"animated-image",thumbnailUrl:"".concat(B,"/animated-image-1.jpg")}];let _=function(e){var t,n,r,l,d,g=e.isMobile,b=(0,i.useState)(z),j=b[0];b[1];var y=(0,i.useState)(!1),v=y[0];y[1];var w=(0,h.$E)(),k=w.settings,N=w.setOpeningEffect,A=(null==(t=k.openingEffect)?void 0:t.id)||null,C=(0,f.bi)().pageData,S=k.openingEffect,O=(0,i.useState)(!1),T=O[0],D=O[1],E=(0,i.useState)(null),R=E[0],I=E[1];(0,i.useEffect)(function(){null!=C&&C.openingEffect&&!S&&N(C.openingEffect)},[C]);var B=function(e){"animated-image"===e.type?(I(e),D(!0)):N({id:e.id,type:e.type,duration:e.duration})};return(0,p.jsxs)("div",{className:"jsx-4141491617 h-full",children:[(0,p.jsxs)("div",{className:"jsx-4141491617 mb-2 px-3",children:[(0,p.jsx)("div",{className:"jsx-4141491617 flex items-center justify-between mb-2 mt-2",children:(0,p.jsx)("div",{className:"jsx-4141491617 flex items-center",children:(0,p.jsxs)("h3",{className:"jsx-4141491617 text-lg font-semibold relative",children:[(0,p.jsx)("span",{className:"jsx-4141491617 pr-6",children:"Hiệu ứng mở m\xe0n"}),(0,p.jsx)(u.A,{position:"top-right",size:"sm"})]})})}),(0,p.jsx)("p",{className:"jsx-4141491617 text-sm text-gray-500",children:"Tạo ấn tượng đầu ti\xean đặc biệt với hiệu ứng mở m\xe0n khi trang web của bạn được mở."}),A&&(0,p.jsx)("button",{onClick:function(){N(null),o.Ay.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n")},className:"jsx-4141491617 text-red-500 hover:text-red-700 text-sm font-medium px-3 py-1 rounded border border-red-300 hover:border-red-500 transition-colors mt-4",children:"X\xf3a hiệu ứng"})]}),(0,p.jsx)("div",{className:"jsx-4141491617 scroll-list",children:v?(0,p.jsx)("div",{className:"jsx-4141491617 flex justify-center items-center h-64",children:(0,p.jsx)(s.A,{size:"small"})}):j.length>0?(0,p.jsx)("div",{className:"jsx-4141491617 effect-grid-container",children:(0,p.jsx)("div",{className:"jsx-4141491617 effect-grid",children:j.map(function(e){return(0,p.jsx)("div",{className:"jsx-4141491617 effect-item",children:(0,p.jsx)(x,{effect:e,isSelected:A===e.id,onClick:B,isMobile:g})},e.id)})})}):(0,p.jsx)(c.A,{description:"Kh\xf4ng t\xecm thấy hiệu ứng n\xe0o"})}),(0,p.jsx)(P,{visible:T,effect:R,onCancel:function(){D(!1),I(null)},onConfirm:function(e,t,n,r,a){N({id:e.id,type:e.type,duration:a,title:t,subtitle:n,imageUrl:r}),D(!1),I(null)},currentTitle:(null==(n=k.openingEffect)?void 0:n.title)||"Wedding Day",currentSubtitle:(null==(r=k.openingEffect)?void 0:r.subtitle)||"Xin mời xem thiệp cưới của ch\xfang m\xecnh nha",currentImageUrl:(null==(l=k.openingEffect)?void 0:l.imageUrl)||"".concat(m.A.CDN_URL,"/resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"),currentDuration:(null==(d=k.openingEffect)?void 0:d.duration)||5}),(0,p.jsx)(a(),{id:"2729513400",children:[".effect-grid-container.jsx-4141491617{padding:10px;}",".effect-grid.jsx-4141491617{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;row-gap:16px;padding-bottom:80px;}",".effect-item.jsx-4141491617{width:100%;}","@media (max-width:768px){.effect-grid.jsx-4141491617{gap:8px;row-gap:12px;}}"]}),(0,p.jsx)(a(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})};var F=n(59860),L=n(42969),M=n(60501),H=n(67345),U=n(66125),K=n(89862),W=n(74103),X=n(39229),G=[{id:"none",name:"None",description:"Kh\xf4ng c\xf3 hiệu ứng",icon:"assets/transition-effects/none.png",config:{textElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"}}},{id:"fade-in-all",name:"Fade In All",description:"Tất cả element sẽ fade in mượt m\xe0",icon:"assets/transition-effects/fade-in-all.png",config:{textElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},materialElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},otherElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"}}},{id:"slide-up-all",name:"Slide Up All",description:"Tất cả element sẽ slide up từ dưới l\xean",icon:"assets/transition-effects/slide-up-all.png",config:{textElements:{effectType:"slide-up",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.2,effectEasing:"ease-out"},materialElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.2,effectEasing:"ease-out"},otherElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.3,effectEasing:"ease-out"}}},{id:"scale-in-all",name:"Scale In All",description:"Tất cả element sẽ scale in mượt m\xe0",icon:"assets/transition-effects/scale-in-all.png",config:{textElements:{effectType:"scale-in",effectDuration:1.2,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"}}},{id:"flip-in-all",name:"Flip In All",description:"Tất cả element sẽ flip in mượt m\xe0",icon:"assets/transition-effects/flip-in-all.png",config:{textElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.3,effectEasing:"ease-out"},materialElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},otherElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"}}},{id:"slide-up-mix",name:"Slide Up Mix",description:"Element ở giữa slide-up, lệch tr\xe1i/phải slide-right/left",icon:"assets/transition-effects/slide-up-mix.png",requiresPositionLogic:!0,config:{textElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.2,effectEasing:"ease-out"},materialElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.2,effectEasing:"ease-out"},otherElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.3,effectEasing:"ease-out"}}},{id:"fade-in-mix",name:"Fade In Mix",description:"Element ở giữa fade-in, lệch tr\xe1i/phải slide-right/left",icon:"assets/transition-effects/fade-in-mix.png",requiresPositionLogic:!0,config:{textElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:.2,effectEasing:"ease-out"},photoElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"}}}],Y=function(e,t){switch(t){case"text":return e.config.textElements;case"photo":return e.config.photoElements;case"material":return e.config.materialElements;default:return e.config.otherElements}},q=function(e,t,n,r){var a=e+t/2,i=n/2;return Math.abs(a-i)<.2*n?r:a<i?"slide-right":a>i?"slide-left":r},V=n(80878),Q=n(91165),Z=n.n(Q),J=n(47139);let $=function(e){var t=e.preset,n=e.onApply,r=e.onRemove,i=e.isSelected,o=void 0!==i&&i;return(0,p.jsxs)(M.A,{size:"small",className:"preset-preview-card ".concat(Z().presetPreviewCard," ").concat(Z().cursorPointer," ").concat(Z().transitionAll," ").concat(Z().duration200," ").concat(Z().hoverShadowMd," ").concat(o?"".concat(Z().ring2," ").concat(Z().ringBlue500," ").concat(Z().bgBlue50):Z().hoverBgGray50),onClick:function(){o||n(t)},children:[(0,p.jsxs)("div",{className:"jsx-2978727400 text-center relative",children:[o&&r&&(0,p.jsx)(V.A,{title:"Reset hiệu ứng",placement:"top",children:(0,p.jsx)("button",{onClick:function(e){e.stopPropagation(),r&&r(t)},title:"Reset hiệu ứng",className:"jsx-2978727400 absolute -top-5 -right-5 w-5 h-5 bg-gray-600 hover:bg-gray-700 text-white rounded-full flex items-center justify-center transition-colors z-10",children:(0,p.jsx)(J.m6K,{size:22})})}),(0,p.jsx)("div",{className:"jsx-2978727400 mb-1 flex justify-center items-center",children:(0,p.jsx)("img",{src:"".concat(m.A.CDN_URL,"/").concat(t.icon),alt:t.name,className:"jsx-2978727400 w-8 md:h-8 object-cover"})}),(0,p.jsx)("div",{className:"jsx-2978727400 font-medium text-xs md:text-sm mb-1",children:t.name})]}),(0,p.jsx)(a(),{id:"2978727400",children:[".preset-preview-card .ant-card-body{padding:5px;}"]})]})};var ee=n(62436),et=n(69486),en=n(90769),er=["editorViewportWidth"];function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,L.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let eo=function(e){var t,n,r,s=e.isMobile,c=void 0!==s&&s,l=(0,U.hG)(),d=l.query,x=l.actions,h=(0,D.useSession)().data,m=(0,ee.c3)().activeKey,f=(0,i.useState)(0),b=f[0],y=f[1],v=(0,i.useState)(!1),w=v[0],N=v[1],C=(0,i.useState)(""),S=C[0],O=C[1],T=(0,i.useState)(null),E=T[0],R=T[1],I=function(e){if(!e||!e.type)return"other";var t=e.type.resolvedName||e.type;return t.includes("Text")||t.includes("text")?"text":t.includes("Photo")||t.includes("photo")?"photo":t.includes("Material")||t.includes("material")?"material":"other"},P=(t=(0,k.A)(A().mark(function e(t){var n,r,a,i,s;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{r=d.serialize(),s=(null==(i=(a=JSON.parse(r)).ROOT)||null==(n=i.props)?void 0:n.width)||500,Object.keys(a).forEach(function(e){if("ROOT"!==e){var n=a[e],r=I(n),i=Y(t,r);if(t.requiresPositionLogic&&t.id.includes("mix")){var o,c,l=(null==(o=n.props)?void 0:o.left)||0,d=(null==(c=n.props)?void 0:c.width)||100,u=i.effectType,p=q(l,d,s,u);i=ei(ei({},i),{},{effectType:p})}n.props.transition||(n.props.transition=ei({},X.l)),n.props.transition.effectEnabled=!0,"none"===t.id&&(n.props.transition.effectEnabled=!1),n.props.transition.effectType=i.effectType,n.props.transition.effectDuration=i.effectDuration,n.props.transition.effectDelay=i.effectDelay,n.props.transition.effectEasing=i.effectEasing}}),R(a),y(function(e){return e+1})}catch(e){console.error("Error applying preset:",e),o.Ay.error("C\xf3 lỗi xảy ra khi \xe1p dụng mẫu hiệu ứng!")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),B=function(){var e,t,n=(null==h||null==(e=h.user)?void 0:e.plan)||"free";return(null==h||null==(t=h.user)?void 0:t.role)==="partner"||"basic"===n||"premium"===n},z=function(){var e=en.HK.free,t=en.HK.basic,n=en.HK.premium;return{websites:"".concat(e.maxWebsites," → ").concat(t.maxWebsites,"-").concat(n.maxWebsites),images:"".concat(e.maxImages," → ").concat(t.maxImages,"-").concat(n.maxImages),views:"".concat(e.maxViews," → ").concat((t.maxViews/1e3).toFixed(0),"K-").concat((n.maxViews/1e3).toFixed(0),"K"),duration:"".concat(e.duration," → ").concat(t.duration,"-").concat(n.duration)}},_=function(){j.A.confirm({title:"\uD83D\uDD12 T\xednh năng n\xe2ng cao",content:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("div",{className:"text-6xl mb-3",children:"\uD83C\uDFAC✨"}),(0,p.jsx)("h3",{className:"text-lg font-bold mb-2 text-gray-800",children:"Wow! Hiệu ứng n\xe0y thật tuyệt vời!"}),(0,p.jsxs)("p",{className:"text-gray-600 mb-4 text-sm",children:["N\xe2ng cấp l\xean g\xf3i ",(0,p.jsx)("span",{className:"font-bold",children:"Basic/Premium"})," ","để sử dụng hiệu ứng v\xe0 mở kh\xf3a nhiều t\xednh năng kh\xe1c!",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"text-gray-500 text-xs italic",children:"* T\xednh năng n\xe0y chỉ c\xf3 thể sử dụng tr\xean g\xf3i Basic/Premium"})]})]}),(0,p.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-3 rounded-lg border border-blue-200 mb-3",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-xs uppercase tracking-wide",children:"\uD83D\uDE80 T\xednh năng ch\xednh:"}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-left",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-green-500",children:"✨"}),(0,p.jsx)("span",{children:"Hiệu ứng chuyển động"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-green-500",children:"✨"}),(0,p.jsx)("span",{children:"Hiệu ứng mở m\xe0n"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-blue-500",children:"\uD83C\uDFB5"}),(0,p.jsx)("span",{children:"Nhạc nền t\xf9y chỉnh"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-purple-500",children:"\uD83C\uDFF7️"}),(0,p.jsx)("span",{children:"X\xf3a watermark"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-orange-500",children:"\uD83C\uDF81"}),(0,p.jsx)("span",{children:"Hộp lời ch\xfac & Tặng qu\xe0"})]})]})]}),(0,p.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-3 rounded-lg border border-green-200 mb-3",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-xs uppercase tracking-wide",children:"\uD83D\uDCC8 N\xe2ng cấp giới hạn:"}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-left",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-purple-600",children:"\uD83C\uDF10"}),(0,p.jsxs)("span",{children:[z().websites," website"]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-pink-600",children:"\uD83D\uDDBC️"}),(0,p.jsxs)("span",{children:[z().images," h\xecnh ảnh"]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-indigo-600",children:"\uD83D\uDC41️"}),(0,p.jsxs)("span",{children:[z().views," lượt xem"]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-teal-600",children:"⏰"}),(0,p.jsx)("span",{children:z().duration})]})]})]})]}),icon:null,okText:"N\xe2ng cấp ngay",cancelText:"Để sau",closable:!0,onOk:function(){window.open("/pricing-plans?upgradeSource=transition-effect","_blank")},width:500,maskClosable:!0,centered:!0})},L=function(e){S!==e.id&&R(null),O(e.id),P(e)},V=(0,i.useMemo)(function(){try{if(E)return E;var e=d.serialize();return JSON.parse(e)}catch(e){return console.error("Error serializing page data:",e),null}},[d,S,m]),Q=(0,i.useMemo)(function(){if(!V)return null;try{var e,t,n=parseInt((null==(e=V.ROOT)||null==(e=e.props)?void 0:e.width)||"500"),r=parseInt((null==(t=V.ROOT)||null==(t=t.props)?void 0:t.height)||"600"),a=340/n,i=Object.entries(V).reduce(function(e,t){var n=(0,g.A)(t,2),r=n[0],i=n[1];if(!i.props)return e[r]=i,e;var o=ei(ei({},i.props),{},{top:(i.props.top||0)*a,left:(i.props.left||0)*a,width:(i.props.width||100)*a,height:(i.props.height||100)*a,fontSize:(i.props.fontSize||16)*a});return e[r]=ei(ei({},i),{},{props:o}),e},{});if(V.ROOT){var o=V.ROOT.props||{},s=(o.editorViewportWidth,(0,F.A)(o,er));i.ROOT=ei(ei({},V.ROOT),{},{props:ei(ei({},s),{},{width:340,height:r*a})})}return i}catch(e){return console.error("Error scaling page data:",e),V}},[V,S,m]),J=function(){if(!B())return void _();if(!E)return void o.Ay.warning("Kh\xf4ng c\xf3 hiệu ứng n\xe0o để \xe1p dụng!");var e=JSON.parse(d.serialize());Object.keys(e).some(function(t){var n;return"ROOT"!==t&&(null==(n=e[t].props)||null==(n=n.transition)?void 0:n.effectEnabled)})?j.A.confirm({title:"\xc1p dụng hiệu ứng hiện tại",content:(0,p.jsx)("div",{children:(0,p.jsx)("p",{children:"Thao t\xe1c n\xe0y sẽ ghi đ\xe8 tất cả c\xe1c hiệu ứng chuyển động hiện tại tr\xean trang."})}),icon:null,maskClosable:!0,okText:"\xc1p dụng",cancelText:"Hủy bỏ",onOk:function(){ea()}}):ea()},ea=function(){try{N(!1),Object.keys(E).forEach(function(e){if("ROOT"!==e){var t,n=E[e];null!=(t=n.props)&&t.transition&&x.setProp(e,function(e){e.transition||(e.transition=ei({},X.l));var t=n.props.transition;e.transition.effectEnabled=t.effectEnabled,e.transition.effectType=t.effectType,e.transition.effectDuration=t.effectDuration,e.transition.effectDelay=t.effectDelay,e.transition.effectEasing=t.effectEasing})}}),o.Ay.success("Đ\xe3 \xe1p dụng hiệu ứng v\xe0o trang!"),R(null),O("")}catch(e){console.error("Error applying transitions to nodes:",e),o.Ay.error("C\xf3 lỗi xảy ra khi \xe1p dụng hiệu ứng!")}},eo=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];R(null),O(""),y(function(e){return e+1}),e&&o.Ay.info("Đ\xe3 loại bỏ hiệu ứng mẫu!")};return(0,i.useEffect)(function(){m!==et.hW.EFFECT&&eo(!1)},[m]),(0,p.jsxs)("div",{style:{maxHeight:"calc(-64px - 105px + 100vh)",overflowY:"scroll"},className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" flex flex-col pb-6",children:[(0,p.jsx)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" px-4 pt-2 md:pt-4",children:(0,p.jsx)(M.A,{size:"small",className:"mb-4",title:(0,p.jsxs)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" flex items-center gap-2",children:[(0,p.jsx)("span",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]]),children:"\uD83C\uDFA8 Hiệu ứng dựng sẵn"}),(0,p.jsx)(u.A,{position:"top-right",size:"sm"})]}),children:(0,p.jsxs)(H.A,{direction:"vertical",className:"w-full",size:"small",children:[(0,p.jsx)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" text-xs text-gray-500 mb-3",children:"Chọn 1 mẫu hiệu ứng để \xe1p dụng cho to\xe0n bộ trang"}),(0,p.jsx)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" "+"".concat(c?Z().gridCols3:Z().gridCols2," ").concat(Z().gap3," mb-3 p-4 md:p-0"),children:G.map(function(e){return(0,p.jsx)($,{preset:e,onApply:L,onRemove:function(){return eo(!0)},isSelected:S===e.id},e.id)})})]})})}),(0,p.jsxs)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" mx-auto flex justify-center items-center gap-2",children:[(0,p.jsxs)("button",{onClick:function(){N(!0)},className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors font-medium",children:["\uD83C\uDFAC ",S?"Xem trước":"Xem trước hiệu ứng"]}),S&&(0,p.jsx)("button",{onClick:J,className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" px-4 py-2 bg-pink-cinelove text-white rounded-lg bg-pink-cinelove-hover-darker transition-colors font-medium",children:"✨ \xc1p dụng"})]}),(0,p.jsxs)(j.A,{title:(0,p.jsxs)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" flex justify-between items-center pr-8",children:[(0,p.jsx)("span",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]]),children:"Xem trước hiệu ứng"}),E&&(0,p.jsx)("button",{onClick:J,className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" px-3 py-1 bg-pink-cinelove bg-pink-cinelove-hover-darker text-white rounded text-sm font-medium transition-colors",children:"✨ \xc1p dụng"})]}),open:w,onCancel:function(){N(!1),y(function(e){return e+1})},footer:null,centered:!0,destroyOnHidden:!0,children:[(0,p.jsx)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" text-center text-sm italic text-gray-600 mb-4 mt-4",children:S?(0,p.jsxs)(p.Fragment,{children:["Trang đang hiển thị với hiệu ứng"," ",(0,p.jsx)("span",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" font-semibold text-pink-cinelove",children:(n=G.find(function(e){return e.id===S}))?n.name:S}),". ","Cuộn trang để xem"]}):"Chưa c\xf3 bộ hiệu ứng n\xe0o được \xe1p dụng. H\xe3y chọn 1 mẫu từ danh s\xe1ch."}),(0,p.jsx)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" flex justify-center",children:(0,p.jsx)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" border rounded-lg overflow-hidden bg-white",children:(0,p.jsx)("div",{style:{height:600},className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" overflow-auto",children:Q?(0,p.jsx)("div",{id:"page-effect-preview-container",style:{width:340},className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" h-full relative overflow-x-hidden",children:(0,p.jsx)(U.KE,{resolver:K.K6,enabled:!1,children:(0,p.jsx)(U.wI,{data:Q},"preview-".concat(b,"-").concat((null==(r=Q.ROOT)||null==(r=r.props)?void 0:r.width)||"preview"))})}):(0,p.jsx)("div",{className:a().dynamic([["3227129037",[c?"auto":"hidden"]]])+" flex items-center justify-center h-full text-gray-500",children:(0,p.jsx)(W.A,{})})})})})]}),(0,p.jsx)(a(),{id:"3227129037",dynamic:[c?"auto":"hidden"],children:[".effects-tab .ant-tabs-content-holder{overflow-y:".concat(c?"auto":"hidden",";}")]})]})};var es=n(88065);function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(t){(0,L.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ed=function(e){var t=e.isMobile,n=void 0!==t&&t,r=(0,h.$E)(),o=r.settings,s=r.setSnowflakeEffect,c=o.snowflakeEffect,l=(0,f.bi)().pageData;(0,i.useEffect)(function(){null!=l&&l.snowflakeEffect&&!c&&s(l.snowflakeEffect)},[l]);var d=function(e){var t;s({enabled:(null==(t=o.snowflakeEffect)?void 0:t.enabled)||!1,type:e})},x=function(e,t){s(el(el({},o.snowflakeEffect),{},(0,L.A)({},e,t)))};return(0,p.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" snowflake-effect-container",children:[(0,p.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-header",children:[(0,p.jsx)("h3",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-title",children:"Chọn hiệu ứng"}),(0,p.jsx)("p",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-subtitle",children:"Chọn loại hiệu ứng thả rơi bạn muốn hiển thị"})]}),(0,p.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-toggle relative",children:[(0,p.jsx)(u.A,{position:"top-right"}),(0,p.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-container",children:[(0,p.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-header",children:[(0,p.jsx)("h4",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-title",children:"Hiệu ứng rơi"}),(0,p.jsx)("p",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-subtitle",children:"Th\xeam hiệu ứng rơi cho trang của bạn"})]}),(0,p.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-switch-container",children:(0,p.jsxs)("label",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-switch",children:[(0,p.jsx)("input",{type:"checkbox",checked:(null==c?void 0:c.enabled)||!1,onChange:function(e){return x("enabled",e.target.checked)},className:a().dynamic([["3307126450",[n?"8px":"12px"]]])}),(0,p.jsx)("span",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-slider",children:(0,p.jsx)("span",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-knob"})})]})})]})]}),(null==c?void 0:c.enabled)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-grid",children:[{key:"snowflakes",label:"Tuyết",icon:"❅",description:"Hiệu ứng tuyết rơi"},{key:"hearts",label:"Tr\xe1i tim",icon:"❤️",description:"Hiệu ứng tr\xe1i tim bay"},{key:"flowers",label:"Hoa",icon:"\uD83C\uDF38",description:"Hiệu ứng hoa rơi"},{key:"stars",label:"Sao",icon:"⭐",description:"Hiệu ứng sao lấp l\xe1nh"},{key:"confetti",label:"Confetti",icon:"\uD83C\uDF89",description:"Hiệu ứng confetti"},{key:"butterflies",label:"Bướm",icon:"\uD83E\uDD8B",description:"Hiệu ứng bướm bay"},{key:"mix",label:"Mix",icon:"❤️❅\uD83E\uDD0D",description:"Mix tr\xe1i tim v\xe0 tuyết"}].map(function(e){return(0,p.jsxs)("div",{onClick:function(){return d(e.key)},title:e.label,className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" "+"effect-card ".concat("mix"===e.key?"mix-card":""," ").concat((null==c?void 0:c.type)===e.key?"selected":""),children:[(0,p.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-icon",children:e.icon}),(null==c?void 0:c.type)===e.key&&(0,p.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-check",children:"✓"})]},e.key)})})}),(null==c?void 0:c.enabled)&&(0,p.jsx)(es.A,{snowflakeEffect:c}),(0,p.jsx)(a(),{id:"3307126450",dynamic:[n?"8px":"12px"],children:[".snowflake-effect-container.__jsx-style-dynamic-selector{padding:16px;height:100%;overflow-y:auto;}",".effect-header.__jsx-style-dynamic-selector{margin-bottom:20px;}",".effect-title.__jsx-style-dynamic-selector{font-size:18px;font-weight:600;color:#1a1a1a;margin:0 0 4px 0;}",".effect-subtitle.__jsx-style-dynamic-selector{font-size:14px;color:#666;margin:0;}",".effect-grid.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:24px;}",".effect-card.__jsx-style-dynamic-selector{position:relative;background:#f8f9fa;border:2px solid #e9ecef;border-radius:12px;padding:16px;cursor:pointer;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;aspect-ratio:1;min-height:80px;}",".effect-card.mix-card.__jsx-style-dynamic-selector{padding:8px;}",".effect-card.__jsx-style-dynamic-selector:hover{border-color:#1890ff;background:#f0f8ff;-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 4px 12px rgba(24,144,255,0.15);}",".effect-card.selected.__jsx-style-dynamic-selector{border-color:#1890ff;background:#e6f7ff;box-shadow:0 4px 12px rgba(24,144,255,0.2);}",".effect-icon.__jsx-style-dynamic-selector{font-size:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-filter:drop-shadow(0 2px 4px rgba(0,0,0,0.1));filter:drop-shadow(0 2px 4px rgba(0,0,0,0.1));}",".effect-card.mix-card.__jsx-style-dynamic-selector .effect-icon.__jsx-style-dynamic-selector{font-size:12px;}",".effect-check.__jsx-style-dynamic-selector{position:absolute;top:8px;right:8px;width:20px;height:20px;background:#1890ff;color:#fff;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:12px;font-weight:bold;}",".effect-toggle.__jsx-style-dynamic-selector{margin-bottom:24px;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border:1px solid #dee2e6;border-radius:12px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,0.04);}",".toggle-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".toggle-header.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}",".toggle-title.__jsx-style-dynamic-selector{font-size:16px;font-weight:600;color:#1a1a1a;margin:0 0 4px 0;}",".toggle-subtitle.__jsx-style-dynamic-selector{font-size:13px;color:#666;margin:0;}",".toggle-switch-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;}",".toggle-switch.__jsx-style-dynamic-selector{position:relative;display:inline-block;width:52px;height:28px;cursor:pointer;}",".toggle-switch.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{opacity:0;width:0;height:0;}",".toggle-slider.__jsx-style-dynamic-selector{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#ccc;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;border-radius:28px;box-shadow:inset 0 2px 4px rgba(0,0,0,0.1);}",'.toggle-slider.__jsx-style-dynamic-selector:before{position:absolute;content:"";height:22px;width:22px;left:3px;bottom:3px;background:white;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;border-radius:50%;box-shadow:0 2px 6px rgba(0,0,0,0.2);}',".toggle-switch.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:checked+.toggle-slider.__jsx-style-dynamic-selector{background:linear-gradient(135deg,#1890ff 0%,#40a9ff 100%);box-shadow:0 0 0 2px rgba(24,144,255,0.2);}",".toggle-switch.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:checked+.toggle-slider.__jsx-style-dynamic-selector:before{-webkit-transform:translateX(24px);-ms-transform:translateX(24px);transform:translateX(24px);box-shadow:0 2px 8px rgba(24,144,255,0.3);}",".toggle-switch.__jsx-style-dynamic-selector:hover .toggle-slider.__jsx-style-dynamic-selector{box-shadow:inset 0 2px 4px rgba(0,0,0,0.15);}",".toggle-switch.__jsx-style-dynamic-selector:hover input.__jsx-style-dynamic-selector:checked+.toggle-slider.__jsx-style-dynamic-selector{box-shadow:0 0 0 3px rgba(24,144,255,0.15);}",".toggle-status.__jsx-style-dynamic-selector{font-size:13px;font-weight:500;color:#666;min-width:50px;text-align:right;}","@media (max-width:768px){.snowflake-effect-container.__jsx-style-dynamic-selector{padding:".concat(n?"8px":"12px",";}.effect-grid.__jsx-style-dynamic-selector{grid-template-columns:repeat(3,1fr);gap:8px;}.effect-card.__jsx-style-dynamic-selector{padding:12px;min-height:70px;}.effect-icon.__jsx-style-dynamic-selector{font-size:28px;}.toggle-container.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:12px;}.toggle-switch-container.__jsx-style-dynamic-selector{width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.toggle-title.__jsx-style-dynamic-selector{font-size:15px;}.toggle-subtitle.__jsx-style-dynamic-selector{font-size:12px;}}")]})]})};var eu=n(31452),ep="".concat(m.A.CDN_URL,"/assets/opening-effects/preview"),ex=[{id:"curtain-blue",name:"Curtain Blue",duration:4,videoUrl:"".concat(ep,"/curtain-reveal-blue.webm"),type:"curtain",thumbnailUrl:"".concat(ep,"/curtain-reveal-blue.jpg")},{id:"curtain-pink",name:"Curtain Pink",duration:4,videoUrl:"".concat(ep,"/curtain-reveal-pink.webm"),type:"curtain",thumbnailUrl:"".concat(ep,"/curtain-reveal-pink.jpg")},{id:"curtain-purple",name:"Curtain Purple",duration:4,videoUrl:"".concat(ep,"/curtain-reveal-purple.webm"),type:"curtain",thumbnailUrl:"".concat(ep,"/curtain-reveal-purple.jpg")},{id:"curtain-yellow",name:"Curtain Yellow",duration:4,videoUrl:"".concat(ep,"/curtain-reveal-yellow.webm"),type:"curtain",thumbnailUrl:"".concat(ep,"/curtain-reveal-yellow.jpg")},{id:"curtain-red",name:"Curtain Red",duration:4,videoUrl:"".concat(ep,"/curtain-reveal-red.webm"),type:"curtain",thumbnailUrl:"".concat(ep,"/curtain-reveal-red.jpg")},{id:"animated-image-1",name:"Animated Image",duration:5,videoUrl:"".concat(ep,"/animated-image-1.webm"),type:"animated-image",thumbnailUrl:"".concat(ep,"/animated-image-1.jpg")}];let eh=function(e){var t,n,r,l,d,h=e.isMobile,g=(0,i.useState)(ex),b=g[0];g[1];var j=(0,i.useState)(!1),y=j[0];j[1];var v=(0,f.bi)().pageData,w=(0,eu.k)(),k=w.setOpeningEffect,N=w.settings,A=(null==(t=N.openingEffect)?void 0:t.id)||null,C=N.openingEffect,S=(0,i.useState)(!1),O=S[0],T=S[1],D=(0,i.useState)(null),E=D[0],R=D[1];(0,i.useEffect)(function(){null!=v&&v.openingEffect&&!C&&k(v.openingEffect)},[v,C,k]);var I=function(e){"animated-image"===e.type?(R(e),T(!0)):k({id:e.id,type:e.type,duration:e.duration})};return(0,p.jsxs)("div",{className:"jsx-4141491617 h-full",children:[(0,p.jsxs)("div",{className:"jsx-4141491617 mb-2 px-3",children:[(0,p.jsx)("div",{className:"jsx-4141491617 flex items-center justify-between mb-2 mt-2",children:(0,p.jsx)("div",{className:"jsx-4141491617 flex items-center",children:(0,p.jsxs)("h3",{className:"jsx-4141491617 text-lg font-semibold relative",children:[(0,p.jsx)("span",{className:"jsx-4141491617 pr-6",children:"Hiệu ứng mở m\xe0n"}),(0,p.jsx)(u.A,{position:"top-right",size:"sm"})]})})}),(0,p.jsx)("p",{className:"jsx-4141491617 text-sm text-gray-500",children:"Tạo ấn tượng đầu ti\xean đặc biệt với hiệu ứng mở m\xe0n khi trang web của bạn được mở."}),A&&(0,p.jsx)("button",{onClick:function(){k(null),o.Ay.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n")},className:"jsx-4141491617 text-red-500 hover:text-red-700 text-sm font-medium px-3 py-1 rounded border border-red-300 hover:border-red-500 transition-colors mt-4",children:"X\xf3a hiệu ứng"})]}),(0,p.jsx)("div",{className:"jsx-4141491617 scroll-list",children:y?(0,p.jsx)("div",{className:"jsx-4141491617 flex justify-center items-center h-64",children:(0,p.jsx)(s.A,{size:"small"})}):b.length>0?(0,p.jsx)("div",{className:"jsx-4141491617 effect-grid-container",children:(0,p.jsx)("div",{className:"jsx-4141491617 effect-grid",children:b.map(function(e){return(0,p.jsx)("div",{className:"jsx-4141491617 effect-item",children:(0,p.jsx)(x,{effect:e,isSelected:A===e.id,onClick:I,isMobile:h})},e.id)})})}):(0,p.jsx)(c.A,{description:"Kh\xf4ng t\xecm thấy hiệu ứng n\xe0o"})}),(0,p.jsx)(P,{visible:O,effect:E,onCancel:function(){T(!1),R(null)},onConfirm:function(e,t,n,r,a){k({id:e.id,type:e.type,duration:a,title:t,subtitle:n,imageUrl:r}),T(!1),R(null)},currentTitle:(null==(n=N.openingEffect)?void 0:n.title)||"Wedding Day",currentSubtitle:(null==(r=N.openingEffect)?void 0:r.subtitle)||"Xin mời xem thiệp cưới của ch\xfang m\xecnh nha",currentImageUrl:(null==(l=N.openingEffect)?void 0:l.imageUrl)||"".concat(m.A.CDN_URL,"/resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"),currentDuration:(null==(d=N.openingEffect)?void 0:d.duration)||5}),(0,p.jsx)(a(),{id:"2729513400",children:[".effect-grid-container.jsx-4141491617{padding:10px;}",".effect-grid.jsx-4141491617{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;row-gap:16px;padding-bottom:80px;}",".effect-item.jsx-4141491617{width:100%;}","@media (max-width:768px){.effect-grid.jsx-4141491617{gap:8px;row-gap:12px;}}"]}),(0,p.jsx)(a(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})};function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(t){(0,L.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let eg=function(){var e=(0,f.bi)().pageData,t=(0,eu.k)(),n=t.setSnowflakeEffect,r=t.settings,o=r.snowflakeEffect;(0,i.useEffect)(function(){null!=e&&e.snowflakeEffect&&!o&&n(e.snowflakeEffect)},[e,o,n]);var s=function(e){var t;n({enabled:(null==(t=r.snowflakeEffect)?void 0:t.enabled)||!1,type:e})},c=function(e,t){"enabled"!==e||t?n(ef(ef({},r.snowflakeEffect),{},(0,L.A)({},e,t))):n(null)};return(0,p.jsxs)("div",{className:"jsx-1520400475 snowflake-effect-container",children:[(0,p.jsxs)("div",{className:"jsx-1520400475 effect-header",children:[(0,p.jsx)("h3",{className:"jsx-1520400475 effect-title",children:"Chọn hiệu ứng"}),(0,p.jsxs)("div",{className:"jsx-1520400475 effect-toggle",children:[(0,p.jsxs)("label",{className:"jsx-1520400475 switch",children:[(0,p.jsx)("input",{type:"checkbox",checked:(null==o?void 0:o.enabled)||!1,onChange:function(e){return c("enabled",e.target.checked)},className:"jsx-1520400475"}),(0,p.jsx)("span",{className:"jsx-1520400475 slider round"})]}),(0,p.jsx)("span",{className:"jsx-1520400475 toggle-label",children:null!=o&&o.enabled?"Bật":"Tắt"})]})]}),(null==o?void 0:o.enabled)&&(0,p.jsx)("div",{className:"jsx-1520400475 effect-options",children:(0,p.jsx)("div",{className:"jsx-1520400475 options-grid",children:[{key:"snowflakes",label:"Tuyết",icon:"❅",description:"Hiệu ứng tuyết rơi"},{key:"hearts",label:"Tr\xe1i tim",icon:"❤️",description:"Hiệu ứng tr\xe1i tim bay"},{key:"flowers",label:"Hoa",icon:"\uD83C\uDF38",description:"Hiệu ứng hoa rơi"},{key:"stars",label:"Sao",icon:"⭐",description:"Hiệu ứng sao lấp l\xe1nh"},{key:"confetti",label:"Confetti",icon:"\uD83C\uDF89",description:"Hiệu ứng confetti"},{key:"butterflies",label:"Bướm",icon:"\uD83E\uDD8B",description:"Hiệu ứng bướm bay"},{key:"mix",label:"Mix",icon:"❤️❅\uD83E\uDD0D",description:"Mix tr\xe1i tim v\xe0 tuyết"}].map(function(e){return(0,p.jsxs)("div",{onClick:function(){return s(e.key)},className:"jsx-1520400475 "+"option-item ".concat((null==o?void 0:o.type)===e.key?"selected":""),children:[(0,p.jsx)("div",{className:"jsx-1520400475 option-icon",children:e.icon}),(0,p.jsxs)("div",{className:"jsx-1520400475 option-content",children:[(0,p.jsx)("div",{className:"jsx-1520400475 option-label",children:e.label}),(0,p.jsx)("div",{className:"jsx-1520400475 option-description",children:e.description})]}),(null==o?void 0:o.type)===e.key&&(0,p.jsx)("div",{className:"jsx-1520400475 selected-indicator",children:"✓"})]},e.key)})})}),(null==o?void 0:o.enabled)&&(0,p.jsx)(es.A,{snowflakeEffect:o}),(0,p.jsx)(a(),{id:"1520400475",children:[".snowflake-effect-container.jsx-1520400475{padding:16px;height:100%;overflow-y:auto;}",".effect-header.jsx-1520400475{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid #e5e7eb;}",".effect-title.jsx-1520400475{font-size:18px;font-weight:600;color:#1f2937;margin:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;}",".effect-toggle.jsx-1520400475{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;}",".toggle-label.jsx-1520400475{font-size:14px;font-weight:500;color:#6b7280;}",".switch.jsx-1520400475{position:relative;display:inline-block;width:50px;height:24px;}",".switch.jsx-1520400475 input.jsx-1520400475{opacity:0;width:0;height:0;}",".slider.jsx-1520400475{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:0.4s;transition:0.4s;border-radius:24px;}",'.slider.jsx-1520400475:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:white;-webkit-transition:0.4s;transition:0.4s;border-radius:50%;}',"input.jsx-1520400475:checked+.slider.jsx-1520400475{background-color:#3b82f6;}","input.jsx-1520400475:checked+.slider.jsx-1520400475:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px);}",".effect-options.jsx-1520400475{margin-top:20px;}",".options-grid.jsx-1520400475{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;}",".option-item.jsx-1520400475{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;background:white;position:relative;}",".option-item.jsx-1520400475:hover{border-color:#3b82f6;box-shadow:0 2px 4px rgba(59,130,246,0.1);}",".option-item.selected.jsx-1520400475{border-color:#3b82f6;background-color:#eff6ff;}",".option-icon.jsx-1520400475{font-size:24px;margin-right:12px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".option-content.jsx-1520400475{-webkit-flex:1;-ms-flex:1;flex:1;}",".option-label.jsx-1520400475{font-size:14px;font-weight:500;color:#1f2937;margin-bottom:2px;}",".option-description.jsx-1520400475{font-size:12px;color:#6b7280;}",".selected-indicator.jsx-1520400475{position:absolute;top:8px;right:8px;color:#3b82f6;font-weight:bold;font-size:16px;}","@media (max-width:768px){.snowflake-effect-container.jsx-1520400475{padding:12px;}.effect-header.jsx-1520400475{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:12px;}.options-grid.jsx-1520400475{grid-template-columns:1fr;gap:8px;}.option-item.jsx-1520400475{padding:10px;}.option-icon.jsx-1520400475{font-size:20px;margin-right:10px;}}"]})]})};var eb=n(89099);let ej=function(e){var t,n=e.isMobile,r=(0,i.useState)("transition"),o=r[0],s=r[1],c=(0,eb.useRouter)().pathname.includes("/admin/templates/edit"),l=[{key:"transition",label:"Hiệu ứng động",component:(0,p.jsx)(eo,{isMobile:n})},{key:"opening",label:"Hiệu ứng mở m\xe0n",component:c?(0,p.jsx)(eh,{isMobile:n}):(0,p.jsx)(_,{isMobile:n})},{key:"snowflakes",label:"Hiệu ứng rơi",component:c?(0,p.jsx)(eg,{isMobile:n}):(0,p.jsx)(ed,{isMobile:n})}],d=null==(t=l.find(function(e){return e.key===o}))?void 0:t.component;return(0,p.jsxs)("div",{className:"jsx-559594793 custom-effects-tab",children:[(0,p.jsx)("div",{className:"jsx-559594793 tab-header",children:l.map(function(e){return(0,p.jsx)("button",{onClick:function(){return s(e.key)},className:"jsx-559594793 "+"tab-button ".concat(o===e.key?"active":""),children:(0,p.jsx)("span",{className:"jsx-559594793 tab-label",children:e.label})},e.key)})}),(0,p.jsx)("div",{className:"jsx-559594793 tab-content",children:d}),(0,p.jsx)(a(),{id:"559594793",children:[".custom-effects-tab.jsx-559594793{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#fff;}",".tab-header.jsx-559594793{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;background:#fafafa;border-bottom:1px solid #e8e8e8;padding:12px 8px;min-height:auto;}",".tab-button.jsx-559594793{position:relative;background:#ededed;border:none;padding:8px 12px;margin:0;cursor:pointer;border-radius:8px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;white-space:nowrap;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".tab-button.jsx-559594793:hover{background:#e6f7ff;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);}",".tab-button.active.jsx-559594793{background:#1890ff;color:#fff;box-shadow:0 2px 8px rgba(24,144,255,0.3);-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);}",".tab-label.jsx-559594793{font-size:13px;font-weight:500;color:#3a3a3a;-webkit-transition:color 0.2s ease;transition:color 0.2s ease;}",".tab-button.active.jsx-559594793 .tab-label.jsx-559594793{color:#fff;font-weight:600;}",".tab-indicator.jsx-559594793{display:none;}",".tab-content.jsx-559594793{-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;background:#fff;}","@media (max-width:768px){.tab-header.jsx-559594793{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:6px;padding:8px 4px;}.tab-button.jsx-559594793{padding:6px 8px;}.tab-label.jsx-559594793{font-size:12px;}}","@media (max-width:480px){.tab-header.jsx-559594793{grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:4px;padding:6px 2px;}.tab-button.jsx-559594793{padding:4px 6px;}.tab-label.jsx-559594793{font-size:11px;}}"]})]})}},28295:(e,t,n)=>{"use strict";n.d(t,{B_:()=>u,Mh:()=>l,jz:()=>c,w3:()=>d});var r=n(42969),a=n(24530);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return a.E[e.toLowerCase()]||0},c=function(e,t){var n=s(e.name),r=s(t);return t.toLowerCase()===e.name.toLowerCase()?{text:"G\xf3i hiện tại",disabled:!0,type:"default",className:"bg-gray-100 text-gray-500 cursor-not-allowed",showButton:!0}:n<r?{text:"",disabled:!0,type:"default",className:"",showButton:!1}:{text:e.ctaText,disabled:!1,type:e.featured||e.popular?"primary":"default",className:e.featured?"premium-button":e.popular?"basic-button":"",showButton:!0}},l=function(e){var t=e.toLowerCase();return a.Hd.map(function(e){var n,r=e.plans[t],a=e.text;return"limited"===r&&null!=(n=e.limitDetails)&&n[t]&&(a="".concat(e.text,": ").concat(e.limitDetails[t])),o(o({},e),{},{available:!0===r||"limited"===r,displayText:a})})},d=function(e,t){var n=a.Hd.find(function(t){return t.id===e});if(!n)return!1;var r=t.toLowerCase(),i=n.plans[r];return!0===i||"limited"===i},u=function(e,t){var n,r=a.Hd.find(function(t){return t.id===e});if(!r)return"";var i=t.toLowerCase();return(null==(n=r.limitDetails)?void 0:n[i])||""}},29538:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,q:()=>a});var r={COMPLETED:"completed",PENDING:"pending",PROCESSING:"processing",REJECTED:"rejected",CANCELLED:"cancelled"},a=function(e){switch(null==e?void 0:e.toLowerCase()){case r.COMPLETED:case"success":case"completed":return"text-green-500";case r.PENDING:case"pending":return"text-yellow-500";case r.PROCESSING:case"processing":return"text-blue-500";case r.REJECTED:case"rejected":case"failed":return"text-red-500";case r.CANCELLED:default:return"text-gray-500"}},i=function(e){switch(null==e?void 0:e.toLowerCase()){case r.COMPLETED:case"success":case"completed":return"Ho\xe0n th\xe0nh";case r.PENDING:case"pending":return"Đang chờ";case r.PROCESSING:case"processing":return"Đang xử l\xfd";case r.REJECTED:case"rejected":case"failed":return"Từ chối";case r.CANCELLED:case"cancelled":return"Đ\xe3 hủy";default:return"Kh\xf4ng x\xe1c định"}}},29890:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(14232),a=n(30751),i=n(73301),o=n(87692);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=e.pageId,n=e.isTemplate,c=e.onRestore,l=e.autoDetect,d=void 0===l||l,u=(0,r.useState)([]),p=u[0],x=u[1],h=(0,r.useState)(!1),m=h[0],f=h[1],g=(0,r.useState)(!1),b=g[0],j=g[1],y=(0,a.D)(),v=y.getAllBackupKeys,w=y.getBackupData,k=y.removeBackup,N=(0,r.useCallback)(function(){var e,r=v(),a=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(r);try{for(i.s();!(e=i.n()).done;){var o=e.value,c=w(o);if(c){if(t&&c.pageId===t&&!c.isTemplate){a.push({key:o,data:c,type:"page_specific",priority:2,timestamp:c.timestamp});continue}if(n&&c.isTemplate&&c.pageId===t){a.push({key:o,data:c,type:"template",priority:3,timestamp:c.timestamp});continue}if(!t&&!n&&!c.pageId&&!c.isTemplate){var l=Date.now()-36e5;c.timestamp>l&&a.push({key:o,data:c,type:"recent_new",priority:4,timestamp:c.timestamp})}}}}catch(e){i.e(e)}finally{i.f()}return a.sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:t.timestamp-e.timestamp}),a},[t,n,v,w]);(0,r.useEffect)(function(){if(d){var e=setTimeout(function(){var e=N();if(x(e),e.length>0&&!b){var t=e[0];Date.now()-t.timestamp<18e5&&(f(!0),j(!0))}},1e3);return function(){return clearTimeout(e)}}},[d,N]);var A=(0,r.useCallback)(function(e){var t=w(e);t&&c&&(c(t),i.Ay.success("Đ\xe3 kh\xf4i phục backup th\xe0nh c\xf4ng!"),k(e),x(function(t){return t.filter(function(t){return t.key!==e})}))},[w,c]),C=(0,r.useCallback)(function(){(0,o.DH)()},[]),S=(0,r.useCallback)(function(e){k(e),x(function(t){return t.filter(function(t){return t.key!==e})}),i.Ay.info("Đ\xe3 x\xf3a backup"),(0,o.DH)()},[k]);return{availableBackups:p,hasRelevantBackups:p.length>0,showRecoveryPrompt:m,setShowRecoveryPrompt:f,manualRestore:A,dismissBackup:C,deleteBackup:S,findRelevantBackups:N}}},30116:(e,t,n)=>{"use strict";n.d(t,{j:()=>y});var r=n(14232),a=n(66125),i=n(90916),o=n(78972),s=n(80878),c=n(83240),l=n(50973),d=n(43672),u=n(80645),p=n(50679),x=n(94085),h=n(54587),m=n.n(h);let f={src:"/_next/static/media/3d-map.a4fed189.jpg",height:333,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAuiZ//8QAHRAAAQIHAAAAAAAAAAAAAAAAAhESAAEDBCEikf/aAAgBAQABPwBzbo6aaiUg7lY//8QAGREAAQUAAAAAAAAAAAAAAAAAAQACERIi/9oACAECAQE/AKNMZC//xAAXEQADAQAAAAAAAAAAAAAAAAABAiEA/9oACAEDAQE/AAzWnf/Z",blurWidth:8,blurHeight:5};var g=n(99087),b=n(85906),j=n(37876),y=function(){var e=(0,a.oB)(function(e){return{address:e.data.props.address,mapCoordinates:e.data.props.mapCoordinates}}),t=e.actions.setProp,n=e.address,h=e.mapCoordinates,y=x.Fr||x.v1;return(0,r.useEffect)(function(){h&&(0,b.$)(h)&&t(function(e){e.mapCoordinates=void 0})},[]),(0,j.jsxs)("div",{className:"mt-4 flex flex-col justify-around items-center",children:[!y&&(0,j.jsx)(m(),{unoptimized:!0,src:f,style:{borderRadius:5,marginBottom:15},alt:"Map thumbnail",width:250,height:160}),(0,j.jsxs)(i.A,{layout:"vertical",style:{width:"100%"},children:[(0,j.jsx)(i.A.Item,{label:"Địa chỉ",children:(0,j.jsx)(o.A,{value:n,onChange:function(e){t(function(t){return t.address=e.target.value})},placeholder:"Nhập địa chỉ (VD: 52 Miếu Đầm, Mễ Tr\xec, Nam Từ Li\xeam, H\xe0 Nội)",prefix:(0,j.jsx)(p.vq8,{style:{color:"#ff8fa3",marginRight:8}})})}),(0,j.jsxs)(i.A.Item,{label:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,j.jsx)("span",{children:"Tọa độ (T\xf9y chọn)"}),h&&(0!==h.lat||0!==h.lng)&&(0,j.jsx)(s.A,{title:"X\xf3a tọa độ",children:(0,j.jsx)(c.Ay,{type:"text",size:"small",icon:(0,j.jsx)(g.IXo,{size:13}),onClick:function(){t(function(e){e.mapCoordinates=void 0})},style:{color:"#ff4d4f",padding:"4px 8px",height:"auto",fontSize:"12px"},title:"X\xf3a tọa độ"})})]}),children:[(0,j.jsxs)(l.A,{gutter:8,children:[(0,j.jsx)(d.A,{span:12,children:(0,j.jsx)(u.A,{style:{width:"100%"},placeholder:"Vĩ độ (Latitude)",value:null==h?void 0:h.lat,onChange:function(e){t(function(t){if(null===e){var n;null!=(n=t.mapCoordinates)&&n.lng?t.mapCoordinates.lat=0:t.mapCoordinates=void 0}else t.mapCoordinates?t.mapCoordinates.lat=e:t.mapCoordinates={lat:e,lng:0}})},precision:6,min:-90,max:90,prefix:(0,j.jsx)(p.jHd,{style:{color:"#ff8fa3",marginRight:4}})})}),(0,j.jsx)(d.A,{span:12,children:(0,j.jsx)(u.A,{style:{width:"100%"},placeholder:"Kinh độ (Longitude)",value:null==h?void 0:h.lng,onChange:function(e){t(function(t){if(null===e){var n;null!=(n=t.mapCoordinates)&&n.lat?t.mapCoordinates.lng=0:t.mapCoordinates=void 0}else t.mapCoordinates?t.mapCoordinates.lng=e:t.mapCoordinates={lat:0,lng:e}})},precision:6,min:-180,max:180,prefix:(0,j.jsx)(p.jHd,{style:{color:"#ff8fa3",marginRight:4}})})})]}),(0,j.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px",fontStyle:"italic",textAlign:"center"},children:"\uD83D\uDCA1 Nếu c\xf3 tọa độ, hệ thống sẽ ưu ti\xean sử dụng tọa độ thay v\xec địa chỉ"})]})]})]})}},31233:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var r=n(27002),a=n.n(r),i=n(14232),o=n(63857),s=n(43081),c=n.n(s),l=n(87334),d=n(3566),u=n(36423),p=n(73301),x=n(80878),h=n(1440),m=n(83240),f=n(43617),g=n(30638),b=n(33413),j=n(3410),y=n(89099),v=n(10553),w=n(46264),k=n(54979),N=n(37876);let A=function(e){var t=e.favoriteCount,n=e.viewCount,r=e.vertical,a=void 0===r||r,i=e.size,o=void 0===i?"default":i,s="flex ".concat(a?"flex-col":"flex-row"," ").concat(a?"gap-1":"gap-2"," items-").concat(a?"end":"center"),c="rounded-full text-xs font-medium flex items-center ".concat("small"===o?"px-1.5 py-0.5 text-[10px]":"px-2 py-1");return(0,N.jsxs)("div",{className:s,children:[(0,N.jsxs)("div",{style:{background:"#ff4d6d"},className:"text-white ".concat(c),children:[(0,N.jsx)(g.A,{style:{marginRight:4,fontSize:"small"===o?10:14}}),void 0===t?0:t]}),(0,N.jsxs)("div",{className:"bg-blue-500 text-white ".concat(c),children:[(0,N.jsx)(k.A,{style:{marginRight:4,fontSize:"small"===o?10:14}}),void 0===n?0:n]})]})};var C=n(94085);let S=function(e){var t,n,r,a=e.templateData,s=e.isFavorited,k=void 0!==s&&s,S=e.showUseTemplate,O=void 0===S||S,T=(0,y.useRouter)(),D=(0,i.useState)(!1),E=D[0],R=D[1],I=(0,i.useState)(!0),P=I[0],B=I[1],z=(0,i.useState)(""),_=z[0],F=z[1],L=a.id,M=a.slug,H=(0,i.useState)(!1),U=H[0],K=H[1],W=(0,i.useState)(!1),X=W[0],G=W[1],Y=(0,v.useSession)(),q=Y.status,V=Y.data,Q="authenticated"===q,Z=(0,i.useState)(k),J=Z[0],$=Z[1];(0,i.useEffect)(function(){$(k)},[k]);var ee=(0,w.p)().toggleFavorite,et="".concat(u.A.APP_URL,"/template/").concat(M);(0,i.useEffect)(function(){en()},[]);var en=(t=(0,o.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.toDataURL(et,{width:128,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"});case 3:F(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error generating QR code:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),er=function(){R(!1),B(!0)},ea=(n=(0,o.A)(c().mark(function e(){var t,n,r,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),n=T.query,r=(null==V||null==(t=V.user)?void 0:t.role)==="partner"?"/partner/editor-template/".concat(L):"/editor-template/".concat(L),n.clientId&&(a=Array.isArray(n.clientId)?n.clientId[0]:n.clientId,r+="?clientId=".concat(a)),e.next=8,T.push(r);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Navigation error:",e.t0),K(!1);case 14:case"end":return e.stop()}},e,null,[[0,10]])})),function(){return n.apply(this,arguments)}),ei=(r=(0,o.A)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:if(Q){e.next=5;break}return p.Ay.error("Vui l\xf2ng đăng nhập để th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"),e.abrupt("return");case 5:return G(!0),e.prev=6,t=J,$(!J),e.next=11,ee(L);case 11:e.sent?p.Ay.success(t?"Đ\xe3 x\xf3a khỏi danh s\xe1ch y\xeau th\xedch":"Đ\xe3 th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"):($(t),p.Ay.error("Kh\xf4ng thể cập nhật trạng th\xe1i y\xeau th\xedch. Vui l\xf2ng thử lại sau.")),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("Error updating favorite status:",e.t0),$(k),p.Ay.error("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại sau.");case 20:return e.prev=20,G(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[6,15,20,23]])})),function(){return r.apply(this,arguments)});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"flex gap-2 items-center flex-col",children:(0,N.jsx)("div",{className:"",children:(0,N.jsx)("button",{onClick:function(){R(!0)},style:{background:"linear-gradient(135deg, #fa7f98 0%, #e66f87 100%)",borderRadius:40},className:"px-4 py-1 text-white font-semibold rounded opacity-70 hover:opacity-100 transition-opacity duration-200",children:"Xem mẫu"})})}),(0,N.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-1 left-1 py-0.5",children:(0,N.jsx)(x.A,{title:J?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:(0,N.jsx)("button",{onClick:ei,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":J?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:J?(0,N.jsx)(g.A,{style:{fontSize:25,color:"#ff4d6d"}}):(0,N.jsx)(b.A,{style:{fontSize:25,color:"#ff4d6d"}})})})}),(0,N.jsx)("div",{className:"absolute top-2 right-2",children:(0,N.jsx)(A,{favoriteCount:a.favoriteCount,viewCount:a.viewCount,usageCount:a.usageCount,vertical:!0})}),(0,N.jsx)(l.e,{appear:!0,show:E,as:i.Fragment,children:(0,N.jsxs)(d.lG,{style:{zIndex:9999},as:"div",className:"relative z-10",onClose:er,children:[(0,N.jsx)(l.e.Child,{as:i.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,N.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,N.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,N.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,N.jsx)(l.e.Child,{as:i.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-400",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,N.jsxs)(d.lG.Panel,{className:"w-full max-w-md md:max-w-2xl lg:max-w-2xl xl:max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,N.jsx)("div",{className:"flex justify-center items-center",children:(0,N.jsxs)("div",{className:"max-w-4xl w-full p-2 flex flex-col md:flex-row",children:[(0,N.jsxs)("div",{className:"flex flex-col items-center w-full md:w-1/2 px-2 rounded-lg",children:[(0,N.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-2 left-1 py-0.5",children:(0,N.jsx)("button",{onClick:ei,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":J?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:J?(0,N.jsx)(g.A,{style:{fontSize:25,color:"#ff4d6d"}}):(0,N.jsx)(b.A,{style:{fontSize:25,color:"#ff4d6d"}})})}),(0,N.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,N.jsx)(A,{favoriteCount:a.favoriteCount,viewCount:a.viewCount,usageCount:a.usageCount,vertical:!0})}),(0,N.jsxs)("div",{className:"iframe-wrapper bg-white rounded-lg overflow-hidden shadow-md w-full relative",style:{width:"90%",height:"70vh",overflow:"hidden"},children:[P&&(0,N.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:(0,N.jsx)(h.A,{size:"default",tip:"Loading template..."})}),(0,N.jsx)("iframe",{src:"".concat(u.A.APP_URL,"/template/iframe/").concat(M),title:"Xem trước mẫu thiệp",style:{width:"166.67%",height:"166.67%",transform:"scale(0.6)",transformOrigin:"top left",border:"none",visibility:P?"hidden":"visible"},frameBorder:"0",allowFullScreen:!0,onLoad:function(){B(!1)}})]})]}),(0,N.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-between p-4 border-l",children:[(0,N.jsx)("div",{className:"mb-4 hidden md:block",children:O?(0,N.jsxs)("ul",{className:"text-gray-700 space-y-2",children:[(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Chuy\xean nghiệp:"})," Thiết kế đẹp mắt, ph\xf9 hợp nhiều phong c\xe1ch"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Dễ d\xe0ng:"})," Chỉnh sửa trực quan, kh\xf4ng cần kinh nghiệm"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Tiện lợi:"})," Chia sẻ ngay qua mạng x\xe3 hội hoặc tin nhắn"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Tối ưu:"})," Hiển thị tốt tr\xean mọi thiết bị"]})]}):(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Dịch vụ tạo thiệp trọn g\xf3i"}),(0,N.jsxs)("ul",{className:"text-gray-700 space-y-2 text-left",children:[(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Thiết kế chuy\xean nghiệp:"})," Đội ngũ designer tạo thiệp theo y\xeau cầu"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Ho\xe0n thiện 100%:"})," Từ thiết kế đến triển khai, bạn kh\xf4ng cần l\xe0m g\xec"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Thời gian nhanh:"})," Ho\xe0n th\xe0nh sau 1-3 ng\xe0y l\xe0m việc"]}),(0,N.jsxs)("li",{children:[(0,N.jsx)("strong",{children:"Hỗ trợ 24/7:"})," Đội ngũ chuy\xean nghiệp lu\xf4n sẵn s\xe0ng hỗ trợ"]})]})]})}),(0,N.jsxs)("div",{className:"flex space-x-4 ".concat(O?"justify-between":"justify-center"),children:[(0,N.jsx)(m.Ay,{className:"px-4 m-auto py-2 rounded-full",onClick:function(){var e=O?et:"".concat(et).concat(et.includes("?")?"&":"?","onlyPreview=true");window.open(e,"_blank")},children:"Xem trực tiếp"}),O?(0,N.jsx)(m.Ay,{onClick:ea,type:"primary",className:"px-4 m-auto py-2 text-white font-semibold rounded-full hover:opacity-100 transition-opacity duration-200",disabled:U,children:U?(0,N.jsxs)("span",{className:"flex items-center gap-2",children:[(0,N.jsx)(h.A,{size:"small"}),"Loading..."]}):"D\xf9ng mẫu n\xe0y"}):(0,N.jsx)(m.Ay,{onClick:function(){R(!1);var e=a.templateName||"Mẫu ".concat(a.id);T.push({pathname:"/thiep-tron-goi",query:{templateId:a.id,templateName:e}})},type:"primary",className:"px-6 py-2 text-white font-semibold rounded-full hover:opacity-100 transition-opacity duration-200 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:"Đặt l\xe0m mẫu n\xe0y"})]}),!C.Fr&&(0,N.jsxs)("div",{className:"flex flex-col items-center",children:[_?(0,N.jsx)("img",{src:_,alt:"QR Code",className:"w-32 h-32 mb-4"}):(0,N.jsx)("div",{className:"w-32 h-32 mb-4 flex items-center justify-center",children:(0,N.jsx)(h.A,{size:"small"})}),(0,N.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:"Qu\xe9t m\xe3 QR để xem tr\xean điện thoại"})]})]})]})}),(0,N.jsx)("div",{className:"mt-2 md:hidden flex justify-center",children:(0,N.jsxs)("button",{onClick:er,className:"w-full max-w-sm py-3 px-4 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[(0,N.jsx)(j.A,{}),"Đ\xf3ng"]})})]})})})})]})})]})};var O=n(32716);let T=function(e){var t=e.imageSrc,n=e.templateData,r=e.showUseTemplate,o=(0,i.useState)(0),s=o[0],c=o[1],l=(0,i.useRef)(null),d=(0,i.useState)(336),u=d[0],p=d[1],x=(0,i.useRef)(null),h=(0,(0,w.p)().isFavorite)(n.id);!function(){var e=new Date,t=n.createdAt?new Date(n.createdAt):null,r=t&&e.getTime()-t.getTime()<=5184e6,a=n.viewCount&&n.viewCount>1e3||n.favoriteCount&&n.favoriteCount>100||n.usageCount&&n.usageCount>800;if(r&&a||r||a);}();var m=n.templateType?{type:n.templateType.toLowerCase(),text:n.templateType.toUpperCase()}:{type:"free",text:"FREE"};(0,i.useEffect)(function(){var e=function(){var e=x.current;e&&p(Math.floor(1.47*e.clientWidth))};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,i.useEffect)(function(){var e=l.current;e&&(e.complete?f(e):e.onload=function(){return f(e)})},[t,u]);var f=function(e){var t=e.naturalWidth/e.naturalHeight;c(Math.max(0,e.width/t-u))};return(0,N.jsxs)("div",{style:{"--image-scroll-height":"".concat(s,"px"),"--scroll-duration":"".concat(s/120,"s"),"--container-height":"".concat(u,"px")},className:"jsx-2086975127 infrastructure",children:[(0,N.jsxs)("div",{style:{width:"100%",borderRadius:5},className:"jsx-2086975127 invitation finger transition",children:[(0,N.jsxs)("div",{ref:x,className:"jsx-2086975127 image",children:[m&&(0,N.jsx)("div",{className:"jsx-2086975127 "+"badge badge-".concat(m.type," badge-right"),children:m.text}),(0,N.jsx)("div",{className:"jsx-2086975127 el-image elImage",children:(0,N.jsx)("img",{ref:l,src:t,alt:"".concat((0,O.g)(n.categoryId)," miễn ph\xed - ").concat(n.templateName||(0,O.g)(n.categoryId)," | Cinelove"),title:"Xem v\xe0 t\xf9y chỉnh ".concat(n.templateName||(0,O.g)(n.categoryId)," miễn ph\xed"),style:{objectFit:"contain"},loading:"lazy",decoding:"async",className:"jsx-2086975127 el-image__inner"})})]}),(0,N.jsx)("div",{className:"jsx-2086975127",children:(0,N.jsx)("div",{className:"jsx-2086975127 absolute inset-0 flex items-end justify-center opacity-0 transition-opacity duration-300 hover:opacity-100 pb-4",children:(0,N.jsx)(S,{templateData:n,isFavorited:h,showUseTemplate:void 0===r||r})})})]}),(0,N.jsx)(a(),{id:"2086975127",children:[".invitation.jsx-2086975127,.poster.jsx-2086975127,.mv.jsx-2086975127{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".invitation.jsx-2086975127{border:1px solid #0000001f;box-shadow:0 0 10px #0003;}",".finger.jsx-2086975127{cursor:pointer;}",".transition.jsx-2086975127{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}",".invitation.jsx-2086975127 .image.jsx-2086975127{height:var(--container-height);overflow:hidden;width:100%;border-radius:5px;position:relative;}",".poster.jsx-2086975127 .image.jsx-2086975127{width:100%;border-radius:5px;}",".elImage.jsx-2086975127{width:100%;height:100%;}",".el-image__inner.jsx-2086975127,.el-image__wrapper.jsx-2086975127{height:100%;width:100%;}",".el-image.jsx-2086975127{display:inline-block;overflow:hidden;position:relative;}",".elImage.jsx-2086975127 .el-image__inner.jsx-2086975127{height:auto;-webkit-transition:-webkit-transform 1s ease 0s;-webkit-transition:transform 1s ease 0s;transition:transform 1s ease 0s;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}",".el-image__inner.jsx-2086975127{opacity:1;vertical-align:top;}",".invitation.jsx-2086975127:hover,.poster.jsx-2086975127:hover{background:#fff !important;-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);box-shadow:0 0 10px #0003;}",".invitation.jsx-2086975127:hover .elImage.jsx-2086975127 .el-image__inner.jsx-2086975127,.poster.jsx-2086975127:hover .elImage.jsx-2086975127 .el-image__inner.jsx-2086975127{-webkit-transition:-webkit-transform var(--scroll-duration) ease 0s;-webkit-transition:transform var(--scroll-duration) ease 0s;transition:transform var(--scroll-duration) ease 0s;-webkit-transform:translateY(calc(var(--image-scroll-height) * -1));-ms-transform:translateY(calc(var(--image-scroll-height) * -1));transform:translateY(calc(var(--image-scroll-height) * -1));}",".center.jsx-2086975127{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".badge.jsx-2086975127{position:absolute;top:8px;left:8px;z-index:1;padding:2px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;line-height:17px;}",".badge-new.jsx-2086975127{background:linear-gradient(135deg,#10b981,#059669);color:white;}",".badge-hot.jsx-2086975127{background:linear-gradient(135deg,#f59e0b,#d97706);color:white;}",".badge-premium.jsx-2086975127{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:white;}",".badge-basic.jsx-2086975127{background:linear-gradient(135deg,#3b82f6,#2563eb);color:white;}",".badge-free.jsx-2086975127{background:linear-gradient(135deg,#6b7280,#4b5563);color:white;display:none;}",".badge-right.jsx-2086975127{top:8px;right:8px;left:auto;}",".invitation.jsx-2086975127:hover .badge.jsx-2086975127{opacity:0;-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);-webkit-transition:all 0.3s ease;transition:all 0.3s ease;-webkit-transform:translateY(-40px);-ms-transform:translateY(-40px);transform:translateY(-40px);}","@media (max-width:500px){.button.jsx-2086975127{font-size:12px;padding:6px 10px;}.badge.jsx-2086975127{font-size:10px;padding:2px 6px;top:6px;left:6px;border-radius:8px;}.badge-right.jsx-2086975127{top:6px;right:6px;left:auto;}}"]})]})}},31452:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r=n(42969),a=n(8106);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={title:"",thumbnail:"",longThumbnail:"",status:"draft",showBottomToolbar:!0,categoryId:"",description:"",tags:[],slug:"",openingEffect:null,snowflakeEffect:null},c=(0,a.v)(function(e){return{settings:o({},s),setTitle:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{title:t})}})},setThumbnail:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{thumbnail:t})}})},setLongThumbnail:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{longThumbnail:t})}})},setStatus:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{status:t})}})},setShowBottomToolbar:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{showBottomToolbar:t})}})},setCategoryId:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{categoryId:t})}})},setDescription:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{description:t})}})},setTags:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{tags:t})}})},setSlug:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{slug:t})}})},setOpeningEffect:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{openingEffect:t})}})},setSnowflakeEffect:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{snowflakeEffect:t})}})},resetSettings:function(){return e({settings:o({},s)})}}})},32216:(e,t,n)=>{"use strict";n.d(t,{A:()=>x}),n(14232);var r=n(27002),a=n.n(r),i=n(37876);let o=function(e){var t,n=e.address,r=e.coordinates,o=e.width,s=e.height,c=e.zoom,l=void 0===c?14:c,d=e.borderRadius,u=void 0===d?[0,0,0,0]:d;if(r&&0!==r.lat&&0!==r.lng)t="https://maps.google.com/maps?q=".concat(r.lat,",").concat(r.lng,"&t=&z=").concat(l,"&ie=UTF8&iwloc=&output=embed");else if(n){var p=encodeURIComponent(n);t="https://maps.google.com/maps?q=".concat(p,"&t=&z=").concat(l,"&ie=UTF8&iwloc=&output=embed")}else t="https://maps.google.com/maps?q=21.0285,105.8542&t=&z=".concat(l,"&ie=UTF8&iwloc=&output=embed");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:void 0===o?"100%":o,height:void 0===s?"100%":s},className:"jsx-1691086756 simple-map-container",children:(0,i.jsx)("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0,borderRadius:"".concat(u[0],"px ").concat(u[1],"px ").concat(u[2],"px ").concat(u[3],"px")},src:t,allowFullScreen:!0,className:"jsx-1691086756"})}),(0,i.jsx)(a(),{id:"1691086756",children:[".simple-map-container.jsx-1691086756{position:relative;overflow:hidden;}"]})]})};var s=n(83240),c=n(80878),l=n(86961),d=n(32723),u=n(66125),p=n(85906);let x=function(e){var t=e.address,n=e.coordinates,r=e.borderRadius,a=e.mapView,x=void 0!==a&&a,h=e.onToggleMapView,m=void 0===h?function(){}:h,f=(0,u.hG)(function(e){return{enabled:e.options.enabled}}).enabled,g=(0,p.s)(n);return(0,i.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[f&&(0,i.jsx)(s.Ay,{style:{position:"absolute",top:5,right:5,zIndex:2,padding:"15px 25px",border:"1px solid #ccc"},onClick:function(){m(!x)},children:(0,i.jsx)(c.A,{title:x?"Di chuyển":"Thao t\xe1c bản đồ",children:x?(0,i.jsx)(d.zhn,{size:24}):(0,i.jsx)(l.hxX,{size:24})})}),f&&!x&&(0,i.jsx)("div",{style:{width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.2)",position:"absolute",zIndex:1}}),(0,i.jsx)(o,{address:t,coordinates:g,borderRadius:void 0===r?[0,0,0,0]:r})]})}},33536:(e,t,n)=>{"use strict";n.d(t,{x:()=>m});var r=n(44478),a=n(14232),i=n(53872),o=n(80645),s=n(80878),c=n(83240),l=n(66125),d=n(32723),u=n(59198),p=n(55882),x=n(37876),h=i.A.Option,m=function(){var e=(0,l.oB)(function(e){return{propValue:{borderColor:e.data.props.borderColor||"black",borderSize:e.data.props.borderSize||0,borderStyle:e.data.props.borderStyle||"solid",borderPosition:e.data.props.borderPosition||"all",borderRadius:e.data.props.borderRadius||[0,0,0,0]}}}),t=e.actions.setProp,n=e.propValue,m=(0,a.useState)(!0),f=m[0],g=m[1],b=function(e){t(function(t){e.rgba&&e.rgba.a<1?t.borderColor=j(e.rgba):t.borderColor=e.hex})},j=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""},y=function(e,n){t(function(t){var a=(0,r.A)(t.borderRadius);f?a.fill(e):a[n]=e,t.borderRadius=a})};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("label",{className:"text-sm font-medium mr-4",children:"Size:"}),(0,x.jsx)(o.A,{min:0,max:20,step:1,value:n.borderSize,onChange:function(e){t(function(t){t.borderSize=e})},style:{width:"60px"}})]}),(0,x.jsx)("div",{className:"flex items-center",children:(0,x.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,x.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u:"}),(0,x.jsx)(p.V,{value:n.borderColor,onChange:function(e){return b(e)}})]})})]}),(0,x.jsxs)("div",{className:"flex items-center mb-4",children:[(0,x.jsx)("label",{className:"text-sm font-medium mr-4",children:"Kiểu:"}),(0,x.jsxs)(i.A,{value:n.borderStyle,onChange:function(e){t(function(t){t.borderStyle=e})},style:{flex:1},children:[(0,x.jsx)(h,{value:"solid",children:"N\xe9t liền"}),(0,x.jsx)(h,{value:"dashed",children:"N\xe9t đứt"}),(0,x.jsx)(h,{value:"dotted",children:"Chấm tr\xf2n"}),(0,x.jsx)(h,{value:"double",children:"Viền đ\xf4i"})]})]}),(0,x.jsxs)("div",{className:"flex items-center mb-4",children:[(0,x.jsx)("label",{className:"text-sm font-medium mr-4",children:"Vị tr\xed:"}),(0,x.jsxs)(i.A,{value:n.borderPosition,onChange:function(e){t(function(t){t.borderPosition=e})},style:{flex:1},children:[(0,x.jsx)(h,{value:"all",children:"To\xe0n bộ"}),(0,x.jsx)(h,{value:"top",children:"Tr\xean"}),(0,x.jsx)(h,{value:"bottom",children:"Dưới"}),(0,x.jsx)(h,{value:"right",children:"Phải"}),(0,x.jsx)(h,{value:"left",children:"Tr\xe1i"}),(0,x.jsx)(h,{value:"top-bottom",children:"Tr\xean dưới"}),(0,x.jsx)(h,{value:"right-left",children:"Phải tr\xe1i"}),(0,x.jsx)(h,{value:"upper-left",children:"Tr\xean tr\xe1i"}),(0,x.jsx)(h,{value:"upper-right",children:"Tr\xean phải"}),(0,x.jsx)(h,{value:"lower-left",children:"Dưới tr\xe1i"}),(0,x.jsx)(h,{value:"lower-right",children:"Dưới phải"})]})]}),(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,x.jsx)("label",{className:"text-sm font-medium",children:"Bo g\xf3c"}),(0,x.jsx)(s.A,{title:"".concat(f?"Unlink":"Link"),children:(0,x.jsx)(c.Ay,{type:"text",icon:f?(0,x.jsx)(d.o9J,{size:18}):(0,x.jsx)(d.ryB,{size:18}),onClick:function(){g(function(e){return!e})}})})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,x.jsx)(u.fl9,{size:24}),(0,x.jsx)(o.A,{min:0,value:n.borderRadius[0],onChange:function(e){return y(e,0)},style:{width:"60px"}})]}),(0,x.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,x.jsx)(o.A,{min:0,value:n.borderRadius[1],onChange:function(e){return y(e,1)},style:{width:"60px"}}),(0,x.jsx)(u.EUO,{size:24})]}),(0,x.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,x.jsx)(u.zOe,{size:24}),(0,x.jsx)(o.A,{min:0,value:n.borderRadius[3],onChange:function(e){return y(e,3)},style:{width:"60px"}})]}),(0,x.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,x.jsx)(o.A,{min:0,value:n.borderRadius[2],onChange:function(e){return y(e,2)},style:{width:"60px"}}),(0,x.jsx)(u.G_T,{size:24})]})]})]})]})}},33598:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(42969),a=n(14232),i=n(12133),o=n(39229),s=function(e){var t=e.transition,n=e.enabled,r=e.targetRef,s=t||o.l,c=(0,a.useState)(!1),l=c[0],d=c[1],u=(0,a.useState)(!1),p=u[0],x=u[1],h=(0,a.useState)(!0),m=h[0],f=h[1];(0,a.useEffect)(function(){f(!1)},[]);var g=(0,i.J1)(s,p);return(0,a.useEffect)(function(){if(s.effectEnabled&&n&&!m){x(!0),d(!1);var e=setTimeout(function(){d(!0),setTimeout(function(){x(!1)},(s.effectDuration+s.effectDelay)*1e3+100)},50);return function(){return clearTimeout(e)}}},[s.effectEnabled,s.effectType,s.effectDuration,s.effectDelay,s.effectEasing,n]),(0,a.useEffect)(function(){if(s.effectEnabled){var e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(d(!0),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return r.current&&e.observe(r.current),function(){r.current&&e.unobserve(r.current)}}},[s.effectEnabled,r]),{isVisible:l,effectChanged:p,effectKey:g}},c=n(37876);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let u=function(e){var t=e.transition,n=e.children,r=e.style,o=e.targetRef,l=e.enabled,u=e.onTransitionStart,p=e.onTransitionEnd,x=e.nodeId,h=s({transition:t,enabled:l,targetRef:o}),m=h.isVisible,f=h.effectChanged,g=h.effectKey,b=x?"".concat(x,"-").concat(g):g,j=d(d({},void 0===r?{}:r),(0,i.mU)(t,m));return(0,a.useEffect)(function(){f&&u&&u()},[f,u]),(0,a.useEffect)(function(){!f&&m&&p&&p()},[f,m,p]),(0,c.jsx)("div",{"data-transition-key":b,"data-node-id":x,style:j,children:n},b)}},34664:(e,t,n)=>{"use strict";n.d(t,{A:()=>F});var r=n(27002),a=n.n(r),i=n(14232),o=n(39385),s=n(42969),c=n(18847),l=n.n(c),d=n(37876);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,s.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x=l()(function(){return n.e(150).then(n.bind(n,30150)).then(function(e){return e.Sketch})},{ssr:!1,loadableGenerated:{webpack:function(){return[null]}}});let h=function(e){var t=e.onSelectColor,n=e.currentColor,r=void 0===n?"transparent":n,o=(0,i.useState)("#6F42A3"),s=o[0],c=o[1],l=r.toLowerCase();return(0,d.jsxs)("div",{className:"jsx-2717391082 color-background scroll-list",children:[(0,d.jsxs)("div",{className:"jsx-2717391082 current-colors",children:[(0,d.jsx)("h3",{className:"jsx-2717391082",children:"M\xe0u nền hiện tại"}),(0,d.jsx)("div",{className:"jsx-2717391082 current-color-item",children:(0,d.jsx)("div",{style:p(p({},r.includes("gradient")?{background:r}:{backgroundColor:"transparent"===r?"transparent":r,backgroundImage:"transparent"===r?"url(/images/transparent-color.png)":"none",backgroundSize:["transparent","white","#ffffff"].includes(l)?"cover":"100%"}),{},{border:"1px solid #d4d4d4"}),className:"jsx-2717391082 color-preview"})})]}),(0,d.jsxs)("div",{className:"jsx-2717391082 default-colors",children:[(0,d.jsx)("h3",{className:"jsx-2717391082",children:"M\xe0u nền mặc định"}),(0,d.jsxs)("div",{className:"jsx-2717391082 colors-section",children:[(0,d.jsx)("div",{className:"jsx-2717391082 section-title",children:"M\xe0u đơn"}),(0,d.jsx)("div",{className:"jsx-2717391082 color-grid plain-colors",children:[{id:"transparent",color:"transparent"},{id:"black",color:"#000000"},{id:"gray-dark",color:"#666666"},{id:"gray",color:"#999999"},{id:"gray-light",color:"#CCCCCC"},{id:"white",color:"#FFFFFF"},{id:"red",color:"#C0392B"},{id:"purple",color:"#8E44AD"},{id:"blue",color:"#2980B9"},{id:"teal",color:"#16A085"},{id:"green",color:"#27AE60"},{id:"orange",color:"#E67E22"},{id:"red-light",color:"#E74C3C"},{id:"purple-light",color:"#9B59B6"},{id:"blue-light",color:"#3498DB"},{id:"teal-light",color:"#1ABC9C"},{id:"green-light",color:"#2ECC71"},{id:"orange-light",color:"#F39C12"},{id:"pink-pastel",color:"#FFB6C1"},{id:"lavender-pastel",color:"#E6E6FA"},{id:"sky-pastel",color:"#87CEEB"},{id:"mint-pastel",color:"#98FF98"},{id:"lime-pastel",color:"#BFFF00"},{id:"peach-pastel",color:"#FFDAB9"},{id:"rose-pastel",color:"#FFD1DC"},{id:"baby-blue-pastel",color:"#BFE6FF"},{id:"sage-pastel",color:"#C1E1C1"},{id:"lilac-pastel",color:"#C8A2C8"},{id:"butter-pastel",color:"#FFF4BD"},{id:"coral-pastel",color:"#FFB59C"},{id:"blush-pastel",color:"#FFE4E1"},{id:"periwinkle-pastel",color:"#CCCCFF"},{id:"seafoam-pastel",color:"#98FF98"},{id:"mauve-pastel",color:"#E0B0FF"},{id:"cream-pastel",color:"#FFFDD0"},{id:"apricot-pastel",color:"#FFE5B4"}].map(function(e){return(0,d.jsx)("div",{onClick:function(){return t(e.color)},className:"jsx-2717391082 color-item",children:(0,d.jsx)("div",{style:{background:"transparent"===e.id?"url(/images/transparent-color.png)":e.color,backgroundSize:"transparent"===e.id?"cover":"100%",border:"1px solid #ddd"},className:"jsx-2717391082 color-preview"})},e.id)})})]}),(0,d.jsxs)("div",{className:"jsx-2717391082 colors-section",children:[(0,d.jsx)("div",{className:"jsx-2717391082 section-title",children:"M\xe0u nền gradient"}),(0,d.jsx)("div",{className:"jsx-2717391082 color-grid gradient-colors",children:[{id:"gradient-1",color:"linear-gradient(45deg, #FF6B6B, #FF8E53)"},{id:"gradient-2",color:"linear-gradient(45deg, #9B59B6, #3498DB)"},{id:"gradient-3",color:"linear-gradient(45deg, #4A90E2, #50E3C2)"},{id:"gradient-4",color:"linear-gradient(45deg, #43E97B, #38F9D7)"},{id:"gradient-5",color:"linear-gradient(45deg, #A8E6CF, #DCEDC1)"},{id:"gradient-6",color:"linear-gradient(45deg, #FFD3A5, #FD6585)"},{id:"gradient-7",color:"linear-gradient(45deg, #8E2DE2, #4A00E0)"},{id:"gradient-8",color:"linear-gradient(45deg, #F953C6, #B91D73)"},{id:"gradient-9",color:"linear-gradient(45deg, #00B4DB, #0083B0)"},{id:"gradient-10",color:"linear-gradient(45deg, #F7971E, #FFD200)"},{id:"gradient-11",color:"linear-gradient(45deg, #56CCF2, #2F80ED)"},{id:"gradient-12",color:"linear-gradient(45deg, #A770EF, #CF8BF3)"}].map(function(e){return(0,d.jsx)("div",{onClick:function(){return t(e.color)},className:"jsx-2717391082 color-item",children:(0,d.jsx)("div",{style:{background:e.color},className:"jsx-2717391082 color-preview"})},e.id)})})]})]}),(0,d.jsx)("div",{className:"jsx-2717391082 color-selector",children:(0,d.jsx)(x,{style:{width:"100%"},color:s,onChange:function(e){c(e.hexa),t(e.hexa)},presetColors:[]})}),(0,d.jsx)(a(),{id:"2717391082",children:[".color-background.jsx-2717391082{padding:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:24px;height:100%;overflow-y:auto;}","h3.jsx-2717391082{font-size:14px;color:#666;margin-bottom:12px;}",".current-colors.jsx-2717391082{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".current-color-item.jsx-2717391082{width:40px;height:40px;}",".color-list.jsx-2717391082{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;}",".color-grid.jsx-2717391082{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-top:16px;}",".colors-section.jsx-2717391082{margin-bottom:20px;}",".section-title.jsx-2717391082{font-size:14px;color:#666;margin-bottom:12px;}",".color-item.jsx-2717391082{aspect-ratio:1;cursor:pointer;border-radius:8px;overflow:hidden;}",".color-preview.jsx-2717391082{width:100%;height:100%;border-radius:8px;-webkit-transition:-webkit-transform 0.2s,border 0.2s;-webkit-transition:transform 0.2s,border 0.2s;transition:transform 0.2s,border 0.2s;}",".color-preview.jsx-2717391082:hover{border:1px solid #4dabff !important;}",".color-tabs{margin-bottom:8px;}",".color-selector.jsx-2717391082{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-top:1px solid #f0f0f0;padding-top:16px;}",".w-color-sketch{box-shadow:none !important;padding:0 !important;}",".w-color-sketch .w-color-sketch-saturation{border-radius:8px;margin-bottom:12px;}",".w-color-sketch .w-color-sketch-hue{height:12px !important;border-radius:6px;margin-bottom:12px;}",".w-color-sketch .w-color-sketch-alpha{height:12px !important;border-radius:6px;}",".w-color-sketch .w-color-sketch-handler{width:20px !important;height:20px !important;border:2px solid #fff !important;box-shadow:0 0 0 1px rgba(0,0,0,0.1) !important;}"]})]})};var m=n(63857),f=n(43081),g=n.n(f),b=n(74103),j=n(36423),y=n(44478),v=n(73301),w=n(83240),k=n(45503),N=n(1440),A=n(29916),C=n(50973),S=n(43672),O=n(54587),T=n.n(O),D=n(89099),E=n(62081),R=n(16825),I=n(14658),P=n(40673);let B=function(e){var t,n=e.onSelectImage,r=(0,D.useRouter)(),a=(0,i.useState)(!1),o=a[0],s=a[1],c=(0,i.useState)([]),l=c[0],u=c[1],p=(0,i.useState)(!1),x=p[0],h=p[1],f=(0,i.useRef)({}),b=(0,E.x)(function(e){return e.refreshTrigger}),j=r.pathname.startsWith("/admin/templates/edit"),O=r.query.id,B=function(){s(!1)},z=function(e){n((0,P.T_)(e.fileKey)),v.Ay.success("Đ\xe3 chọn h\xecnh nền c\xe1 nh\xe2n"),s(!1)},_=(t=(0,m.A)(g().mark(function e(){var t,n,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),e.prev=1,t=[],n=r.pathname.startsWith("/admin/edit-as/"),!(j&&O)){e.next=10;break}return e.next=7,(0,I.CE)(O);case 7:case 13:t=e.sent,e.next=32;break;case 10:if(!j){e.next=16;break}return e.next=13,(0,I.B9)();case 16:if(!n){e.next=29;break}if(!(a=r.query.user_id)){e.next=24;break}return e.next=21,(0,R.Ec)(a);case 21:t=e.sent,e.next=27;break;case 24:return e.next=26,(0,R.bl)();case 26:t=e.sent;case 27:e.next=32;break;case 29:return e.next=31,(0,R.bl)();case 31:t=e.sent;case 32:u(F(t)),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(1),console.error("Error fetching photos:",e.t0),v.Ay.error("Kh\xf4ng thể tải danh s\xe1ch ảnh");case 40:return e.prev=40,h(!1),e.finish(40);case 43:case"end":return e.stop()}},e,null,[[1,36,40,43]])})),function(){return t.apply(this,arguments)}),F=function(e){return(0,y.A)(e).sort(function(e,t){return new Date(t.createdAt||0).getTime()-new Date(e.createdAt||0).getTime()})};(0,i.useEffect)(function(){o&&_()},[b,o]);var L=(l.reduce(function(e,t){return e+(t.fileSize||0)},0)/0x40000000).toFixed(4);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"personal-background-container",children:(0,d.jsxs)("div",{className:"p-4 text-center",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Chọn h\xecnh nền từ ảnh bạn đ\xe3 tải l\xean"}),(0,d.jsx)(w.Ay,{type:"primary",size:"large",onClick:function(){_(),s(!0)},className:"w-full",children:"Chọn h\xecnh nền c\xe1 nh\xe2n"})]})}),(0,d.jsx)(k.A,{title:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:"Chọn h\xecnh nền c\xe1 nh\xe2n"}),(0,d.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Chọn ảnh bạn muốn sử dụng l\xe0m h\xecnh nền"})]}),open:o,onCancel:B,footer:[(0,d.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Tổng ",l.length," ảnh (",L," GB)"]},"info"),(0,d.jsx)(w.Ay,{onClick:B,children:"Đ\xf3ng"},"back")],width:600,styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:x?(0,d.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,d.jsx)(N.A,{tip:"Đang tải..."})}):0===l.length?(0,d.jsx)(A.A,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,d.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,d.jsx)(C.A,{gutter:[16,16],style:{marginBottom:"16px"},children:l.map(function(e){return(0,d.jsx)(S.A,{xs:12,sm:8,md:6,lg:6,xl:6,children:(0,d.jsx)("div",{className:"user-upload-item cursor-pointer",onClick:function(){return z(e)},children:(0,d.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 hover:scale-[1.02]",children:(0,d.jsx)(T(),{unoptimized:!0,src:(0,P.$W)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){t&&(f.current[e.fileId]=t)}})})})},e.fileId)})})})})]})};var z=n(66125);let _=function(e){var t=e.onSelectImage,n=e.isMobile,r=void 0!==n&&n,o=(0,z.hG)().query,s=(0,i.useState)(!0),c=s[0],l=s[1],u=(0,i.useState)([]),p=u[0],x=u[1],h=(0,i.useState)(null),f=h[0],y=h[1];return(0,i.useEffect)(function(){var e=function(){try{var e=o.node("ROOT").get().data.props.background;e&&(e.startsWith("http://")||e.startsWith("https://"))?y(e):y(null)}catch(e){console.error("Error getting current background:",e)}};e();var t=setInterval(e,500);return function(){clearInterval(t)}},[o]),(0,i.useEffect)(function(){var e;(e=(0,m.A)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j.A.API_URL,"/api/resources/categories/background"));case 3:return t=e.sent,e.next=6,t.json();case 6:x(e.sent.items||[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching backgrounds:",e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),(0,d.jsxs)("div",{className:a().dynamic([["4083541247",[r?"100px":"0"]]])+" scroll-list",children:[f&&(0,d.jsxs)("div",{className:a().dynamic([["4083541247",[r?"100px":"0"]]])+" current-background-section",children:[(0,d.jsx)("div",{className:a().dynamic([["4083541247",[r?"100px":"0"]]])+" current-background-label",children:"H\xecnh nền đ\xe3 chọn"}),(0,d.jsx)("div",{className:a().dynamic([["4083541247",[r?"100px":"0"]]])+" current-background-item",children:(0,d.jsx)(T(),{src:f,alt:"Current background",fill:!0,className:"background-image",unoptimized:!0,style:{objectFit:"contain",objectPosition:"center"}})})]}),(0,d.jsx)(B,{onSelectImage:t}),(0,d.jsx)("div",{className:a().dynamic([["4083541247",[r?"100px":"0"]]])+" background-list-container",children:c?(0,d.jsx)(b.A,{count:15}):p.map(function(e){return(0,d.jsx)("div",{onClick:function(){return t("".concat(j.A.CDN_URL,"/").concat(e.fileKey))},className:a().dynamic([["4083541247",[r?"100px":"0"]]])+" background-item",children:(0,d.jsx)("img",{src:"".concat(j.A.CDN_URL,"/resources/background/thumbnail/").concat(e.id,".webp"),alt:"Background thumbnail",style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:a().dynamic([["4083541247",[r?"100px":"0"]]])})},e.id)})}),(0,d.jsx)(a(),{id:"4083541247",dynamic:[r?"100px":"0"],children:[".scroll-list.__jsx-style-dynamic-selector{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:100%;}",".current-background-section.__jsx-style-dynamic-selector{padding:16px 12px;border-bottom:1px solid #e5e7eb;background:#f9fafb;}",".current-background-label.__jsx-style-dynamic-selector{font-size:12px;font-weight:600;color:#1890ff;margin-bottom:12px;text-transform:uppercase;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;}",".current-background-item.__jsx-style-dynamic-selector{text-align:center;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;border:2px solid #1890ff;position:relative;margin:0 auto;}",".background-list-container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:".concat(r?"100px":"0",";padding:20px 10px 20px 12px;}"),".background-item.__jsx-style-dynamic-selector{text-align:center;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;cursor:pointer;margin:auto;position:relative;}",".background-item.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector,.background-item.__jsx-style-dynamic-selector .background-image.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;}",".background-item.__jsx-style-dynamic-selector:hover img.__jsx-style-dynamic-selector,.background-item.__jsx-style-dynamic-selector:hover .background-image.__jsx-style-dynamic-selector{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.9;}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})},F=function(){var e=(0,z.hG)(),t=(e.connectors.create,e.actions);e.query.node("ROOT").get();var n=(0,i.useState)(!1);n[0],n[1];var r=(0,i.useState)("transparent"),s=r[0],c=r[1],l=function(e){t.setProp("ROOT",function(t){t.background=e})},u=function(e){t.setProp("ROOT",function(t){t.background=e})};return(0,d.jsxs)("div",{className:"jsx-191916180 background-tab",children:[(0,d.jsx)(o.A,{defaultActiveKey:"color",items:[{key:"color",label:"M\xe0u nền",children:(0,d.jsx)(h,{onSelectColor:function(e){console.log("Selected color:",e),c(e),l(e)},currentColor:s})},{key:"image",label:"H\xecnh nền",children:(0,d.jsx)(_,{onSelectImage:function(e){console.log("Selected image:",e),u(e)}})}]}),(0,d.jsx)(a(),{id:"191916180",children:[".background-tab.jsx-191916180{height:100%;overflow:hidden;}",".background-tab .ant-tabs{height:100%;}",".background-tab .ant-tabs-nav{margin:0 !important;padding:0 16px;border-bottom:1px solid #f0f0f0;}",".background-tab .ant-tabs-tab{padding:12px 0 !important;margin:0 24px 0 0 !important;font-size:14px;font-weight:500;color:#666;}",".background-tab .ant-tabs-tab-active{color:#1890ff !important;}",".background-tab .ant-tabs-ink-bar{background:#1890ff !important;height:2px !important;}",".background-tab .ant-tabs-content{height:calc(100% - 44px);}",".background-tab .ant-tabs-tabpane{height:100%;padding:0 !important;}"]})]})}},37436:(e,t,n)=>{"use strict";n.d(t,{f:()=>U});var r=n(42969),a=n(27002),i=n.n(a),o=n(66125),s=n(14232),c=n(11055),l=n.n(c),d=n(82599),u=n(15030),p=n(3194),x=n(48371),h=n(93521),m=n(61646),f=n(95463),g=n(25192),b=n(33536),j=n(96447),y=n(12448),v=n(39229),w=n(94085),k=n(8561),N=n(51558),A=n(37876),C=k.A.Text,S=function(){var e=(0,o.oB)(function(e){return{text:e.data.props.text||""}}),t=e.actions.setProp,n=e.text,r=(0,s.useState)(0),a=r[0],i=r[1],c=(0,s.useState)(""),l=c[0],d=c[1];(0,s.useEffect)(function(){var e=document.createElement("div");e.innerHTML=n,i((e.textContent||"").length),d(n)},[n]);var u=function(e){if(e.length<=1e3){var n=e.replace(/\n/g,"<br>").replace(/\r/g,"");t(function(e){e.text=n}),d(e),i(e.length)}};return(0,A.jsxs)("div",{className:"space-y-2 px-1 py-2",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsx)(N.JU,{htmlFor:"text-content",value:"Nội dung văn bản",className:"text-sm font-medium text-gray-700"}),(0,A.jsxs)(C,{className:"text-xs text-gray-500",children:[a,"/",1e3]})]}),(0,A.jsx)(N.TM,{id:"text-content",value:l.replace(/<br>/g,"\n"),onChange:function(e){return u(e.target.value)},placeholder:"Nhập nội dung văn bản của bạn...",rows:4,maxLength:1e3,className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 resize-none",helperText:(0,A.jsx)(C,{className:"text-xs text-gray-500 mt-1",children:"Nhấn Enter để xuống d\xf2ng"})})]})},O=n(67708),T=n(99205),D=n(16495),E=n(13286),R=n(33598),I=n(10881),P=n(86961),B=n(21350),z=n(47139),_={EDIT:"Sửa",STYLE:"Kiểu chữ",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",HYPERLINK:"Li\xean kết",TRANSITION:"Hiệu ứng động",ANIMATION:"Chuyển động"},F=n(46648),L=n(47908);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=function(e){var t,n=e.fontSize,r=e.textAlign,a=e.fontWeight,c=e.color,d=e.backgroundColor,u=e.shadow,p=e.text,x=e.padding,h=e.top,m=e.left,f=e.width,g=e.fontFamily,b=e.letterSpacing,j=e.lineHeight,y=e.opacity,w=e.textTransform,k=e.textDecoration,N=e.fontStyle,C=e.borderRadius,S=e.rotation,O=e.borderPosition,T=e.borderSize,I=e.borderStyle,P=e.borderColor,B=e.hasShadow,z=e.boxShadow,_=e.zIndex,L=e.locked,M=e.transition,U=void 0===M?v.l:M,K=e.hyperlink,W=(0,o.oB)(function(e){return{active:e.events.selected,id:e.id}}),X=W.connectors.connect,G=W.actions.setProp,Y=W.id,q=W.active,V=(0,o.hG)(function(e){return{enabled:e.options.enabled}}).enabled,Q=U||v.l,Z=(0,F.h)().getAnimationStyle,J=(0,s.useRef)(null),$=(0,s.useState)([]),ee=$[0],et=$[1],en=(0,s.useState)({width:0,height:0,left:0,top:0}),er=en[0],ea=en[1],ei=(0,s.useState)(null),eo=ei[0],es=ei[1],ec=(0,s.useState)(!1),el=ec[0],ed=ec[1];(0,s.useEffect)(function(){g&&"Arial"!==g&&(0,D.y3)(g)},[g]),(0,s.useEffect)(function(){if(q&&V){var e=document.querySelector("#root-page-container");e&&et(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==Y}))}},[q,V,Y]),(0,s.useEffect)(function(){if(q&&V){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ea({width:t.width,height:t.height,left:t.left,top:t.top}),es(e)}}},[q,V]);var eu=(0,s.useRef)(!1),ep=(0,s.useState)(!1),ex=(ep[0],ep[1]),eh=(0,s.useState)(!1),em=eh[0],ef=eh[1];(0,s.useRef)(null);var eg=function(e){!V&&K&&K.trim()&&(e.preventDefault(),e.stopPropagation(),window.open(K,"_blank"))};(0,s.useEffect)(function(){!1===q&&(eu.current=!1,ex(!1),ef(!1))},[q]);var eb=f||er.width,ej=(0,s.useState)(!!f),ey=ej[0],ev=ej[1],ew=(0,s.useRef)(null);(0,s.useEffect)(function(){if(!ey&&ew.current&&q){var e=ew.current.scrollWidth;Math.abs((f||0)-e)>10&&ek({width:e})}},[p,n,g,x,q]);var ek=function(e){e.width&&ev(!0),G(function(t){Object.assign(t,e)})},eN=function(){switch(O){case"all":return{border:"".concat(T,"px ").concat(I," ").concat(P)};case"top":return{borderTop:"".concat(T,"px ").concat(I," ").concat(P)};case"bottom":return{borderBottom:"".concat(T,"px ").concat(I," ").concat(P)};case"right":return{borderRight:"".concat(T,"px ").concat(I," ").concat(P)};case"left":return{borderLeft:"".concat(T,"px ").concat(I," ").concat(P)};case"top-bottom":return{borderTop:"".concat(T,"px ").concat(I," ").concat(P),borderBottom:"".concat(T,"px ").concat(I," ").concat(P)};case"right-left":return{borderRight:"".concat(T,"px ").concat(I," ").concat(P),borderLeft:"".concat(T,"px ").concat(I," ").concat(P)};case"upper-left":return{borderTop:"".concat(T,"px ").concat(I," ").concat(P),borderLeft:"".concat(T,"px ").concat(I," ").concat(P)};case"upper-right":return{borderTop:"".concat(T,"px ").concat(I," ").concat(P),borderRight:"".concat(T,"px ").concat(I," ").concat(P)};case"lower-left":return{borderBottom:"".concat(T,"px ").concat(I," ").concat(P),borderLeft:"".concat(T,"px ").concat(I," ").concat(P)};case"lower-right":return{borderBottom:"".concat(T,"px ").concat(I," ").concat(P),borderRight:"".concat(T,"px ").concat(I," ").concat(P)};default:return{}}}(),eA=g?(0,D.Zd)(g):"Arial";return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{"data-node-id":Y,ref:function(e){e&&(X(e),J.current=e)},style:{position:"absolute",top:"".concat(h,"px"),left:"".concat(m,"px"),width:"".concat(f||eb,"px"),height:"auto",zIndex:_,cursor:V?em?"text":"move":K&&K.trim()?"pointer":"default",transform:"rotate(".concat(S,"deg)")},onDoubleClick:function(e){V&&(e.stopPropagation(),ef(!0),ex(!0),eu.current=!0,setTimeout(function(){if(ew.current){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(ew.current),null==e||e.removeAllRanges(),null==e||e.addRange(t)}},10))},onClick:eg,onTouchEnd:eg,className:i().dynamic([["794344833",[T||0,T||0]]])+" "+"text-box-component ".concat(em?"text-box-editing":""),children:(0,A.jsx)(R.A,{transition:Q,targetRef:J,enabled:V,nodeId:Y,onTransitionStart:function(){ed(!0)},onTransitionEnd:function(){ed(!1)},children:(0,A.jsx)("div",{style:H(H({position:"relative",width:"100%",height:"100%",padding:"".concat(x[0],"px ").concat(x[1],"px ").concat(x[2],"px ").concat(x[3],"px"),borderRadius:"".concat(C[0],"px \n            ").concat(C[1],"px \n            ").concat(C[2],"px \n            ").concat(C[3],"px"),boxShadow:B?"".concat(z.offsetX,"px ").concat(z.offsetY,"px ").concat(z.blur,"px ").concat(z.spread,"px ").concat(z.color):"none",backgroundColor:d,display:"flex",alignItems:"center",justifyContent:"center"===r?"center":"right"===r?"flex-end":"flex-start",boxSizing:"border-box",opacity:y},eN),Z()),className:i().dynamic([["794344833",[T||0,T||0]]]),children:(0,A.jsx)(l(),{html:p,disabled:!V||!em,onFocus:function(){em&&ex(!0)},onBlur:function(){eu.current=!1,ef(!1)},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=document.createElement("div");n.innerHTML=t;var r=n.textContent||n.innerText||"";G(function(e){return e.text=r},500)},onChange:function(e){G(function(t){return t.text=e.target.value},500)},tagName:"div",innerRef:ew,style:{height:"auto",width:"100%",minWidth:20,color:c,fontSize:"".concat(n,"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((u||0)/100,")"),fontWeight:a,fontFamily:eA,textAlign:r,lineHeight:j,letterSpacing:"".concat(b,"px"),textTransform:w,textDecoration:k,fontStyle:N,pointerEvents:em?"auto":"none",overflow:"hidden",wordBreak:"break-word"}})})})}),q&&V&&J.current&&!em&&!el&&(0,A.jsx)(E.A,{target:J.current,container:eo,otherElements:ee,containerBounds:er,currentProps:{top:h,left:m,width:f||eb,height:null==(t=ew.current)?void 0:t.scrollHeight,rotation:S,flipX:!1,flipY:!1,locked:L},onUpdateProps:ek,resizeDirections:["w","e"],keepRatio:!1}),(0,A.jsx)(i(),{id:"794344833",dynamic:[T||0,T||0],children:[".text-box-component.__jsx-style-dynamic-selector{height:auto !important;position:relative;}",'.text-box-editing.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px solid var(--color-primary);position:absolute;pointer-events:none;display:block;inset:-'.concat(T||0,"px;z-index:1;}"),'.text-box-component.component-hovered.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px dashed var(--color-primary);position:absolute;pointer-events:none;inset:-'.concat(T||0,"px;display:block;}")]})]})};U.craft={displayName:"Text Box",props:{fontSize:26,textAlign:"center",fontWeight:"500",fontFamily:"Arial",lineHeight:"normal",letterSpacing:"0",textTransform:"none",textDecoration:"none",color:"#000000",backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,text:"Text",top:10,left:10,width:200,height:50,fontStyle:"normal",borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,locked:!1,hyperlink:"",continuousAnimation:L.kM},related:{toolbar:function(){var e=w.Fr||w.v1;return(0,A.jsxs)(s.Fragment,{children:[e&&(0,A.jsx)(S,{}),!e&&(0,A.jsx)("div",{className:"text-sm text-gray-600 mb-2 italic",children:"K\xedch đ\xfap v\xe0o văn bản để chỉnh sửa"}),(0,A.jsxs)(d.rk,{defaultOpen:!0,title:"Kiểu chữ",props:["fontSize","fontWeight","textAlign","fontFamily","lineHeight","letterSpacing","textTransform","textDecoration","fontStyle"],children:[(0,A.jsx)(p.t,{}),(0,A.jsx)(m.X,{}),(0,A.jsx)(u.H,{}),(0,A.jsx)(x.e,{}),(0,A.jsx)(h.O,{colorTitle:"M\xe0u chữ"}),(0,A.jsx)(y.x,{})]}),(0,A.jsxs)(d.rk,{title:"Khoảng đệm",props:["padding"],children:[(0,A.jsx)(f.a,{}),(0,A.jsx)(g.d,{})]}),(0,A.jsx)(d.rk,{title:"Đường viền",children:(0,A.jsx)(b.x,{})}),(0,A.jsx)(d.rk,{title:"Đổ b\xf3ng",children:(0,A.jsx)(j.G,{})}),(0,A.jsx)(d.rk,{title:"Li\xean kết",props:["hyperlink"],children:(0,A.jsx)(O.L,{})}),(0,A.jsx)(d.rk,{title:"Hiệu ứng chuyển động",children:(0,A.jsx)(v.i,{})}),(0,A.jsx)(d.rk,{title:"Chuyển động li\xean tục",children:(0,A.jsx)(T.A,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(I.A,{icon:(0,A.jsx)(P.NOV,{size:20}),label:"Sửa",onClick:function(){return r(_.EDIT)}}),(0,A.jsx)(I.A,{icon:(0,A.jsx)(P.TEV,{size:20}),label:"Kiểu chữ",onClick:function(){return r(_.STYLE)}}),(0,A.jsx)(I.A,{icon:(0,A.jsx)(P.WKR,{size:20}),label:_.PADDING,onClick:function(){return r(_.PADDING)}}),(0,A.jsx)(I.A,{icon:(0,A.jsx)(P.lKm,{size:20}),label:_.BORDER,onClick:function(){return r(_.BORDER)}}),(0,A.jsx)(I.A,{icon:(0,A.jsx)(P.elE,{size:20}),label:_.BOX_SHADOW,onClick:function(){return r(_.BOX_SHADOW)}}),(0,A.jsx)(I.A,{icon:(0,A.jsx)(P.WnQ,{size:20}),label:_.HYPERLINK,onClick:function(){return r(_.HYPERLINK)}}),(0,A.jsx)(I.A,{icon:(0,A.jsx)(P.Vt5,{size:20}),label:_.TRANSITION,onClick:function(){return r(_.TRANSITION)}}),(0,A.jsx)(I.A,{icon:(0,A.jsx)(z.g4X,{size:20}),label:_.ANIMATION,onClick:function(){return r(_.ANIMATION)}}),(0,A.jsx)(B.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,A.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,A.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,A.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,A.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,A.jsx)("div",{className:"setting-content",children:function(){switch(t){case _.EDIT:return(0,A.jsx)(S,{});case _.STYLE:return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(p.t,{}),(0,A.jsx)(m.X,{}),(0,A.jsx)(u.H,{}),(0,A.jsx)(x.e,{}),(0,A.jsx)(h.O,{colorTitle:"M\xe0u chữ"}),(0,A.jsx)(y.x,{})]});case _.PADDING:return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(f.a,{}),(0,A.jsx)(g.d,{})]});case _.BORDER:return(0,A.jsx)(b.x,{});case _.BOX_SHADOW:return(0,A.jsx)(j.G,{});case _.HYPERLINK:return(0,A.jsx)(O.L,{});case _.TRANSITION:return(0,A.jsx)(v.i,{});case _.ANIMATION:return(0,A.jsx)(T.A,{});default:return(0,A.jsx)(A.Fragment,{})}}()})})]})})]})}}}},39229:(e,t,n)=>{"use strict";n.d(t,{i:()=>p,l:()=>u});var r=n(42969);n(14232);var a=n(66125),i=n(48871),o=n(53872),s=n(40251),c=n(10553),l=n(37876);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u={effectType:"fade-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out",effectEnabled:!1},p=function(){var e,t=(0,c.useSession)().data,n=(0,a.oB)(function(e){return{transition:e.data.props.transition||u}}),p=n.actions.setProp,x=n.transition||u,h=function(e){e.transition||(e.transition=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u))},m=(null==t||null==(e=t.user)?void 0:e.plan)==="free";return(0,l.jsxs)("div",{className:"space-y-4",children:[m&&(0,l.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,l.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,l.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng n\xe2ng cao:"})," Hiệu ứng chuyển động chỉ d\xe0nh cho g\xf3i Basic trở l\xean.",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=transition-setting","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("label",{className:"text-sm font-medium ".concat(m?"text-gray-500":""),children:"Bật hiệu ứng"}),(0,l.jsx)(i.A,{checked:x.effectEnabled,onChange:function(e){p(function(t){h(t),t.transition.effectEnabled=e})},disabled:m})]}),x.effectEnabled&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(m?"text-gray-500":""),children:"Loại hiệu ứng"}),(0,l.jsx)(o.A,{value:x.effectType,onChange:function(e){p(function(t){h(t),t.transition.effectType=e})},style:{width:"100%"},options:[{value:"none",label:"Kh\xf4ng c\xf3"},{value:"fade-in",label:"Fade In"},{value:"slide-up",label:"Slide Up"},{value:"slide-down",label:"Slide Down"},{value:"slide-left",label:"Slide Left"},{value:"slide-right",label:"Slide Right"},{value:"scale-in",label:"Scale In"},{value:"scale-out",label:"Scale Out"},{value:"rotate-in",label:"Rotate In"},{value:"bounce-in",label:"Bounce In"},{value:"flip-in",label:"Flip In"},{value:"zoom-in",label:"Zoom In"}],disabled:m})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(m?"text-gray-500":""),children:["Thời gian: ",x.effectDuration,"s"]}),(0,l.jsx)(s.A,{value:x.effectDuration,onChange:function(e){p(function(t){h(t),t.transition.effectDuration=e})},min:.1,max:5,step:.1,disabled:m})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(m?"text-gray-500":""),children:["Độ trễ: ",x.effectDelay,"s"]}),(0,l.jsx)(s.A,{value:x.effectDelay,onChange:function(e){p(function(t){h(t),t.transition.effectDelay=e})},min:0,max:3,step:.1,disabled:m})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(m?"text-gray-500":""),children:"Kiểu chuyển động"}),(0,l.jsx)(o.A,{value:x.effectEasing,onChange:function(e){p(function(t){h(t),t.transition.effectEasing=e})},style:{width:"100%"},options:[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"},{value:"cubic-bezier(0.4, 0, 0.2, 1)",label:"Smooth"},{value:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",label:"Bounce"},{value:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",label:"Elastic"}],disabled:m})]})]})]})}},43340:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var r=n(42969),a=n(44478),i=n(63857),o=n(27925),s=n(43081),c=n.n(s),l=n(14232),d=n(8561),u=n(90916),p=n(45503),x=n(73301),h=n(80878),m=n(83240),f=n(53872),g=n(78972),b=n(74322),j=n(58371),y=n(89820),v=n(56858),w=n(38365),k=n(32481),N=n(98594),A=n(40673),C=n(51695),S=n(2842),O=n(37876);let T=function(e){var t,n=e.visible,r=e.onClose,a=e.onCropComplete,o=e.imageFile,s=(0,l.useRef)(null),d=(0,l.useState)(!1),u=d[0],h=d[1],f=(t=(0,i.A)(c().mark(function e(){var t,n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=s.current)&&t.cropper){e.next=3;break}return x.Ay.error("Vui l\xf2ng chọn v\xf9ng crop"),e.abrupt("return");case 3:if(h(!0),e.prev=4,n=s.current.cropper.getCroppedCanvas({width:500,height:500,imageSmoothingEnabled:!0,imageSmoothingQuality:"high"})){e.next=9;break}return x.Ay.error("Kh\xf4ng thể tạo ảnh đ\xe3 crop"),e.abrupt("return");case 9:n.toBlob(function(e){if(!e)return void x.Ay.error("Kh\xf4ng thể tạo ảnh đ\xe3 crop");a(new File([e],(null==o?void 0:o.name)||"cropped-image.jpg",{type:"image/jpeg"})),r(),x.Ay.success("Crop ảnh th\xe0nh c\xf4ng!")},"image/jpeg",.9),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error cropping image:",e.t0),x.Ay.error("C\xf3 lỗi xảy ra khi crop ảnh");case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[4,12,16,19]])})),function(){return t.apply(this,arguments)}),g=function(){r()};return o?(0,O.jsx)(p.A,{title:"Crop ảnh về tỉ lệ vu\xf4ng 1:1",open:n,onCancel:g,width:700,footer:[(0,O.jsx)(m.Ay,{onClick:g,disabled:u,children:"Hủy"},"cancel"),(0,O.jsx)(m.Ay,{type:"primary",onClick:f,loading:u,children:u?"Đang xử l\xfd...":"Crop ảnh"},"crop")],children:(0,O.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,O.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"K\xe9o thả để chọn v\xf9ng ảnh muốn crop (tỉ lệ vu\xf4ng 1:1)"}),(0,O.jsx)("div",{className:"w-full max-w-lg",children:(0,O.jsx)(S.I,{ref:s,src:URL.createObjectURL(o),style:{width:"100%",height:"500px"},aspectRatio:1,responsive:!0,guides:!0,viewMode:1,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1,autoCropArea:1,rotatable:!1,scalable:!1,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,minCropBoxWidth:100,minCropBoxHeight:100})}),(0,O.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"\uD83D\uDCA1 Mẹo: K\xe9o g\xf3c để thay đổi k\xedch thước, k\xe9o giữa để di chuyển v\xf9ng crop"})]})}):null};var D=n(24530),E=n(10553);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=d.A.Text,B=["C\xf4 d\xe2u","Ch\xfa rể","Ban tổ chức","Người nhận"];let z=function(e){var t,n,r,s,d=e.qrBankAccounts,S=e.onAccountsChange,R=e.userPlan,z=e.disabled,_=void 0!==z&&z,F=(0,E.useSession)().data,L=(null==F||null==(s=F.user)?void 0:s.role)==="partner",M=(0,l.useState)(!1),H=M[0],U=M[1],K=(0,l.useState)(null),W=K[0],X=K[1],G=u.A.useForm(),Y=(0,o.A)(G,1)[0],q=(0,l.useState)(""),V=q[0],Q=q[1],Z=(0,l.useState)(!1),J=Z[0],$=Z[1],ee=(0,l.useState)(!1),et=ee[0],en=ee[1],er=(0,l.useState)(null),ea=er[0],ei=er[1],eo=function(e){if("free"===R)return void p.A.confirm({icon:null,footer:null,maskClosable:!0,title:(0,O.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,O.jsx)(N.In,{icon:"solar:qr-code-bold",className:"h-6 w-6 text-blue-500"}),(0,O.jsx)("span",{className:"text-lg font-semibold",children:"QR Bank"})]}),content:(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,O.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,O.jsx)(N.In,{icon:"solar:qr-code-bold",className:"mr-2 h-6 w-6 text-blue-500"}),(0,O.jsx)("span",{className:"font-semibold text-blue-900",children:"QR Bank"})]}),(0,O.jsx)("p",{className:"text-blue-800 text-sm text-center",children:"T\xednh năng QR Bank chỉ d\xe0nh cho người d\xf9ng g\xf3i Basic trở l\xean."})]}),(0,O.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"Để sử dụng QR Bank, bạn cần n\xe2ng cấp l\xean g\xf3i Basic hoặc Premium."}),(0,O.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,O.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,O.jsx)(N.In,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"N\xe2ng cấp để sử dụng đầy đủ"]}),(0,O.jsx)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:D.E4.filter(function(e){return"basic"===e.name||"premium"===e.name}).map(function(e){return(0,O.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[e.popular&&(0,O.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,O.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,O.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,O.jsxs)("div",{children:[(0,O.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,O.jsx)(N.In,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,O.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,O.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,O.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,O.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,D.gl)(e.price,e.originalPrice),"%"]})]}):(0,O.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,O.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,O.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,O.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,O.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,O.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,O.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,O.jsx)("div",{className:"text-gray-700",children:"• Sử dụng c\xe1c t\xednh năng n\xe2ng cao"}),(0,O.jsx)("div",{className:"text-gray-700",children:"• QR Bank, thư viện nhạc"}),e.featured&&(0,O.jsx)("div",{className:"text-gray-700",children:"• Template Basic + Premium"}),"basic"===e.name&&(0,O.jsx)("div",{className:"text-gray-700",children:"• Template Basic"})]}),(0,O.jsxs)("button",{onClick:function(){window.open(e.ctaLink+"&upgradeSource=qr-bank","_blank")},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]})]}),okText:null,closable:!0,cancelText:"Đ\xf3ng",centered:!0,width:600,style:{top:20}});if(!e&&d.length>=2)return void x.Ay.warning("Bạn đ\xe3 đạt giới hạn tối đa 2 t\xe0i khoản QR Bank");if(e){X(e);var t=d.find(function(t){return t.id===e});t&&(Y.setFieldsValue({name:t.name,accountNumber:t.accountNumber,bank:t.bank,displayName:t.displayName}),t.qrCode?Q(t.qrCode):Q(""))}else X(null),Y.resetFields(),Q(""),Y.setFieldsValue({displayName:B[0]});U(!0)},es=(t=(0,i.A)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type.startsWith("image/")){e.next=4;break}return x.Ay.error("Vui l\xf2ng chỉ tải l\xean h\xecnh ảnh!"),e.abrupt("return",!1);case 4:return ei(t),en(!0),e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),ec=(n=(0,i.A)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(!0),(n=new FormData).append("file",t),r=L?"/partner/file-upload":"/file-upload",e.next=7,C.A.post(r,n,{headers:{"Content-Type":"multipart/form-data"}});case 7:Q(e.sent.data.fileKey),x.Ay.success("Tải l\xean m\xe3 QR th\xe0nh c\xf4ng"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error uploading QR image:",e.t0),x.Ay.error("Lỗi khi tải l\xean m\xe3 QR");case 17:return e.prev=17,$(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,13,17,20]])})),function(e){return n.apply(this,arguments)}),el=(r=(0,i.A)(c().mark(function e(){var t,n,r,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.validateFields();case 3:n=(t=e.sent).displayName,"custom"===t.displayName&&t.customDisplayName&&(n=t.customDisplayName),r=(0,a.A)(d),i={name:t.name,accountNumber:t.accountNumber,bank:t.bank,qrCode:V,displayName:n,id:W||Date.now().toString()},W?(o=r.findIndex(function(e){return e.id===W}))>=0&&(r[o]=i):r.push(i),S(r),U(!1),x.Ay.success("Đ\xe3 lưu th\xf4ng tin t\xe0i khoản ".concat(n)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error saving QR bank account:",e.t0),x.Ay.error("C\xf3 lỗi xảy ra khi lưu th\xf4ng tin t\xe0i khoản");case 18:case"end":return e.stop()}},e,null,[[0,14]])})),function(){return r.apply(this,arguments)}),ed=function(e){var t=d.find(function(t){return t.id===e});t&&p.A.confirm({title:"X\xe1c nhận x\xf3a",content:"Bạn c\xf3 chắc chắn muốn x\xf3a th\xf4ng tin t\xe0i khoản ".concat(t.displayName,"?"),okText:"X\xf3a",okType:"danger",cancelText:"Hủy",onOk:function(){S(d.filter(function(t){return t.id!==e})),x.Ay.success("Đ\xe3 x\xf3a th\xf4ng tin t\xe0i khoản")}})};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"pt-2",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)(P,{strong:!0,style:{position:"relative"},children:["QR Bank"," ",(0,O.jsx)(j.A,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,O.jsx)(h.A,{title:d.length>=2?"Chỉ c\xf3 thể th\xeam tối đa 2 t\xe0i khoản QR Bank":null,children:(0,O.jsx)(m.Ay,{type:"primary",size:"small",icon:(0,O.jsx)(y.A,{}),onClick:function(){return eo()},disabled:d.length>=2||_,children:"Th\xeam t\xe0i khoản"})})]}),(0,O.jsx)("div",{className:"text-sm mt-1 block text-gray-500",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng để kh\xe1ch mời c\xf3 thể chuyển tiền mừng (tối đa 2 t\xe0i khoản)"}),d.length>0?(0,O.jsx)("div",{className:"mt-3 grid grid-cols-1 gap-3",children:d.map(function(e){return(0,O.jsx)("div",{className:"border border-gray-200 rounded-md p-3 hover:shadow-sm transition-shadow",children:(0,O.jsxs)("div",{className:"flex justify-between items-start",children:[(0,O.jsxs)("div",{className:"flex items-start space-x-3",children:[e.qrCode&&(0,O.jsx)("div",{className:"w-16 h-16 relative border border-gray-200 rounded-md overflow-hidden",children:(0,O.jsx)("img",{src:(0,A.T_)(e.qrCode),alt:"QR Code",className:"w-full h-full object-contain"})}),(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)(P,{strong:!0,className:"text-base",children:e.displayName}),(0,O.jsxs)(P,{type:"secondary",className:"text-xs ml-2",children:["(",e.bank,")"]})]}),(0,O.jsx)(P,{className:"text-sm block mt-1",children:e.name}),(0,O.jsx)(P,{className:"text-sm font-mono mt-1",children:e.accountNumber})]})]}),(0,O.jsxs)("div",{className:"flex space-x-1",children:[(0,O.jsx)(m.Ay,{type:"text",size:"small",icon:(0,O.jsx)(v.A,{}),onClick:function(){return eo(e.id)},disabled:_}),(0,O.jsx)(m.Ay,{type:"text",size:"small",danger:!0,icon:(0,O.jsx)(w.A,{}),onClick:function(){return ed(e.id)},disabled:_})]})]})},e.id)})}):(0,O.jsx)("div",{className:"mt-3 border border-dashed border-gray-200 rounded-md p-4 text-center",children:(0,O.jsx)(P,{type:"secondary",children:"Chưa c\xf3 th\xf4ng tin t\xe0i khoản"})})]}),(0,O.jsx)(p.A,{title:W?"Cập nhật th\xf4ng tin t\xe0i khoản":"Th\xeam t\xe0i khoản mới",open:H,onCancel:function(){return U(!1)},footer:[(0,O.jsx)(m.Ay,{onClick:function(){return U(!1)},children:"Hủy"},"back"),(0,O.jsx)(m.Ay,{type:"primary",loading:J,onClick:el,children:"Lưu"},"submit")],children:(0,O.jsxs)(u.A,{form:Y,layout:"vertical",className:"mt-4",children:[(0,O.jsx)(u.A.Item,{name:"displayName",label:"T\xean hiển thị",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean hiển thị"}],children:(0,O.jsxs)(f.A,{placeholder:"Chọn hoặc nhập t\xean hiển thị",children:[B.map(function(e){return(0,O.jsx)(f.A.Option,{value:e,children:e},e)}),(0,O.jsx)(f.A.Option,{value:"custom",children:"T\xf9y chỉnh..."})]})}),(0,O.jsx)(u.A.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.displayName!==t.displayName},children:function(e){return"custom"===(0,e.getFieldValue)("displayName")?(0,O.jsx)(u.A.Item,{name:"customDisplayName",label:"T\xean hiển thị t\xf9y chỉnh",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean hiển thị t\xf9y chỉnh"}],children:(0,O.jsx)(g.A,{placeholder:"Nhập t\xean hiển thị"})}):null}}),(0,O.jsx)(u.A.Item,{name:"name",label:"T\xean người nhận",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean người nhận"}],children:(0,O.jsx)(g.A,{placeholder:"Nguyễn Văn A"})}),(0,O.jsx)(u.A.Item,{name:"bank",label:"T\xean ng\xe2n h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean ng\xe2n h\xe0ng"}],children:(0,O.jsx)(g.A,{placeholder:"Vietcombank"})}),(0,O.jsx)(u.A.Item,{name:"accountNumber",label:"Số t\xe0i khoản",rules:[{required:!0,message:"Vui l\xf2ng nhập số t\xe0i khoản"}],children:(0,O.jsx)(g.A,{placeholder:"1234567890"})}),(0,O.jsx)(u.A.Item,{label:"M\xe3 QR chuyển khoản",required:!0,help:"Vui l\xf2ng tải l\xean h\xecnh ảnh m\xe3 QR của t\xe0i khoản ng\xe2n h\xe0ng",children:(0,O.jsx)("div",{className:"flex flex-col items-center",children:V?(0,O.jsxs)("div",{className:"mb-3 relative w-40 h-40 border border-gray-200 rounded-md overflow-hidden",children:[(0,O.jsx)("img",{src:(0,A.T_)(V),alt:"QR Code Preview",className:"w-full h-full object-contain"}),(0,O.jsx)("div",{className:"absolute top-1 right-1 flex",children:(0,O.jsx)(m.Ay,{type:"text",danger:!0,icon:(0,O.jsx)(w.A,{}),className:"bg-white/70 hover:bg-white",onClick:function(){if(!V)return void x.Ay.error("Kh\xf4ng thể x\xe1c định m\xe3 tệp tin");var e,t,n=null==(t=V.split("/").pop())?void 0:t.split(".")[0],r=L?"/partner/file-upload/".concat(n):"/file-upload/".concat(n);p.A.confirm({title:"X\xf3a ảnh QR",content:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh QR n\xe0y v\xe0 tải ảnh mới kh\xf4ng?",okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:(e=(0,i.A)(c().mark(function e(){var t,n,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.A.delete(r);case 3:Q(""),W&&(n=(t=(0,a.A)(d)).findIndex(function(e){return e.id===W}))>=0&&(i=I(I({},t[n]),{},{qrCode:""}),t[n]=i,S(t)),x.Ay.success("Đ\xe3 x\xf3a ảnh QR th\xe0nh c\xf4ng"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error deleting QR image:",e.t0),x.Ay.error("Lỗi khi x\xf3a ảnh QR");case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return e.apply(this,arguments)})})}})})]}):(0,O.jsx)(b.A,{name:"qrCode",accept:"image/*",showUploadList:!1,beforeUpload:es,className:"mb-3",children:(0,O.jsx)(m.Ay,{icon:(0,O.jsx)(k.A,{}),loading:J,children:J?"Đang tải...":"Tải l\xean m\xe3 QR"})})})})]})}),(0,O.jsx)(T,{visible:et,onClose:function(){return en(!1)},onCropComplete:ec,imageFile:ea})]})}},43830:(e,t,n)=>{"use strict";n.d(t,{w:()=>J});var r=n(42969),a=n(27002),i=n.n(a),o=n(14232),s=n(66125),c=n(69486),l=n(13286),d=n(63857),u=n(43081),p=n.n(u),x=n(73301),h=n(29875),m=n(78290),f=n(97333),g=n(89099),b=n(2029),j=n(733),y=n(37876);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let w=function(e){var t,n,a=e.backgroundColor,i=e.color,c=e.borderColor,l=e.buttonColor,u=e.buttonTextColor,w=e.titleText,k=e.nameLabel,N=e.attendLabel,A=e.attendYesText,C=e.attendNoText,S=e.attendeeCountLabel,O=e.enableAttendeeCount,T=e.submitText,D=e.enableTransportation,E=e.transportationLabel,R=e.transportationSelfText,I=e.transportationPickupText,P=e.pickupDateTimeLabel,B=e.pickupTimeSlots,z=e.enableGuestSide,_=e.guestSideLabel,F=e.guestSideGroomText,L=e.guestSideBrideText,M=e.fontSize,H=e.fontFamily,U=e.borderRadius,K=e.boxShadow,W=e.padding,X=e.borderStyles,G=(0,g.useRouter)(),Y=(0,s.hG)(function(e){return{enabled:e.options.enabled}}).enabled,q=(0,j.bi)().pageId,V=(0,o.useState)(""),Q=V[0],Z=V[1],J=(0,o.useState)("yes"),$=J[0],ee=J[1],et=(0,o.useState)(1),en=et[0],er=et[1],ea=(0,o.useState)("self"),ei=ea[0],eo=ea[1],es=(0,o.useState)(void 0),ec=es[0],el=es[1],ed=(0,o.useState)("groom"),eu=ed[0],ep=ed[1],ex=(0,o.useState)(!1),eh=ex[0],em=ex[1],ef=(0,o.useState)(""),eg=ef[0],eb=ef[1],ej=(0,o.useState)(!1),ey=ej[0],ev=ej[1],ew=G.pathname.startsWith("/showcase"),ek=G.pathname.startsWith("/invite/"),eN=(0,b.x)(),eA=eN.guestData,eC=eN.getGuestName;(0,o.useEffect)(function(){var e;if(ek&&null!=eA&&eA.success&&null!=eA&&null!=(e=eA.data)&&e.guest){var t=eC();t&&Z(t?t.replace(/\\n/g," ").replace(/\n/g," ").replace(/\s+/g," ").trim():"")}},[ek,eA,eC]);var eS=(t=(0,d.A)(p().mark(function e(t){var n,r,a,i,o;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("new-blank"===q||window.location.pathname.includes("/editor/")||ew)){e.next=4;break}return console.log("Form submission simulated in editor mode"),e.abrupt("return",{success:!0});case 4:return e.next=6,(0,m.Al)(q,t.name,t.willAttend,t.attendeeCount,t.transportation,t.pickupDateTime,t.guestSide);case 6:if((r=e.sent).success){e.next=9;break}throw Error(r.message||"Failed to submit RSVP");case 9:if(!(ek&&null!=eA&&eA.success&&null!=eA&&null!=(n=eA.data)&&n.guest)){e.next=21;break}return e.prev=10,i=(a=window.location.pathname.split("/"))[a.length-1],o=t.willAttend?"confirmed":"declined",e.next=16,(0,f.dB)(i,{rsvpStatus:o,numberOfGuests:t.willAttend?t.attendeeCount:0});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.error("Error updating guest RSVP:",e.t0);case 21:return e.abrupt("return",r);case 24:throw e.prev=24,e.t1=e.catch(0),console.error("Error submitting form:",e.t1),e.t1;case 28:case"end":return e.stop()}},e,null,[[0,24],[10,18]])})),function(e){return t.apply(this,arguments)}),eO=(n=(0,d.A)(p().mark(function e(t){var n,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Y){e.next=3;break}return e.abrupt("return");case 3:if(Q.trim()){e.next=6;break}return eb("Vui l\xf2ng nhập t\xean của bạn"),e.abrupt("return");case 6:if(!("yes"===$&&D&&"pickup"===ei&&!ec)){e.next=9;break}return eb("Vui l\xf2ng chọn khung giờ ng\xe0y đ\xf3n"),e.abrupt("return");case 9:return ev(!0),e.prev=10,n="yes"===$,r={name:Q.trim(),willAttend:n,pageId:q},n?(r.attendeeCount=O?en:1,D&&(r.transportation=ei,"pickup"===ei&&ec&&(r.pickupDateTime=ec)),z&&(r.guestSide=eu)):r.attendeeCount=0,e.next=16,eS(r);case 16:em(!0),eb("Cảm ơn ".concat(Q," đ\xe3 x\xe1c nhận!")),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),x.Ay.error("Đ\xe3 xảy ra lỗi khi gửi x\xe1c nhận. Vui l\xf2ng thử lại sau."),eb("Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại sau");case 24:return e.prev=24,ev(!1),e.finish(24);case 27:case"end":return e.stop()}},e,null,[[10,20,24,27]])})),function(e){return n.apply(this,arguments)});return(0,y.jsxs)("div",{className:"rsvp-form",style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({backgroundColor:a,color:i,boxShadow:K,borderRadius:"".concat(U[0],"px ").concat(U[1],"px ").concat(U[2],"px ").concat(U[3],"px"),padding:"".concat(W[0],"px ").concat(W[1],"px ").concat(W[2],"px ").concat(W[3],"px"),minHeight:"100%",width:"100%",fontSize:"".concat(M,"px"),fontFamily:H,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"visible"},X),children:[(0,y.jsx)("h3",{style:{marginBottom:"16px",color:i,fontWeight:"bold",fontSize:"".concat(M+4,"px"),textAlign:"center"},children:w}),eh?(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",padding:"20px",color:"#52c41a"},children:[(0,y.jsxs)("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"none",stroke:"#52c41a",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,y.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,y.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),(0,y.jsx)("p",{style:{marginTop:"16px",fontSize:"".concat(M,"px")},children:eg})]}):(0,y.jsxs)("form",{onSubmit:eO,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{htmlFor:"rsvp-name",style:{display:"block",marginBottom:"6px",fontSize:"".concat(M,"px")},children:k}),(0,y.jsx)("input",{type:"text",name:"rsvp-name",value:Q,onChange:function(e){return Z(e.target.value)},style:{width:"100%",padding:"4px 8px",borderRadius:"4px",border:"1px solid ".concat(c),fontSize:"".concat(M,"px"),backgroundColor:"white",color:"#333"},placeholder:"Nhập t\xean của bạn",disabled:ey})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"".concat(M,"px")},htmlFor:"rsvp-attendance",children:N}),(0,y.jsx)(h.Ay.Group,{name:"rsvp-attendance",onChange:function(e){var t=e.target.value;ee(t),"no"===t&&(er(1),eo("self"),el(void 0),ep("groom"))},value:$,style:{width:"100%"},disabled:ey,children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,y.jsx)(h.Ay,{value:"yes",style:{fontSize:"".concat(M,"px"),fontFamily:H,whiteSpace:"break-spaces",color:i},children:A}),(0,y.jsx)(h.Ay,{value:"no",style:{fontSize:"".concat(M,"px"),fontFamily:H,whiteSpace:"break-spaces",color:i},children:C})]})})]}),"yes"===$&&O&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{htmlFor:"rsvp-attendee-count",style:{display:"block",marginBottom:"6px",fontSize:"".concat(M,"px")},children:S}),(0,y.jsxs)("select",{id:"rsvp-attendee-count",value:en,onChange:function(e){return er(Number(e.target.value))},disabled:ey,style:{width:"100%",padding:"4px 8px",borderRadius:"4px",border:"1px solid ".concat(c),fontSize:"".concat(M,"px"),backgroundColor:"white",color:"#333",cursor:ey?"not-allowed":"pointer"},children:[(0,y.jsx)("option",{value:1,children:"1 người"}),(0,y.jsx)("option",{value:2,children:"2 người"}),(0,y.jsx)("option",{value:3,children:"3 người"}),(0,y.jsx)("option",{value:4,children:"4 người"}),(0,y.jsx)("option",{value:5,children:"5 người"}),(0,y.jsx)("option",{value:6,children:"6 người"}),(0,y.jsx)("option",{value:7,children:"7 người"}),(0,y.jsx)("option",{value:8,children:"8 người"}),(0,y.jsx)("option",{value:9,children:"9 người"}),(0,y.jsx)("option",{value:10,children:"10 người"})]})]}),"yes"===$&&D&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"".concat(M,"px")},htmlFor:"rsvp-transportation",children:E}),(0,y.jsx)(h.Ay.Group,{name:"rsvp-transportation",onChange:function(e){eo(e.target.value),"pickup"!==e.target.value&&el(void 0)},value:ei,style:{width:"100%"},disabled:ey,children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,y.jsx)(h.Ay,{value:"self",style:{fontSize:"".concat(M,"px"),fontFamily:H,whiteSpace:"break-spaces",color:i},children:R}),(0,y.jsx)(h.Ay,{value:"pickup",style:{fontSize:"".concat(M,"px"),fontFamily:H,whiteSpace:"break-spaces",color:i},children:I})]})})]}),"yes"===$&&D&&"pickup"===ei&&B&&B.length>0&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{htmlFor:"rsvp-pickup-timeslot",style:{display:"block",marginBottom:"6px",fontSize:"".concat(M,"px")},children:P}),(0,y.jsxs)("select",{id:"rsvp-pickup-timeslot",value:ec||"",onChange:function(e){return el(e.target.value||void 0)},disabled:ey,style:{width:"100%",padding:"4px 8px",borderRadius:"4px",border:"1px solid ".concat(c),fontSize:"".concat(M,"px"),backgroundColor:"white",color:"#333",cursor:ey?"not-allowed":"pointer"},children:[(0,y.jsx)("option",{value:"",children:"Chọn khung giờ đ\xf3n"}),B.map(function(e,t){return(0,y.jsx)("option",{value:e,children:e},t)})]})]}),"yes"===$&&z&&(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"".concat(M,"px")},htmlFor:"rsvp-guest-side",children:_}),(0,y.jsx)(h.Ay.Group,{name:"rsvp-guest-side",onChange:function(e){return ep(e.target.value)},value:eu,style:{width:"100%"},disabled:ey,children:(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,y.jsx)(h.Ay,{value:"groom",style:{fontSize:"".concat(M,"px"),fontFamily:H,whiteSpace:"break-spaces",color:i},children:F}),(0,y.jsx)(h.Ay,{value:"bride",style:{fontSize:"".concat(M,"px"),fontFamily:H,whiteSpace:"break-spaces",color:i},children:L})]})})]}),eg&&!eh&&(0,y.jsx)("div",{style:{color:"#ff4d4f",marginTop:"-8px",fontSize:"".concat(M-2,"px")},children:eg}),(0,y.jsx)("button",{type:"submit",style:{backgroundColor:l,color:u,padding:"6px 12px",borderRadius:"4px",border:"none",fontSize:"".concat(M,"px"),cursor:ey?"wait":"pointer",marginTop:"8px",opacity:ey?.7:1},disabled:ey,children:ey?"Đang gửi...":T})]})]})};var k=n(44478),N=n(8561),A=n(48871),C=n(83240),S=n(78972),O=n(38365),T=n(6953),D=n(58371),E=n(93521),R=n(33536),I=n(96447),P=n(12448),B=n(39229),z=n(82599),_=n(15030),F=n(48371),L=function(e){var t=e.label,n=e.propName,r=e.placeholder,a=(0,s.oB)(function(e){return{value:e.data.props[n]}}),i=a.actions.setProp,o=a.value;return(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsx)("div",{className:"text-gray-700 mb-1",children:t}),(0,y.jsx)("input",{type:"text",className:"w-full rounded border border-gray-300 p-2",value:o||"",onChange:function(e){return i(function(t){return t[n]=e.target.value})},placeholder:r})]})},M=n(55882),H=function(e){var t=e.label,n=e.propName,r=(0,s.oB)(function(e){return{value:e.data.props[n]}}),a=r.actions.setProp,i=r.value;return(0,y.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,y.jsx)("label",{className:"text-sm font-medium",children:t}),(0,y.jsx)(M.V,{value:i,onChange:function(e){a(function(t){if(e.rgba&&e.rgba.a<1){var r;t[n]=(r=e.rgba)?"rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(r.a,")"):""}else t[n]=e.hex})}})]})},U=n(10553),K=N.A.Text,W=n(33598),X=n(10881),G=n(86961),Y=n(21350),q={FORM:"Biểu mẫu",EXTENDED_FIELDS:"Trường mở rộng",COLORS:"M\xe0u sắc",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Z={top:10,left:10,width:c.bv.formWidth,height:c.bv.formHeight,backgroundColor:"#ffffff",color:"#333333",borderColor:"#e0e0e0",buttonColor:"#ff5757",buttonTextColor:"#ffffff",titleText:"X\xe1c nhận tham dự",nameLabel:"Họ v\xe0 t\xean",attendLabel:"Bạn sẽ tham dự chứ?",attendYesText:"C\xf3, t\xf4i sẽ tham dự",attendNoText:"T\xf4i bận, rất tiếc kh\xf4ng thể tham dự",attendeeCountLabel:"Số lượng người tham dự",enableAttendeeCount:!1,submitText:"Gửi x\xe1c nhận",enableTransportation:!1,transportationLabel:"Bạn đi phương tiện g\xec?",transportationSelfText:"Tự đi",transportationPickupText:"Cần xe đưa đ\xf3n",pickupDateTimeLabel:"Khung giờ ng\xe0y đ\xf3n",pickupTimeSlots:[],enableGuestSide:!1,guestSideLabel:"Kh\xe1ch của",guestSideGroomText:"Nh\xe0 trai",guestSideBrideText:"Nh\xe0 g\xe1i",padding:[16,16,16,16],opacity:1,rotation:0,borderRadius:[5,5,5,5],borderPosition:"all",borderSize:1,borderStyle:"solid",hasShadow:!0,boxShadow:{offsetX:0,offsetY:2,blur:10,spread:0,color:"rgba(0, 0, 0, 0.1)"},fontSize:14,fontFamily:"Arial",zIndex:0,locked:!1,transition:B.l},J=function(e){var t=(0,o.useRef)(null),n=(0,o.useState)([]),r=n[0],a=n[1],c=e=Q(Q({},Z),e),d=c.top,u=c.left,p=c.height,x=c.width,h=c.opacity,m=c.backgroundColor,f=c.color,g=c.borderColor,b=c.buttonColor,j=c.buttonTextColor,v=c.titleText,k=c.nameLabel,N=c.attendLabel,A=c.attendYesText,C=c.attendNoText,S=c.attendeeCountLabel,O=c.enableAttendeeCount,T=c.submitText,D=c.enableTransportation,E=c.transportationLabel,R=c.transportationSelfText,I=c.transportationPickupText,P=c.pickupDateTimeLabel,z=c.pickupTimeSlots,_=c.enableGuestSide,F=c.guestSideLabel,L=c.guestSideGroomText,M=c.guestSideBrideText,H=c.padding,U=c.borderRadius,K=c.rotation,X=c.borderPosition,G=c.borderSize,Y=c.borderStyle,q=c.hasShadow,V=c.boxShadow,J=c.fontSize,$=c.fontFamily,ee=c.zIndex,et=c.locked,en=c.transition,er=(0,s.oB)(function(e){return{active:e.events.selected,id:e.id}}),ea=er.connectors.connect,ei=er.actions.setProp,eo=er.active,es=er.id,ec=(0,s.hG)(function(e){return{enabled:e.options.enabled}}).enabled,el=en||B.l,ed=(0,o.useState)(!1),eu=ed[0],ep=ed[1];(0,o.useEffect)(function(){if(eo&&ec){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==es}))}},[eo,ec,es]);var ex=(0,o.useState)({width:0,height:0,left:0,top:0}),eh=ex[0],em=ex[1],ef=(0,o.useState)(null),eg=ef[0],eb=ef[1];(0,o.useEffect)(function(){if(eo&&ec){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();em({width:t.width,height:t.height,left:t.left,top:t.top}),eb(e)}}},[eo,ec]);var ej=function(){switch(X){case"all":return{border:"".concat(G,"px ").concat(Y," ").concat(g)};case"top":return{borderTop:"".concat(G,"px ").concat(Y," ").concat(g)};case"bottom":return{borderBottom:"".concat(G,"px ").concat(Y," ").concat(g)};case"right":return{borderRight:"".concat(G,"px ").concat(Y," ").concat(g)};case"left":return{borderLeft:"".concat(G,"px ").concat(Y," ").concat(g)};case"top-bottom":return{borderTop:"".concat(G,"px ").concat(Y," ").concat(g),borderBottom:"".concat(G,"px ").concat(Y," ").concat(g)};case"right-left":return{borderRight:"".concat(G,"px ").concat(Y," ").concat(g),borderLeft:"".concat(G,"px ").concat(Y," ").concat(g)};case"upper-left":return{borderTop:"".concat(G,"px ").concat(Y," ").concat(g),borderLeft:"".concat(G,"px ").concat(Y," ").concat(g)};case"upper-right":return{borderTop:"".concat(G,"px ").concat(Y," ").concat(g),borderRight:"".concat(G,"px ").concat(Y," ").concat(g)};case"lower-left":return{borderBottom:"".concat(G,"px ").concat(Y," ").concat(g),borderLeft:"".concat(G,"px ").concat(Y," ").concat(g)};case"lower-right":return{borderBottom:"".concat(G,"px ").concat(Y," ").concat(g),borderRight:"".concat(G,"px ").concat(Y," ").concat(g)};default:return{}}}(),ey=q?"".concat(V.offsetX,"px ").concat(V.offsetY,"px ").concat(V.blur,"px ").concat(V.spread,"px ").concat(V.color):"none";return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{ref:function(e){e&&!et&&ea(e),t.current=e},style:{width:"".concat(x,"px"),height:"".concat(p,"px"),minWidth:200,position:"absolute",top:"".concat(d,"px"),left:"".concat(u,"px"),transform:"rotate(".concat(K,"deg)"),cursor:ec?"move":"default",zIndex:ee},"data-node-id":es,className:i().dynamic([["3385065320",[ec?ee:9999999]]])+" rsvp-form-container",children:(0,y.jsx)(W.A,{transition:el,targetRef:t,enabled:ec,nodeId:es,onTransitionStart:function(){ep(!0)},onTransitionEnd:function(){ep(!1)},children:(0,y.jsx)("div",{style:{width:"100%",height:"100%",minWidth:200,position:"relative",borderRadius:"".concat(U[0],"px \n              ").concat(U[1],"px \n              ").concat(U[2],"px \n              ").concat(U[3],"px"),opacity:h},className:i().dynamic([["3385065320",[ec?ee:9999999]]]),children:(0,y.jsx)(w,{backgroundColor:m,color:f,borderColor:g,buttonColor:b,buttonTextColor:j,titleText:v,nameLabel:k,attendLabel:N,attendYesText:A,attendNoText:C,attendeeCountLabel:S,enableAttendeeCount:O,submitText:T,enableTransportation:D,transportationLabel:E,transportationSelfText:R,transportationPickupText:I,pickupDateTimeLabel:P,pickupTimeSlots:z,enableGuestSide:_,guestSideLabel:F,guestSideGroomText:L,guestSideBrideText:M,fontSize:J,fontFamily:$,borderRadius:U,boxShadow:ey,padding:H,borderStyles:ej})})})}),t.current&&eo&&ec&&!eu&&(0,y.jsx)(l.A,{target:t.current,container:eg,otherElements:r,containerBounds:eh,currentProps:{top:d,left:u,width:x,height:p,rotation:K,flipX:!1,flipY:!1,locked:et},onUpdateProps:function(e){ei(function(t){Object.assign(t,e)})},resizeDirections:["w","e","n","s"],keepRatio:!1}),(0,y.jsx)(i(),{id:"3385065320",dynamic:[ec?ee:9999999],children:[".rsvp-form-container:hover{z-index:".concat(ec?ee:9999999," !important;}")]})]})};J.craft={displayName:"Biểu mẫu tham dự",props:Z,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e,t=(0,U.useSession)().data,n=(null==t?void 0:t.user)&&(null==t?void 0:t.user.plan)==="free"&&(null==t||null==(e=t.user)?void 0:e.role)!=="partner",r=(null==t?void 0:t.user)&&(null==t?void 0:t.user.plan),a=(0,s.oB)(function(e){return{enableAttendeeCount:e.data.props.enableAttendeeCount,enableTransportation:e.data.props.enableTransportation,enableGuestSide:e.data.props.enableGuestSide,pickupTimeSlots:e.data.props.pickupTimeSlots||[]}}),i=a.actions.setProp,c=a.enableAttendeeCount,l=a.enableTransportation,d=a.enableGuestSide,u=a.pickupTimeSlots,p=(0,o.useState)(""),x=p[0],h=p[1],m=function(){x.trim()&&!u.includes(x.trim())&&(i(function(e){return e.pickupTimeSlots=[].concat((0,k.A)(u),[x.trim()])}),h(""))},f=function(e){i(function(t){return t.pickupTimeSlots=u.filter(function(t,n){return n!==e})})};return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsxs)(z.rk,{defaultOpen:!0,title:"C\xe0i đặt biểu mẫu",children:[(0,y.jsx)(L,{label:"Ti\xeau đề biểu mẫu",propName:"titleText",placeholder:"Ti\xeau đề biểu mẫu"}),(0,y.jsx)(L,{label:"Nh\xe3n trường t\xean",propName:"nameLabel",placeholder:"Nh\xe3n trường t\xean"}),(0,y.jsx)(L,{label:"Nh\xe3n x\xe1c nhận tham dự",propName:"attendLabel",placeholder:"Nh\xe3n x\xe1c nhận tham dự"}),(0,y.jsx)(L,{label:"Nội dung n\xfat gửi",propName:"submitText",placeholder:"Nội dung n\xfat gửi"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"text-gray-700 mb-3",children:"M\xe0u sắc biểu mẫu"}),(0,y.jsx)(E.O,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,y.jsx)(H,{label:"M\xe0u viền input",propName:"borderColor"}),(0,y.jsx)(H,{label:"M\xe0u n\xfat gửi",propName:"buttonColor"}),(0,y.jsx)(H,{label:"M\xe0u chữ n\xfat gửi",propName:"buttonTextColor"}),(0,y.jsx)(_.H,{}),(0,y.jsx)(F.e,{}),(0,y.jsx)(P.x,{})]}),n?(0,y.jsx)(z.rk,{title:"Trường mở rộng",defaultOpen:!0,children:(0,y.jsxs)("div",{className:"p-2 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[(0,y.jsx)("div",{className:"mb-3",children:(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsxs)(K,{strong:!0,className:"text-lg",children:["T\xednh năng n\xe2ng cao"," ",(0,y.jsx)(D.A,{style:{color:"#1677ff",fontSize:"18px",marginLeft:"6px"}})]}),(0,y.jsx)("div",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium ml-3",children:"Basic+"})]})}),(0,y.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"N\xe2ng cấp l\xean g\xf3i Basic+ để sử dụng c\xe1c t\xednh năng cao cấp sau:"}),(0,y.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,y.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,y.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)(K,{strong:!0,className:"text-base",children:"T\xf9y chỉnh text lựa chọn"}),(0,y.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:'Thay đổi nội dung text "C\xf3" v\xe0 "Kh\xf4ng" theo \xfd muốn'}),(0,y.jsx)("div",{className:"mt-2 text-sm text-gray-500 italic",children:'V\xed dụ: "C\xf3, t\xf4i sẽ tham dự" → "Chắc chắn sẽ đến"'})]})]}),(0,y.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,y.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)(K,{strong:!0,className:"text-base",children:"Kiểm so\xe1t số lượng người tham dự"}),(0,y.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Cho ph\xe9p kh\xe1ch mời nhập số lượng người tham dự c\xf9ng họ"}),(0,y.jsx)("div",{className:"mt-2 text-sm text-gray-500 italic",children:"Hữu \xedch để thống k\xea ch\xednh x\xe1c số kh\xe1ch tham dự"})]})]}),(0,y.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,y.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)(K,{strong:!0,className:"text-base",children:"Trường phương tiện đi lại"}),(0,y.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Cho ph\xe9p kh\xe1ch mời chọn phương tiện đi lại v\xe0 quản l\xfd khung giờ đ\xf3n"}),(0,y.jsx)("div",{className:"mt-2 text-sm text-gray-500 italic",children:"Hữu \xedch để tổ chức xe đưa đ\xf3n cho kh\xe1ch mời"})]})]}),(0,y.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,y.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)(K,{strong:!0,className:"text-base",children:"Trường kh\xe1ch của nh\xe0 trai/g\xe1i"}),(0,y.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Cho ph\xe9p ph\xe2n loại kh\xe1ch mời theo nh\xe0 trai hoặc nh\xe0 g\xe1i"}),(0,y.jsx)("div",{className:"mt-2 text-sm text-gray-500 italic",children:"Hữu \xedch để quản l\xfd danh s\xe1ch kh\xe1ch mời theo từng nh\xe0"})]})]})]}),(0,y.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2",children:[(0,y.jsxs)(K,{type:"secondary",className:"text-xs",children:["G\xf3i hiện tại:"," ",(0,y.jsx)("span",{className:"font-semibold",children:null==r?void 0:r.toUpperCase()})]}),(0,y.jsxs)(C.Ay,{type:"primary",size:"large",onClick:function(){window.open("/pricing-plans?upgradeSource=advanced-features-form-setting","_blank")},className:"h-10",children:[(0,y.jsx)(D.A,{})," N\xe2ng cấp ngay"]})]})]})}):(0,y.jsxs)(z.rk,{title:"Trường mở rộng",defaultOpen:!0,children:[(0,y.jsx)(L,{label:"Text lựa chọn 'C\xf3'",propName:"attendYesText",placeholder:"C\xf3, t\xf4i sẽ tham dự"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Kh\xf4ng'",propName:"attendNoText",placeholder:"T\xf4i bận, rất tiếc kh\xf4ng thể tham dự"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,y.jsx)("div",{className:"text-gray-700 font-semibold",children:"Kiểm so\xe1t số lượng người tham dự"})}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p người d\xf9ng nhập số lượng người tham dự"}),(0,y.jsx)(A.A,{checked:c,onChange:function(e){i(function(t){return t.enableAttendeeCount=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),c&&(0,y.jsx)(L,{label:"Nh\xe3n số lượng người tham dự",propName:"attendeeCountLabel",placeholder:"Nh\xe3n số lượng người tham dự"}),(0,y.jsx)("hr",{className:"my-4"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,y.jsx)("div",{className:"text-gray-700 font-semibold",children:"Trường phương tiện đi lại"})}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p kh\xe1ch mời chọn phương tiện đi lại v\xe0 thời gian đ\xf3n (nếu cần)"}),(0,y.jsx)(A.A,{checked:l,onChange:function(e){i(function(t){return t.enableTransportation=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),l&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(L,{label:"Nh\xe3n trường phương tiện",propName:"transportationLabel",placeholder:"Bạn đi phương tiện g\xec?"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Tự đi'",propName:"transportationSelfText",placeholder:"Tự đi"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Cần xe đưa đ\xf3n'",propName:"transportationPickupText",placeholder:"Cần xe đưa đ\xf3n"}),(0,y.jsx)(L,{label:"Nh\xe3n trường khung giờ ng\xe0y đ\xf3n",propName:"pickupDateTimeLabel",placeholder:"Khung giờ ng\xe0y đ\xf3n"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"text-gray-700 mb-2 font-semibold",children:"Danh s\xe1ch khung giờ đ\xf3n"}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mb-2",children:"Th\xeam c\xe1c khung giờ để kh\xe1ch mời c\xf3 thể chọn"}),u.length>0&&(0,y.jsx)("div",{className:"space-y-2 mb-3",children:u.map(function(e,t){return(0,y.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[(0,y.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:e}),(0,y.jsx)(C.Ay,{type:"text",danger:!0,size:"small",icon:(0,y.jsx)(O.A,{}),onClick:function(){return f(t)},className:"ml-2"})]},t)})}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)(S.A,{value:x,onChange:function(e){return h(e.target.value)},placeholder:"Nhập khung giờ (v\xed dụ: S\xe1ng 8:00 - 9:00)",onPressEnter:m,className:"flex-1"}),(0,y.jsx)(C.Ay,{type:"primary",icon:(0,y.jsx)(T.A,{}),onClick:m,disabled:!x.trim(),children:"Th\xeam"})]})]})]}),(0,y.jsx)("hr",{className:"my-4"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,y.jsx)("div",{className:"text-gray-700 font-semibold",children:"Trường kh\xe1ch của nh\xe0 trai/g\xe1i"})}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p kh\xe1ch mời chọn họ l\xe0 kh\xe1ch của nh\xe0 trai hay nh\xe0 g\xe1i"}),(0,y.jsx)(A.A,{checked:d,onChange:function(e){i(function(t){return t.enableGuestSide=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),d&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(L,{label:"Nh\xe3n trường kh\xe1ch của",propName:"guestSideLabel",placeholder:"Kh\xe1ch của"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Nh\xe0 trai'",propName:"guestSideGroomText",placeholder:"Nh\xe0 trai"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Nh\xe0 g\xe1i'",propName:"guestSideBrideText",placeholder:"Nh\xe0 g\xe1i"})]})]}),(0,y.jsx)(z.rk,{title:"Đường viền",children:(0,y.jsx)(R.x,{})}),(0,y.jsx)(z.rk,{title:"Đổ b\xf3ng",children:(0,y.jsx)(I.G,{})}),(0,y.jsx)(z.rk,{title:"Hiệu ứng chuyển động",children:(0,y.jsx)(B.i,{})})]})},mobileToolbar:function(){var e,t=(0,o.useState)(null),n=t[0],r=t[1],a=(0,U.useSession)().data,i=(null==a?void 0:a.user)&&(null==a?void 0:a.user.plan)==="free"&&(null==a||null==(e=a.user)?void 0:e.role)!=="partner";(null==a?void 0:a.user)&&(null==a||a.user.plan);var c=(0,s.oB)(function(e){return{enableAttendeeCount:e.data.props.enableAttendeeCount,enableTransportation:e.data.props.enableTransportation,enableGuestSide:e.data.props.enableGuestSide,pickupTimeSlots:e.data.props.pickupTimeSlots||[]}}),l=c.actions.setProp,d=c.enableAttendeeCount,u=c.enableTransportation,p=c.enableGuestSide,x=c.pickupTimeSlots,h=(0,o.useState)(""),m=h[0],f=h[1],g=function(){m.trim()&&!x.includes(m.trim())&&(l(function(e){return e.pickupTimeSlots=[].concat((0,k.A)(x),[m.trim()])}),f(""))},b=function(e){l(function(t){return t.pickupTimeSlots=x.filter(function(t,n){return n!==e})})},j=function(e){r(e)};return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(X.A,{icon:(0,y.jsx)(G.DCh,{size:20}),label:q.FORM,onClick:function(){return j(q.FORM)}}),(0,y.jsx)(X.A,{icon:(0,y.jsx)(G.kRY,{size:20}),label:q.EXTENDED_FIELDS,onClick:function(){return j(q.EXTENDED_FIELDS)}}),(0,y.jsx)(X.A,{icon:(0,y.jsx)(G.NyH,{size:20}),label:q.COLORS,onClick:function(){return j(q.COLORS)}}),(0,y.jsx)(X.A,{icon:(0,y.jsx)(G.lKm,{size:20}),label:q.BORDER,onClick:function(){return j(q.BORDER)}}),(0,y.jsx)(X.A,{icon:(0,y.jsx)(G.elE,{size:20}),label:q.BOX_SHADOW,onClick:function(){return j(q.BOX_SHADOW)}}),(0,y.jsx)(X.A,{icon:(0,y.jsx)(G.Vt5,{size:20}),label:q.TRANSITION,onClick:function(){return j(q.TRANSITION)}}),(0,y.jsx)(Y.zD,{visible:!!n,showCloseButton:!0,onClose:function(){r(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,y.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,y.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,y.jsx)("h3",{className:"text-lg font-semibold text-center",children:n})}),(0,y.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,y.jsx)("div",{className:"setting-content",children:function(){switch(n){case q.FORM:return(0,y.jsxs)("div",{className:"py-2",children:[(0,y.jsx)(L,{label:"Ti\xeau đề biểu mẫu",propName:"titleText",placeholder:"Ti\xeau đề biểu mẫu"}),(0,y.jsx)(L,{label:"Nh\xe3n trường t\xean",propName:"nameLabel",placeholder:"Nh\xe3n trường t\xean"}),(0,y.jsx)(L,{label:"Nh\xe3n x\xe1c nhận tham dự",propName:"attendLabel",placeholder:"Nh\xe3n x\xe1c nhận tham dự"}),(0,y.jsx)(L,{label:"Nội dung n\xfat gửi",propName:"submitText",placeholder:"Nội dung n\xfat gửi"}),(0,y.jsx)(_.H,{}),(0,y.jsx)(F.e,{}),(0,y.jsx)(P.x,{})]});case q.EXTENDED_FIELDS:return(0,y.jsx)("div",{className:"py-2",children:i?(0,y.jsxs)("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[(0,y.jsx)("div",{className:"mb-2",children:(0,y.jsxs)("div",{className:"flex items-center justify-center",children:[(0,y.jsxs)("div",{className:"text-sm font-semibold text-blue-700",children:["T\xednh năng n\xe2ng cao"," ",(0,y.jsx)(D.A,{style:{color:"#1677ff",fontSize:"14px",marginLeft:"4px"}})]}),(0,y.jsx)("div",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium ml-2",children:"Basic+"})]})}),(0,y.jsx)("div",{className:"text-xs text-gray-600 mb-3 text-center",children:"N\xe2ng cấp để sử dụng:"}),(0,y.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,y.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,y.jsx)("span",{className:"text-gray-700",children:'T\xf9y chỉnh text "C\xf3/Kh\xf4ng"'})]}),(0,y.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,y.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Kiểm so\xe1t số lượng người tham dự"})]}),(0,y.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,y.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Trường lựa chọn phương tiện đi lại"})]}),(0,y.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,y.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,y.jsx)("span",{className:"text-gray-700",children:"Trường kh\xe1ch của nh\xe0 trai/g\xe1i"})]})]}),(0,y.jsx)("div",{className:"text-center",children:(0,y.jsxs)("button",{onClick:function(){window.open("/pricing-plans?upgradeSource=mobile-form-extended-fields","_blank")},className:"bg-blue-600 text-white text-xs px-3 py-1.5 rounded-md font-medium",children:[(0,y.jsx)(D.A,{className:"mr-1"})," N\xe2ng cấp"]})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(L,{label:"Text lựa chọn 'C\xf3'",propName:"attendYesText",placeholder:"C\xf3, t\xf4i sẽ tham dự"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Kh\xf4ng'",propName:"attendNoText",placeholder:"T\xf4i bận, rất tiếc kh\xf4ng thể tham dự"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,y.jsx)("div",{className:"text-gray-700 font-semibold text-sm",children:"Kiểm so\xe1t số lượng người tham dự"})}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p người d\xf9ng nhập số lượng người tham dự"}),(0,y.jsx)(A.A,{checked:d,onChange:function(e){l(function(t){return t.enableAttendeeCount=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),d&&(0,y.jsx)(L,{label:"Nh\xe3n số lượng người tham dự",propName:"attendeeCountLabel",placeholder:"Nh\xe3n số lượng người tham dự"}),(0,y.jsx)("hr",{className:"my-4"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,y.jsx)("div",{className:"text-gray-700 font-semibold text-sm",children:"Trường phương tiện đi lại"})}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p kh\xe1ch mời chọn phương tiện đi lại v\xe0 thời gian đ\xf3n (nếu cần)"}),(0,y.jsx)(A.A,{checked:u,onChange:function(e){l(function(t){return t.enableTransportation=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),u&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(L,{label:"Nh\xe3n trường phương tiện",propName:"transportationLabel",placeholder:"Bạn đi phương tiện g\xec?"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Tự đi'",propName:"transportationSelfText",placeholder:"Tự đi"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Cần xe đưa đ\xf3n'",propName:"transportationPickupText",placeholder:"Cần xe đưa đ\xf3n"}),(0,y.jsx)(L,{label:"Nh\xe3n trường khung giờ ng\xe0y đ\xf3n",propName:"pickupDateTimeLabel",placeholder:"Khung giờ ng\xe0y đ\xf3n"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"text-gray-700 mb-2 font-semibold text-sm",children:"Danh s\xe1ch khung giờ đ\xf3n"}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mb-2",children:"Th\xeam c\xe1c khung giờ để kh\xe1ch mời c\xf3 thể chọn"}),x.length>0&&(0,y.jsx)("div",{className:"space-y-2 mb-3",children:x.map(function(e,t){return(0,y.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[(0,y.jsx)("span",{className:"text-xs text-gray-700 flex-1",children:e}),(0,y.jsx)(C.Ay,{type:"text",danger:!0,size:"small",icon:(0,y.jsx)(O.A,{}),onClick:function(){return b(t)},className:"ml-2",style:{padding:"0 4px"}})]},t)})}),(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,y.jsx)(S.A,{value:m,onChange:function(e){return f(e.target.value)},placeholder:"Nhập khung giờ (v\xed dụ: S\xe1ng 8:00 - 9:00)",onPressEnter:g,className:"flex-1 text-xs",size:"small"}),(0,y.jsx)(C.Ay,{type:"primary",icon:(0,y.jsx)(T.A,{}),onClick:g,disabled:!m.trim(),size:"small",children:"Th\xeam"})]})]})]}),(0,y.jsx)("hr",{className:"my-4"}),(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,y.jsx)("div",{className:"text-gray-700 font-semibold text-sm",children:"Trường kh\xe1ch của nh\xe0 trai/g\xe1i"})}),(0,y.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p kh\xe1ch mời chọn họ l\xe0 kh\xe1ch của nh\xe0 trai hay nh\xe0 g\xe1i"}),(0,y.jsx)(A.A,{checked:p,onChange:function(e){l(function(t){return t.enableGuestSide=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),p&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(L,{label:"Nh\xe3n trường kh\xe1ch của",propName:"guestSideLabel",placeholder:"Kh\xe1ch của"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Nh\xe0 trai'",propName:"guestSideGroomText",placeholder:"Nh\xe0 trai"}),(0,y.jsx)(L,{label:"Text lựa chọn 'Nh\xe0 g\xe1i'",propName:"guestSideBrideText",placeholder:"Nh\xe0 g\xe1i"})]})]})});case q.COLORS:return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"my-4",children:[(0,y.jsx)("div",{className:"text-gray-700 mb-3",children:"M\xe0u sắc biểu mẫu"}),(0,y.jsx)(E.O,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,y.jsx)(H,{label:"M\xe0u viền input",propName:"borderColor"}),(0,y.jsx)(H,{label:"M\xe0u n\xfat gửi",propName:"buttonColor"}),(0,y.jsx)(H,{label:"M\xe0u chữ n\xfat gửi",propName:"buttonTextColor"})]});case q.BORDER:return(0,y.jsx)(R.x,{});case q.BOX_SHADOW:return(0,y.jsx)(I.G,{});case q.TRANSITION:return(0,y.jsx)(B.i,{});default:return(0,y.jsx)(y.Fragment,{})}}()})})]})})]})}}}},46648:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(66125),a=n(47908),i=function(){var e=(0,r.oB)(function(e){return{continuousAnimation:e.data.props.continuousAnimation}}).continuousAnimation||a.hh;return{animationConfig:e,getAnimationStyle:function(){if(!e||"none"===e.type)return{};var t=e.type,n=e.duration,r=e.delay;return{animationName:"animation-".concat(t),animationDuration:"".concat(n,"s"),animationDelay:"".concat(r,"s"),animationIterationCount:"infinite",animationTimingFunction:"rotate"===t?"linear":"ease-in-out"}}}}},47158:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(63857),a=n(43081),i=n.n(a),o=n(14232),s=n(8561),c=n(73301),l=n(45503),d=n(40108),u=n(67345),p=n(78972),x=n(83240),h=n(3364),m=n(83155),f=n(38365),g=n(66125),b=n(37876),j=s.A.Text,y=s.A.Title;let v=function(e){var t,n=e.visible,a=e.onClose,s=(0,o.useState)(""),v=s[0],w=s[1],k=(0,o.useState)(null),N=k[0],A=k[1],C=(0,o.useState)(!1),S=C[0],O=C[1],T=(0,o.useState)(!1),D=T[0],E=T[1],R=(0,g.hG)(),I=R.query,P=R.actions,B=function(){if(!v.trim())return void c.Ay.warning("Vui l\xf2ng nhập ID của node");O(!0);try{var e,t=I.getNodes()[v.trim()];t?(A({id:t.id,displayName:(null==(e=t.data)?void 0:e.displayName)||"Kh\xf4ng c\xf3 t\xean"}),c.Ay.success("T\xecm thấy node!")):(A(null),c.Ay.error("Kh\xf4ng t\xecm thấy node với ID n\xe0y"))}catch(e){console.error("Error searching for node:",e),c.Ay.error("C\xf3 lỗi xảy ra khi t\xecm kiếm")}finally{O(!1)}},z=(t=(0,r.A)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:try{E(!0),P.delete(N.id),c.Ay.success("Đ\xe3 x\xf3a node th\xe0nh c\xf4ng!"),A(null),w("")}catch(e){console.error("Error removing node:",e),c.Ay.error("C\xf3 lỗi xảy ra khi x\xf3a node")}finally{E(!1)}case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,b.jsx)(l.A,{title:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.A,{}),(0,b.jsx)("span",{children:"T\xecm v\xe0 x\xf3a node theo ID (N\xe2ng cao)"})]}),open:n,onCancel:function(){w(""),A(null),a()},footer:null,width:600,destroyOnClose:!0,children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(d.A,{message:"T\xcdNH NĂNG N\xc2NG CAO - CẢNH B\xc1O",description:"Đ\xe2y l\xe0 t\xednh năng d\xe0nh cho c\xe1c nh\xe0 ph\xe1t triển c\xf3 chuy\xean m\xf4n. Việc x\xf3a node c\xf3 thể l\xe0m hỏng cấu tr\xfac trang v\xe0 g\xe2y ra lỗi kh\xf4ng mong muốn. Chỉ sử dụng khi bạn thực sự hiểu r\xf5 về cấu tr\xfac trang v\xe0 biết ch\xednh x\xe1c node n\xe0o cần x\xf3a.",type:"warning",showIcon:!0,className:"mb-4 text-sm"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j,{strong:!0,children:"Nhập ID của node:"}),(0,b.jsxs)(u.A.Compact,{style:{width:"100%"},children:[(0,b.jsx)(p.A,{placeholder:"Nhập ID node cần t\xecm...",value:v,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&B()},disabled:S}),(0,b.jsx)(x.Ay,{type:"primary",icon:(0,b.jsx)(h.A,{}),onClick:B,loading:S,children:"T\xecm kiếm"})]})]}),N&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,b.jsx)(y,{level:5,className:"mb-3",children:"Kết quả t\xecm kiếm:"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(j,{strong:!0,children:"ID:"}),(0,b.jsx)(j,{code:!0,children:N.id})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(j,{strong:!0,children:"T\xean hiển thị:"}),(0,b.jsx)(j,{children:N.displayName})]})]}),(0,b.jsx)(d.A,{message:"Cảnh b\xe1o",description:"Việc x\xf3a node n\xe0y sẽ kh\xf4ng thể ho\xe0n t\xe1c. H\xe3y chắc chắn rằng bạn muốn x\xf3a node n\xe0y.",type:"warning",showIcon:!0,icon:(0,b.jsx)(m.A,{}),className:"mt-3"}),(0,b.jsx)("div",{className:"mt-4 flex justify-end",children:(0,b.jsx)(x.Ay,{danger:!0,icon:(0,b.jsx)(f.A,{}),onClick:z,loading:D,children:"X\xf3a node"})})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,b.jsx)(j,{strong:!0,children:"Hướng dẫn sử dụng:"}),(0,b.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,b.jsx)("li",{children:"• Nhập ID của node cần t\xecm v\xe0o \xf4 t\xecm kiếm"}),(0,b.jsx)("li",{children:'• Nhấn Enter hoặc click n\xfat "T\xecm kiếm"'}),(0,b.jsx)("li",{children:"• Nếu t\xecm thấy, bạn c\xf3 thể xem th\xf4ng tin v\xe0 x\xf3a node"}),(0,b.jsx)("li",{children:"• Lưu \xfd: Việc x\xf3a node kh\xf4ng thể ho\xe0n t\xe1c"})]})]})]})})}},47908:(e,t,n)=>{"use strict";n.d(t,{Uh:()=>r,hh:()=>a,kM:()=>i});var r=[{value:"none",label:"Kh\xf4ng c\xf3"},{value:"float",label:"Bay lơ lửng"},{value:"bounce",label:"Nảy"},{value:"pulse",label:"Nhấp nh\xe1y"},{value:"rotate",label:"Xoay tr\xf2n"},{value:"shake",label:"Lắc"},{value:"wiggle",label:"Lắc lư"},{value:"wobble",label:"Lắc lư nh\xfan nhảy"}],a={type:"wobble",duration:2,delay:0},i={type:"none",duration:2,delay:0}},48371:(e,t,n)=>{"use strict";n.d(t,{e:()=>b});var r=n(27925),a=n(63857),i=n(27002),o=n.n(i),s=n(43081),c=n.n(s),l=n(53872),d=n(66125),u=n(14232),p=n(36423),x=n(91040),h=n(16495),m=n(37876),f=l.A.Option,g={id:"Arial",name:"Arial"},b=function(){var e=(0,u.useState)([]),t=e[0],n=e[1],i=(0,u.useState)(!0),s=i[0],b=i[1],j=(0,u.useState)(null),y=j[0],v=j[1],w=(0,u.useState)(!1),k=w[0],N=w[1],A=(0,d.oB)(function(e){return{fontFamily:e.data.props.fontFamily}}),C=A.actions.setProp,S=A.fontFamily;(0,u.useEffect)(function(){var e;(e=(0,a.A)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.A.get("".concat(p.A.API_URL,"/api/resources/fonts"));case 3:n(e.sent.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),v("Failed to load fonts"),console.error("Error fetching fonts:",e.t0);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,7,11,14]])})),function(){return e.apply(this,arguments)})()},[]);var O=t.reduce(function(e,t){return e[t.category]||(e[t.category]=[]),e[t.category].push(t),e},{});return(0,m.jsxs)("div",{className:"jsx-3336003523 flex justify-between items-center my-4",children:[(0,m.jsx)("label",{className:"jsx-3336003523 text-sm font-medium",children:"Font"}),(0,m.jsxs)(l.A,{value:S?(0,h.Qx)(S):void 0,className:"w-3/4",onChange:function(e){if(N(!0),t.find(function(t){return t.name===e})){var n;(n=(0,h.A6)(e),new Promise(function(e,r){if(document.getElementById("font-face-".concat(n)))return void e();var a=t.find(function(e){return(0,h.A6)(e.name)===n});if(!a)return void r(Error("Font with id ".concat(n," not found")));var i="".concat(p.A.CDN_RESOURCE_URL,"/fonts/webfonts/").concat(n,"/").concat(n,".woff2"),o=document.createElement("style");o.id="font-face-".concat(n),o.textContent='\n      @font-face {\n        font-family: "'.concat(a.name,'";\n        src: url("').concat(i,'") format("woff2");\n        font-weight: normal;\n        font-style: normal;\n        font-display: swap;\n      }\n    '),new FontFace(a.name,"url(".concat(i,")"),{display:"swap"}).load().then(function(t){document.fonts.add(t),document.head.appendChild(o),e()}).catch(function(e){console.error("Failed to load font ".concat(a.name,":"),e),r(e)})})).then(function(){C(function(t){t.fontFamily='"'.concat(e,'"')},500),N(!1)}).catch(function(e){console.error("Failed to load font:",e),N(!1)})}else C(function(t){t.fontFamily='"'.concat(e,'"')},500),N(!1)},placeholder:"Select a font",loading:s,optionLabelProp:"label",disabled:k,children:[(0,m.jsx)(l.A.OptGroup,{label:"Default",children:(0,m.jsx)(f,{value:g.name,label:(0,m.jsx)("div",{className:"jsx-3336003523 h-6 flex items-center",children:(0,m.jsx)("span",{className:"jsx-3336003523 font-sans",children:g.name})}),children:(0,m.jsx)("div",{className:"jsx-3336003523 py-1 px-2 hover:bg-gray-50",children:(0,m.jsx)("span",{className:"jsx-3336003523 font-sans text-base",children:g.name})})},g.id)},"Default"),Object.entries(O).map(function(e){var t=(0,r.A)(e,2),n=t[0],a=t[1];return(0,m.jsx)(l.A.OptGroup,{label:n,children:a.map(function(e){return(0,m.jsx)(f,{value:e.name,label:(0,m.jsx)("div",{className:"jsx-3336003523 h-6 flex items-center",children:(0,m.jsx)("img",{src:"".concat(p.A.CDN_RESOURCE_URL,"/").concat(e.thumbnail),alt:e.name,loading:"lazy",className:"jsx-3336003523 h-4 object-contain"})}),children:(0,m.jsx)("div",{className:"jsx-3336003523 py-1 px-2 hover:bg-gray-50",children:(0,m.jsx)("img",{src:"".concat(p.A.CDN_RESOURCE_URL,"/").concat(e.thumbnail),alt:e.name,loading:"lazy",className:"jsx-3336003523 h-6 w-auto object-contain"})})},e.id)})},n)})]}),y&&(0,m.jsx)("div",{className:"jsx-3336003523 text-red-500 text-sm mt-2",children:y}),(0,m.jsx)(o(),{id:"3336003523",children:[".ant-select-item{padding:4px !important;}",".ant-select-selection-item{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-align-items:center !important;-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;padding:0 8px !important;}"]})]})}},55882:(e,t,n)=>{"use strict";n.d(t,{V:()=>u});var r=n(14232),a=n(67600),i=n(66125),o=n(18847),s=n.n(o),c=n(58522),l=n(37876),d=s()(function(){return n.e(150).then(n.bind(n,30150)).then(function(e){return e.Sketch})},{ssr:!1,loadableGenerated:{webpack:function(){return[null]}}}),u=function(e){var t=e.value,n=e.onChange,o=e.showPresets,s=void 0===o||o,u=(0,r.useState)([]),p=u[0],x=u[1],h=(0,i.hG)().query;(0,r.useEffect)(function(){s&&x(function(){var e=h.serialize();if(!e)return[];var t="string"==typeof e?JSON.parse(e):e,n=new Set;return Object.values(t).forEach(function(e){if(e.props){var t;e.props.color&&"transparent"!==e.props.color&&"string"==typeof e.props.color&&e.props.color.startsWith("#")&&n.add(e.props.color),e.props.backgroundColor&&"transparent"!==e.props.backgroundColor&&"string"==typeof e.props.backgroundColor&&e.props.backgroundColor.startsWith("#")&&n.add(e.props.backgroundColor),e.props.borderColor&&""!==e.props.borderColor&&"transparent"!==e.props.borderColor&&"string"==typeof e.props.borderColor&&e.props.borderColor.startsWith("#")&&n.add(e.props.borderColor),null!=(t=e.props.boxShadow)&&t.color&&"transparent"!==e.props.boxShadow.color&&"string"==typeof e.props.boxShadow.color&&e.props.boxShadow.color.startsWith("#")&&n.add(e.props.boxShadow.color)}}),Array.from(n).slice(0,18)}())},[h,s]);var m=(0,l.jsx)(d,{color:t.startsWith("rgba")?(0,c.Dy)(t):t,onChange:function(e){n({hex:e.hex,rgba:e.rgba})},presetColors:s?p:void 0});return(0,l.jsx)(a.A,{content:m,trigger:"click",placement:"bottomRight",overlayInnerStyle:{padding:0},children:(0,l.jsx)("div",{className:"w-6 h-6 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:t}})})}},56458:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(14232),a=n(54587),i=n.n(a),o=n(73301),s=n(40673),c=n(37876);let l=function(e){var t,n,a=e.accounts,l=void 0===a?[]:a,d=e.isLoading,u=e.mainTitle,p=void 0===u?"Hộp Qu\xe0 Y\xeau Thương":u,x=e.isPreview,h=(0,r.useState)(null),m=h[0],f=h[1],g=l.filter(function(e,t){return t%2==0}),b=l.filter(function(e,t){return t%2==1}),j=function(e,t){navigator.clipboard.writeText(e).then(function(){o.Ay.success("Đ\xe3 sao ch\xe9p số t\xe0i khoản của ".concat(t))}).catch(function(){o.Ay.error("Kh\xf4ng thể sao ch\xe9p, vui l\xf2ng thử lại")})},y=function(e){f(e)},v=function(){f(null)};if(void 0!==d&&d)return(0,c.jsxs)("div",{className:"w-full py-4",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold text-center mb-6",children:p}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-6",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center",children:[(0,c.jsx)("div",{className:"animate-pulse w-full max-w-36 h-36 sm:w-48 sm:h-48 bg-gray-200 rounded-lg mb-2 sm:mb-4"}),(0,c.jsx)("div",{className:"animate-pulse w-20 sm:w-32 h-4 sm:h-5 bg-gray-200 rounded mb-1 sm:mb-2"}),(0,c.jsx)("div",{className:"animate-pulse w-16 sm:w-24 h-3 sm:h-4 bg-gray-200 rounded mb-1 sm:mb-2"})]}),(0,c.jsxs)("div",{className:"flex flex-col items-center",children:[(0,c.jsx)("div",{className:"animate-pulse w-full max-w-36 h-36 sm:w-48 sm:h-48 bg-gray-200 rounded-lg mb-2 sm:mb-4"}),(0,c.jsx)("div",{className:"animate-pulse w-20 sm:w-32 h-4 sm:h-5 bg-gray-200 rounded mb-1 sm:mb-2"}),(0,c.jsx)("div",{className:"animate-pulse w-16 sm:w-24 h-3 sm:h-4 bg-gray-200 rounded mb-1 sm:mb-2"})]})]})]});if(0===l.length)return(0,c.jsx)("div",{className:"w-full py-8 text-center",children:(0,c.jsx)("p",{className:"text-gray-500",children:"Chưa c\xf3 th\xf4ng tin t\xe0i khoản QR n\xe0o"})});var w=function(e){var t,n=(null==(t=e.displayName)?void 0:t.toLowerCase())||"";return"bride"===e.type||n.includes("c\xf4 d\xe2u")||n.includes("co dau")||n.includes("bride")?"pink":"groom"===e.type||n.includes("ch\xfa rể")||n.includes("chu re")||n.includes("groom")?"blue":"purple"},k=function(e){var t={pink:{title:"text-pink-500",border:"border-pink-200",button:"bg-pink-50 text-pink-600 border-pink-200 hover:bg-pink-100"},blue:{title:"text-blue-500",border:"border-blue-200",button:"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"},purple:{title:"text-purple-500",border:"border-purple-200",button:"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100"}}[w(e)];return(0,c.jsxs)("div",{className:"flex flex-col items-center",children:[(0,c.jsx)("div",{className:"mb-2 sm:mb-3 font-medium text-sm sm:text-lg ".concat(t.title),children:e.displayName||("bride"===e.type?"C\xf4 d\xe2u":"groom"===e.type?"Ch\xfa rể":"Người nhận")}),(0,c.jsxs)("div",{className:"w-full flex flex-col items-center border rounded-lg p-2 sm:p-4 shadow-sm bg-white",children:[(0,c.jsx)("div",{className:"relative w-full max-w-36 h-36 sm:w-48 sm:h-48 mb-2 sm:mb-4 border-2 ".concat(t.border," rounded-lg overflow-hidden bg-white p-1 sm:p-2 cursor-pointer hover:opacity-80 transition-opacity"),onClick:function(){return e.qrCode&&y((0,s.T_)(e.qrCode))},children:e.qrCode?(0,c.jsx)(i(),{unoptimized:!0,src:(0,s.T_)(e.qrCode),alt:"QR code của ".concat(e.name),fill:!0,className:"object-contain"}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,c.jsx)("span",{className:"text-gray-400 text-xs sm:text-base",children:"QR Code"})})}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h3",{className:"font-medium text-sm sm:text-lg text-gray-800 line-clamp-1",children:e.name}),(0,c.jsxs)("div",{className:"mt-0.5 sm:mt-1 text-gray-600",children:[(0,c.jsx)("p",{className:"font-medium text-xs sm:text-base",children:e.bank}),(0,c.jsx)("p",{className:"mt-0.5 sm:mt-1 text-xs sm:text-sm font-mono tracking-wider line-clamp-1",children:e.accountNumber})]}),(0,c.jsx)("button",{className:"mt-2 sm:mt-3 px-2 sm:px-4 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm font-medium border transition ".concat(t.button),onClick:function(){return j(e.accountNumber,e.name)},children:"Sao ch\xe9p số TK"})]})]})]},e.id||e.accountNumber)};return(0,c.jsxs)("div",{className:"w-full py-4 px-1",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold text-center mb-2 sm:mb-6",children:p}),(0,c.jsx)("div",{className:"flex justify-center mb-2 mx-4",children:(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Qu\xe9t QR code để gửi y\xeau thương trực tiếp tới:"})}),1===l.length?(0,c.jsx)("div",{className:"flex justify-center",children:(n=({pink:{title:"text-pink-500",border:"border-pink-200",button:"bg-pink-50 text-pink-600 border-pink-200 hover:bg-pink-100"},blue:{title:"text-blue-500",border:"border-blue-200",button:"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"},purple:{title:"text-purple-500",border:"border-purple-200",button:"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100"}})[w(t=l[0])],(0,c.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,c.jsx)("div",{className:"text-center text-sm mb-2 font-medium text-gray-800",children:t.displayName||("bride"===t.type?"C\xf4 d\xe2u":"groom"===t.type?"Ch\xfa rể":"Người nhận")}),(0,c.jsx)("div",{className:"border rounded-lg p-3 sm:p-4 shadow-sm bg-white mx-4",children:(0,c.jsxs)("div",{className:"flex flex-row items-center",children:[(0,c.jsx)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 border-2 ".concat(n.border," rounded-lg overflow-hidden bg-white p-1 sm:p-2 flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity"),onClick:function(){return t.qrCode&&y((0,s.T_)(t.qrCode))},children:t.qrCode?(0,c.jsx)(i(),{unoptimized:!0,src:(0,s.T_)(t.qrCode),alt:"QR code của ".concat(t.name),fill:!0,className:"object-contain"}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,c.jsx)("span",{className:"text-gray-400 text-xs sm:text-sm",children:"QR Code"})})}),(0,c.jsxs)("div",{className:"ml-4 flex-1",children:[(0,c.jsx)("h3",{className:"font-medium text-sm sm:text-base text-gray-800 line-clamp-1",children:t.name}),(0,c.jsxs)("div",{className:"mt-0.5 sm:mt-1 text-gray-600",children:[(0,c.jsx)("p",{className:"font-medium text-xs sm:text-sm",children:t.bank}),(0,c.jsx)("p",{className:"mt-0.5 text-xs font-mono tracking-wider line-clamp-1",children:t.accountNumber})]}),(0,c.jsx)("div",{className:"mt-2 sm:mt-3 flex justify-end",children:(0,c.jsx)("button",{className:"px-3 py-1 rounded-full text-xs sm:text-sm font-medium border transition ".concat(n.button),onClick:function(){return j(t.accountNumber,t.name)},children:"Sao ch\xe9p số TK"})})]})]})})]},t.id||t.accountNumber))}):(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-6",children:[(0,c.jsx)("div",{className:"flex flex-col gap-4",children:g.map(function(e){return k(e)})}),(0,c.jsx)("div",{className:"flex flex-col gap-4",children:b.map(function(e){return k(e)})})]}),void 0!==x&&x&&(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("p",{className:"text-xs text-yellow-400 italic text-center mt-2 md:text-sm",children:"Đ\xe2y l\xe0 dữ liệu hiển thị mẫu, bạn cần th\xeam th\xf4ng tin t\xe0i khoản QR của bạn để hiển thị thực tế."})}),m&&(0,c.jsx)("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-90 flex items-center justify-center p-4",onClick:v,children:(0,c.jsxs)("div",{className:"relative w-full h-full max-w-4xl max-h-screen flex items-center justify-center",children:[(0,c.jsx)("button",{className:"absolute top-0 right-0 text-white text-4xl font-bold hover:text-gray-300 transition z-10",onClick:v,"aria-label":"Đ\xf3ng",children:"\xd7"}),(0,c.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",onClick:function(e){return e.stopPropagation()},children:(0,c.jsx)(i(),{unoptimized:!0,src:m,alt:"QR Code Fullscreen",fill:!0,className:"object-contain"})})]})})]})}},57279:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,v:()=>a});var r=function(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),i=new Date(n,r+1,0).getDate(),o=null;if(t){var s=t.getFullYear(),c=t.getMonth();n===s&&r===c&&(o=t.getDate())}for(var l=new Date(n,r,1).getDay(),d=0===l?6:l-1,u=[],p=0;p<d;p++)u.push({type:"empty",date:null,isSelected:!1});for(var x=1;x<=i;x++)u.push({type:"day",date:x,isSelected:a===x||o===x});return u},a=function(e,t){if(e&&t)return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes()).toISOString()}},59271:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var r=n(66125),a=n(19793),i=n(8561),o=n(51369);n(14232);var s=n(37876),c=a.A.Panel,l=i.A.Text,d=function(e){var t=e.title,n=e.props,i=e.summary,d=e.children,u=e.defaultOpen,p=(0,r.oB)(function(e){return{nodeProps:n&&n.reduce(function(t,n){return t[n]=e.data.props[n]||null,t},{})}}).nodeProps;return(0,s.jsx)(a.A,{bordered:!1,defaultActiveKey:["1"],style:{background:"transparent"},children:(0,s.jsxs)(c,{header:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(l,{style:{fontWeight:"bold"},children:t}),i&&n?(0,s.jsx)(l,{type:"secondary",children:i(n.reduce(function(e,t){return e[t]=p[t],e},{}))}):null]}),style:{marginBottom:8,borderRadius:4,border:"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)(o.A,{style:{margin:"8px 0"}}),(0,s.jsx)("div",{children:d})]},void 0!==u&&u?"1":"")})}},59467:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(27002),a=n.n(r);n(14232);var i=n(51558),o=n(98594),s=n(48230),c=n.n(s),l=n(14e3),d=n(37876);let u=function(e){var t=e.item,n=(0,l.usePathname)();return(0,d.jsxs)(i.Bx.Item,{href:t.url,as:c(),className:"".concat(t.url==n?"!text-white bg-primary shadow-active sidebar-active":"text-link bg-transparent group/link "," "),children:[(0,d.jsxs)("span",{className:"jsx-1120437888 flex gap-3 align-center items-center truncate",children:[t.icon?(0,d.jsx)(o.In,{icon:t.icon,className:"".concat(t.color),height:18}):(0,d.jsx)("span",{className:"jsx-1120437888 "+"".concat(t.url==n?"dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary !bg-primary h-[6px] w-[6px]":"h-[6px] w-[6px] bg-darklink dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary"," ")}),(0,d.jsx)("span",{className:"jsx-1120437888 max-w-36 overflow-hidden hide-menu",children:t.name})]}),(0,d.jsx)(a(),{id:"1120437888",children:[".sidebar-active:hover{background-color:#69b1ff !important;}"]})]})}},61646:(e,t,n)=>{"use strict";n.d(t,{X:()=>s}),n(14232);var r=n(83240),a=n(66125),i=n(47139),o=n(37876),s=function(){var e=(0,a.oB)(function(e){return{propValue:e.data.props.textAlign||"left"}}),t=e.actions.setProp,n=e.propValue,s=function(e){t(function(t){t.textAlign=e})};return(0,o.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,o.jsx)("label",{className:"text-sm font-medium",children:"Căn chỉnh"}),(0,o.jsxs)(r.Ay.Group,{children:[(0,o.jsx)(r.Ay,{type:"left"===n?"primary":"default",onClick:function(){return s("left")},icon:(0,o.jsx)(i.Tpz,{})}),(0,o.jsx)(r.Ay,{type:"center"===n?"primary":"default",onClick:function(){return s("center")},icon:(0,o.jsx)(i.zbt,{})}),(0,o.jsx)(r.Ay,{type:"right"===n?"primary":"default",onClick:function(){return s("right")},icon:(0,o.jsx)(i.eLA,{})}),(0,o.jsx)(r.Ay,{type:"justify"===n?"primary":"default",onClick:function(){return s("justify")},icon:(0,o.jsx)(i.Q7q,{})})]})]})}},62026:(e,t,n)=>{"use strict";n.d(t,{U:()=>m});var r=n(14232),a=n(66125),i=n(30751),o=n(81495),s=n(81363),c=n(10553),l=n(1985),d=n(58371),u=n(71582),p=n(37876),x=function(e,t,n){if("basic"===e){var r,a=[];try{var i=t.getNodes();Object.values(i).forEach(function(e){var t,n,r;null!=e&&null!=(t=e.data)&&null!=(t=t.props)&&t.isAdvanced&&null!=(n=e.data.props)&&n.isPremium&&a.push({displayName:e.data.displayName,nodeId:e.id,isPremium:null==(r=e.data.props)?void 0:r.isPremium})})}catch(e){console.error("Error checking advanced nodes:",e)}return{hasAdvancedItems:a.length>0,advancedItems:a}}if("free"!==e)return{hasAdvancedItems:!1,advancedItems:[]};var o=[];null!=n&&n.openingEffect&&o.push({displayName:"Hiệu ứng mở m\xe0n",isPremium:!1}),null!=n&&null!=(r=n.snowflakeEffect)&&r.enabled&&o.push({displayName:"Hiệu ứng thả rơi",isPremium:!1});try{var s=t.getNodes(),c=!1;Object.values(s).forEach(function(e){var t,n,r;(null==e||null==(t=e.data)?void 0:t.name)!=="PluginAnimatedEnvelope"||c||(o.push({displayName:"Hiệu ứng phong b\xec thư",isPremium:!1}),c=!0),null!=e&&null!=(n=e.data)&&null!=(n=n.props)&&n.isAdvanced&&o.push({displayName:e.data.displayName,nodeId:e.id,isPremium:null==(r=e.data.props)?void 0:r.isPremium})})}catch(e){console.error("Error checking advanced nodes:",e)}return{hasAdvancedItems:o.length>0,advancedItems:o}},h=function(e,t){if(0!==e.length){var n=e.filter(function(e){return e.isPremium}),r=e.filter(function(e){return!e.isPremium}),a=n.map(function(e){return e.displayName}).join(", "),i=r.map(function(e){return e.displayName}).join(", "),o=n.length>0,s=r.length>0,c="Ph\xe1t hiện t\xednh năng n\xe2ng cao!",x=(0,p.jsx)(d.A,{style:{color:"#faad14",fontSize:"20px"}}),h="#faad14";"free"===t?o&&!s?(c="Ph\xe1t hiện t\xednh năng Premium!",x=(0,p.jsx)(d.A,{style:{color:"#722ed1",fontSize:"20px"}}),h="#722ed1"):!o&&s&&(c="Ph\xe1t hiện t\xednh năng Basic!",x=(0,p.jsx)(u.A,{style:{color:"#1890ff",fontSize:"20px"}}),h="#1890ff"):"basic"===t&&o&&(c="Ph\xe1t hiện t\xednh năng Premium!",x=(0,p.jsx)(d.A,{style:{color:"#722ed1",fontSize:"20px"}}),h="#722ed1"),l.Ay.warning({title:(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,p.jsx)("span",{style:{fontWeight:"bold"},children:c}),x]}),description:(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{style:{marginBottom:"8px"},children:["Trang của bạn c\xf3 chứa c\xe1c t\xednh năng n\xe2ng cao:",(0,p.jsxs)("span",{style:{fontWeight:"bold",color:h},children:[" ",'"',e.map(function(e){return e.displayName}).join(", "),'"']})]}),o&&(0,p.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"#f9f0ff",border:"1px solid #d3adf7",borderRadius:"4px"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#722ed1",fontWeight:"bold",marginBottom:"4px"},children:[(0,p.jsx)(d.A,{style:{fontSize:"14px"}}),"Premium: ",a]}),(0,p.jsx)("div",{style:{color:"#722ed1",fontSize:"12px"},children:"Cần g\xf3i Premium để sử dụng"})]}),s&&(0,p.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"#f6ffed",border:"1px solid #b7eb8f",borderRadius:"4px"},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#1890ff",fontWeight:"bold",marginBottom:"4px"},children:[(0,p.jsx)(u.A,{style:{fontSize:"14px"}}),"Basic: ",i]}),(0,p.jsx)("div",{style:{color:"#1890ff",fontSize:"12px"},children:"Cần g\xf3i Basic trở l\xean để sử dụng"})]}),(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#666"},children:"Vui l\xf2ng n\xe2ng cấp g\xf3i để sử dụng đầy đủ c\xe1c t\xednh năng n\xe0y."})]}),duration:15,showProgress:!0,pauseOnHover:!0,placement:"topRight",style:{borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}},m=function(e){var t,n=e.pageIdParam,l=e.isTemplate,d=void 0!==l&&l,u=e.autoSaveInterval,p=void 0===u?30:u,m="new-blank"===n?null:n,f=(0,a.hG)().query,g=(0,o.$E)().settings,b=(0,s.V)(),j=b.currentMusic,y=b.icon,v=b.iconColor,w=(0,c.useSession)().data,k=(null==w||null==(t=w.user)?void 0:t.plan)||"free",N=(0,i.D)(),A=N.status,C=N.startAutoSave,S=N.stopAutoSave,O=N.setAutoSaveInterval,T=N.setAutoSaveEnabled,D=N.setHasUnsavedChanges,E=(0,r.useRef)(""),R=(0,r.useRef)(!1),I=(0,r.useCallback)(function(){try{var e=x(k,f,g);return e.hasAdvancedItems&&m&&!d&&h(e.advancedItems,k),{pageData:f.serialize(),settings:g,music:{fileKey:null==j?void 0:j.fileKey,icon:y,iconColor:v,title:null==j?void 0:j.title,duration:null==j?void 0:j.duration},timestamp:Date.now(),pageId:m,isTemplate:d,hasAdvancedItems:e.hasAdvancedItems}}catch(e){return console.error("Error getting current backup data:",e),null}},[f,g,j,y,v,m,d,k]);return(0,r.useEffect)(function(){var e=setInterval(function(){try{var e=JSON.stringify({pageData:f.serialize(),settings:g,music:j});R.current&&e!==E.current&&D(!0),E.current=e,R.current=!0}catch(e){console.error("Error checking for changes:",e)}},2e3);return function(){return clearInterval(e)}},[f,g,j,D]),(0,r.useEffect)(function(){return O(p),A.autoSaveEnabled&&C(I,m,d,k),function(){S()}},[A.autoSaveEnabled,p,I,m,d,O,C,S,k]),{status:A,setAutoSaveInterval:O,setAutoSaveEnabled:T,getCurrentBackupData:I}}},62081:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r=(0,n(8106).v)(function(e){return{refreshTrigger:0,triggerRefresh:function(){return e(function(e){return{refreshTrigger:e.refreshTrigger+1}})}}})},62497:(e,t,n)=>{"use strict";n.d(t,{R:()=>P});var r=n(42969),a=n(27002),i=n.n(a),o=n(66125),s=n(14232),c=n(16495),l=n(13286),d=n(33598),u=n(39229),p=n(82599),x=n(15030),h=n(3194),m=n(48371),f=n(93521),g=n(61646),b=n(95463),j=n(25192),y=n(33536),v=n(96447),w=n(12448),k=n(94085),N=n(733),A=n(89099),C=n(73301),S=n(37876),O=n(10881),T=n(86961),D=n(21350),E={DYNAMIC:"Dynamic Text",STYLE:"Kiểu chữ",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"},R=n(2029);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var P=function(e){var t,n=e.fontSize,a=e.textAlign,p=e.fontWeight,x=e.color,h=e.backgroundColor,m=e.shadow,f=e.padding,g=e.top,b=e.left,j=e.width,y=e.fontFamily,v=e.letterSpacing,w=e.lineHeight,k=e.opacity,N=e.textTransform,A=e.textDecoration,C=e.fontStyle,O=e.borderRadius,T=e.rotation,D=e.borderPosition,E=e.borderSize,P=e.borderStyle,B=e.borderColor,z=e.hasShadow,_=e.boxShadow,F=e.zIndex,L=e.locked,M=e.transition,H=void 0===M?u.l:M,U=e.fallbackText,K=(0,o.oB)(function(e){return{active:e.events.selected,id:e.id}}),W=K.connectors.connect,X=K.actions.setProp,G=K.id,Y=K.active,q=(0,o.hG)(function(e){return{enabled:e.options.enabled}}).enabled,V=H||u.l,Q=(0,s.useRef)(null),Z=(0,s.useState)([]),J=Z[0],$=Z[1],ee=(0,s.useState)({width:0,height:0,left:0,top:0}),et=ee[0],en=ee[1],er=(0,s.useState)(null),ea=er[0],ei=er[1],eo=(0,s.useState)(!1),es=eo[0],ec=eo[1],el=(0,s.useState)(""),ed=el[0],eu=el[1],ep=(0,R.x)(),ex=ep.guestData,eh=ep.getGuestName,em=function(e){return e?e.replace(/\\n/g,"\n"):""};(0,s.useEffect)(function(){var e;if(null!=ex&&ex.success&&null!=ex&&null!=(e=ex.data)&&e.guest)eu(em(eh()));else{var t=new URLSearchParams(window.location.search).get("guestName");t?eu(em(t)):eu(em(U))}},[ex,U,eh]),(0,s.useEffect)(function(){y&&"Arial"!==y&&(0,c.y3)(y)},[y]),(0,s.useEffect)(function(){if(Y&&q){var e=document.querySelector("#root-page-container");e&&$(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==G}))}},[Y,q,G]),(0,s.useEffect)(function(){if(Y&&q){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();en({width:t.width,height:t.height,left:t.left,top:t.top}),ei(e)}}},[Y,q]);var ef=j||et.width,eg=(0,s.useState)(!!j),eb=eg[0],ej=eg[1],ey=(0,s.useRef)(null);(0,s.useEffect)(function(){if(!eb&&ey.current&&Y){var e=ey.current.scrollWidth;Math.abs((j||0)-e)>10&&ev({width:e})}},[n,y,f,Y]);var ev=function(e){e.width&&ej(!0),X(function(t){Object.assign(t,e)})},ew=function(){switch(D){case"all":return{border:"".concat(E,"px ").concat(P," ").concat(B)};case"top":return{borderTop:"".concat(E,"px ").concat(P," ").concat(B)};case"bottom":return{borderBottom:"".concat(E,"px ").concat(P," ").concat(B)};case"right":return{borderRight:"".concat(E,"px ").concat(P," ").concat(B)};case"left":return{borderLeft:"".concat(E,"px ").concat(P," ").concat(B)};case"top-bottom":return{borderTop:"".concat(E,"px ").concat(P," ").concat(B),borderBottom:"".concat(E,"px ").concat(P," ").concat(B)};case"right-left":return{borderRight:"".concat(E,"px ").concat(P," ").concat(B),borderLeft:"".concat(E,"px ").concat(P," ").concat(B)};case"upper-left":return{borderTop:"".concat(E,"px ").concat(P," ").concat(B),borderLeft:"".concat(E,"px ").concat(P," ").concat(B)};case"upper-right":return{borderTop:"".concat(E,"px ").concat(P," ").concat(B),borderRight:"".concat(E,"px ").concat(P," ").concat(B)};case"lower-left":return{borderBottom:"".concat(E,"px ").concat(P," ").concat(B),borderLeft:"".concat(E,"px ").concat(P," ").concat(B)};case"lower-right":return{borderBottom:"".concat(E,"px ").concat(P," ").concat(B),borderRight:"".concat(E,"px ").concat(P," ").concat(B)};default:return{}}}(),ek=y?(0,c.Zd)(y):"Arial",eN=q&&!ed?"T\xean kh\xe1ch mời":ed;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{"data-node-id":G,ref:function(e){e&&(W(e),Q.current=e)},style:{position:"absolute",top:"".concat(g,"px"),left:"".concat(b,"px"),width:"".concat(j||ef,"px"),height:"auto",zIndex:F,cursor:q?"move":"default",transform:"rotate(".concat(T,"deg)")},className:i().dynamic([["2553181427",[E||0]]])+" text-box-component",children:(0,S.jsx)(d.A,{transition:V,targetRef:Q,enabled:q,nodeId:G,onTransitionStart:function(){ec(!0)},onTransitionEnd:function(){ec(!1)},children:(0,S.jsx)("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({position:"relative",width:"100%",height:"100%",padding:"".concat(f[0],"px ").concat(f[1],"px ").concat(f[2],"px ").concat(f[3],"px"),borderRadius:"".concat(O[0],"px \n            ").concat(O[1],"px \n            ").concat(O[2],"px \n            ").concat(O[3],"px"),boxShadow:z?"".concat(_.offsetX,"px ").concat(_.offsetY,"px ").concat(_.blur,"px ").concat(_.spread,"px ").concat(_.color):"none",backgroundColor:h,display:"flex",alignItems:"center",justifyContent:"center"===a?"center":"right"===a?"flex-end":"flex-start",boxSizing:"border-box",opacity:k},ew),className:i().dynamic([["2553181427",[E||0]]]),children:(0,S.jsx)("div",{ref:ey,style:{height:"auto",width:"100%",minWidth:20,color:x,fontSize:"".concat(n,"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((m||0)/100,")"),fontWeight:p,fontFamily:ek,textAlign:a,lineHeight:w,letterSpacing:"".concat(v,"px"),textTransform:N,textDecoration:A,fontStyle:C,pointerEvents:"none",overflow:"hidden",wordBreak:"break-word",whiteSpace:"pre-line"},className:i().dynamic([["2553181427",[E||0]]]),children:eN})})})}),Y&&q&&Q.current&&!es&&(0,S.jsx)(l.A,{target:Q.current,container:ea,otherElements:J,containerBounds:et,currentProps:{top:g,left:b,width:j||ef,height:null==(t=ey.current)?void 0:t.scrollHeight,rotation:T,flipX:!1,flipY:!1,locked:L},onUpdateProps:ev,resizeDirections:["w","e"],keepRatio:!1}),(0,S.jsx)(i(),{id:"2553181427",dynamic:[E||0],children:[".text-box-component.__jsx-style-dynamic-selector{height:auto !important;position:relative;}",'.text-box-component.component-hovered.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px dashed var(--color-primary);position:absolute;pointer-events:none;inset:-'.concat(E||0,"px;display:block;}")]})]})};P.craft={displayName:"Dynamic Text Box",props:{fontSize:26,textAlign:"center",fontWeight:"500",fontFamily:"Arial",lineHeight:"normal",letterSpacing:"0",textTransform:"none",textDecoration:"none",color:"#000000",backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,top:10,left:10,width:200,height:50,fontStyle:"normal",borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,locked:!1,transition:u.l,fallbackText:""},related:{toolbar:function(){k.Fr||k.v1;var e=(0,o.oB)(function(e){return{values:e.data.props}}),t=e.actions.setProp,n=e.values,r=(0,N.bi)().pageId,a=(0,A.useRouter)();return(0,S.jsxs)(s.Fragment,{children:[(0,S.jsx)(p.rk,{defaultOpen:!0,title:"Dynamic Text Settings",props:["fallbackText"],children:(0,S.jsxs)("div",{className:"py-2",children:[(0,S.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,S.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"T\xean kh\xe1ch mời tự động"}),(0,S.jsxs)("div",{className:"space-y-2 text-sm text-blue-700",children:[(0,S.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"T\xean kh\xe1ch mời sẽ được lấy tự động từ mỗi link được tạo"}),(0,S.jsxs)("p",{className:"text-xs text-blue-600",children:["Tạo link t\xean kh\xe1ch mời tự động"," ",(0,S.jsx)("span",{onClick:function(){var e=a.pathname.includes("/editor-template/");if("new-blank"===r||e)return void C.Ay.warning("Vui l\xf2ng xuất bản trang trước khi tạo link t\xean kh\xe1ch mời tự động!");window.open("/pages/".concat(r,"/guests-v2"),"_blank")},className:"text-blue-500 font-bold underline cursor-pointer",children:"tại đ\xe2y"})]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text mặc định"}),(0,S.jsx)("input",{type:"text",value:n.fallbackText||"",onChange:function(e){t(function(t){return t.fallbackText=e.target.value})},placeholder:"V\xed dụ: Bạn v\xe0 người thương,...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,S.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Text n\xe0y sẽ hiển thị khi kh\xf4ng c\xf3 t\xean kh\xe1ch mời cụ thể trong đường dẫn. ",(0,S.jsx)("br",{}),"C\xf3 thể để trống nếu kh\xf4ng muốn hiển thị g\xec."]})]})]})}),(0,S.jsxs)(p.rk,{defaultOpen:!0,title:"Kiểu chữ",props:["fontSize","fontWeight","textAlign","fontFamily","lineHeight","letterSpacing","textTransform","textDecoration","fontStyle"],children:[(0,S.jsx)(h.t,{}),(0,S.jsx)(g.X,{}),(0,S.jsx)(x.H,{}),(0,S.jsx)(m.e,{}),(0,S.jsx)(f.O,{colorTitle:"M\xe0u chữ"}),(0,S.jsx)(w.x,{})]}),(0,S.jsxs)(p.rk,{title:"Khoảng đệm",props:["padding"],children:[(0,S.jsx)(b.a,{}),(0,S.jsx)(j.d,{})]}),(0,S.jsx)(p.rk,{title:"Đường viền",children:(0,S.jsx)(y.x,{})}),(0,S.jsx)(p.rk,{title:"Đổ b\xf3ng",children:(0,S.jsx)(v.G,{})}),(0,S.jsx)(p.rk,{title:"Hiệu ứng chuyển động",children:(0,S.jsx)(u.i,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=(0,o.oB)(function(e){return{values:e.data.props}}),a=r.actions.setProp,i=r.values,c=(0,N.bi)().pageId,l=(0,A.useRouter)(),d=function(){var e=l.pathname.includes("/editor-template/");if("new-blank"===c||e)return void C.Ay.warning("Vui l\xf2ng xuất bản trang trước khi tạo link t\xean kh\xe1ch mời tự động!");window.open("/pages/".concat(c,"/guests-v2"),"_blank")},p=function(e){n(e)};return(0,S.jsxs)(s.Fragment,{children:[(0,S.jsx)(O.A,{icon:(0,S.jsx)(T.NOV,{size:20}),label:"Dynamic Text",onClick:function(){return p(E.DYNAMIC)}}),(0,S.jsx)(O.A,{icon:(0,S.jsx)(T.TEV,{size:20}),label:"Kiểu chữ",onClick:function(){return p(E.STYLE)}}),(0,S.jsx)(O.A,{icon:(0,S.jsx)(T.WKR,{size:20}),label:E.PADDING,onClick:function(){return p(E.PADDING)}}),(0,S.jsx)(O.A,{icon:(0,S.jsx)(T.lKm,{size:20}),label:E.BORDER,onClick:function(){return p(E.BORDER)}}),(0,S.jsx)(O.A,{icon:(0,S.jsx)(T.elE,{size:20}),label:E.BOX_SHADOW,onClick:function(){return p(E.BOX_SHADOW)}}),(0,S.jsx)(O.A,{icon:(0,S.jsx)(T.Vt5,{size:20}),label:E.TRANSITION,onClick:function(){return p(E.TRANSITION)}}),(0,S.jsx)(D.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,S.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,S.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,S.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,S.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,S.jsx)("div",{className:"setting-content",children:function(){switch(t){case E.DYNAMIC:return(0,S.jsxs)("div",{className:"py-2",children:[(0,S.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,S.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"T\xean kh\xe1ch mời tự động"}),(0,S.jsxs)("div",{className:"space-y-2 text-sm text-blue-700",children:[(0,S.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"T\xean kh\xe1ch mời sẽ được lấy tự động từ mỗi link được tạo"}),(0,S.jsxs)("p",{className:"text-xs text-blue-600",children:["Tạo link t\xean kh\xe1ch mời tự động"," ",(0,S.jsx)("span",{onClick:d,className:"text-blue-500 font-bold underline cursor-pointer",children:"tại đ\xe2y"})]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text mặc định"}),(0,S.jsx)("input",{type:"text",value:i.fallbackText||"",onChange:function(e){a(function(t){return t.fallbackText=e.target.value})},placeholder:"V\xed dụ: Bạn v\xe0 người thương,...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,S.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Text n\xe0y sẽ hiển thị khi kh\xf4ng c\xf3 t\xean kh\xe1ch mời cụ thể trong đường dẫn. ",(0,S.jsx)("br",{}),"C\xf3 thể để trống nếu kh\xf4ng muốn hiển thị g\xec."]})]})]});case E.STYLE:return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(h.t,{}),(0,S.jsx)(g.X,{}),(0,S.jsx)(x.H,{}),(0,S.jsx)(m.e,{}),(0,S.jsx)(f.O,{colorTitle:"M\xe0u chữ"}),(0,S.jsx)(w.x,{})]});case E.PADDING:return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.a,{}),(0,S.jsx)(j.d,{})]});case E.BORDER:return(0,S.jsx)(y.x,{});case E.BOX_SHADOW:return(0,S.jsx)(v.G,{});case E.TRANSITION:return(0,S.jsx)(u.i,{});default:return(0,S.jsx)(S.Fragment,{})}}()})})]})})]})}}}},62542:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(27925),a=n(63857),i=n(44478),o=n(43081),s=n.n(o),c=n(14232),l=n(73301),d=n(45503),u=n(40108),p=n(35156),x=n(54587),h=n.n(x),m=n(47139),f=n(66125),g=n(90579),b=n(22705),j=n(69486),y=n(62081),v=n(40673),w=n(62436),k=n(16825),N=n(81495),A=n(37876);let C=function(e){var t,n,o=e.isMobile,x=e.onClose,C=(0,c.useState)([]),S=C[0],O=C[1],T=(0,c.useState)(!1),D=T[0],E=T[1],R=(0,w.wL)(),I=R.isReplacing,P=R.replaceType,B=R.selectedNodeId,z=(0,w.c3)().setActiveKey,_=(0,N.$E)(),F=_.settings,L=_.setThumbnail,M=(0,f.hG)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),H=M.connectors.create,U=M.actions,K=M.query,W=M.currentlySelectedNodeId,X=(0,c.useRef)({}),G=(0,c.useRef)(0),Y=(0,c.useRef)(0),q=(0,y.x)(function(e){return e.refreshTrigger}),V=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width));G.current=Math.round(Math.min(Math.max(a,0),n.height)),Y.current=i}},Q=function(e,t){if(I&&"photo"===P&&null!==B&&B===W){var n=K.node(B).get().data.props.width,r=n,a=X.current[t];if(a){var s=a.naturalWidth;r=a.naturalHeight/s*n}U.setProp(B,function(t){t.imgKey=e,t.width=n,t.height=r}),w.wL.getState().setReplacing(!1),w.wL.getState().setReplaceType(null),w.wL.getState().setSelectedNodeId(null),o&&x&&x(),z(null);return}var l=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(l&&d){var u=d.scrollTop,p=l.getBoundingClientRect().width,h=100,m=100,f=X.current[t];if(f){var y=f.naturalWidth,v=f.naturalHeight,k=(0,b.P)(j.QL,y,v),N=k.scaleWidth,A=k.scaleHeight;h=N,m=A}var C=K.node("ROOT").get().data.nodes||[],S=0;C.length>0&&(S=Math.max.apply(Math,(0,i.A)(C.map(function(e){return K.node(e).get().data.props.zIndex||0}))));var O=K.createNode(c.createElement(g.U,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(p/2-h/2),width:h,height:m,imgKey:e,zIndex:0==S?0:S+1}));U.add(O,"ROOT"),U.selectNode(O.id),o&&x&&x()}},Z=(t=(0,a.A)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,(0,k.bl)();case 4:O(J(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),l.Ay.error("Failed to load photos");case 13:return e.prev=13,E(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return t.apply(this,arguments)}),J=function(e){return(0,i.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,c.useEffect)(function(){Z()},[q]);var $=(S.reduce(function(e,t){return e+t.fileSize},0)/0x40000000).toFixed(4),ee=function(e){var t=K.getNodes(),n=[],a=!1;return F.thumbnailKey&&F.thumbnailKey.includes(e)&&(a=!0),Object.entries(t).forEach(function(t){var a,i,o,s,c=(0,r.A)(t,2),l=c[0],d=c[1];(null==(a=d.data)?void 0:a.name)==="PhotoBox"&&null!=(i=d.data)&&null!=(i=i.props)&&null!=(i=i.imgKey)&&i.includes(e)&&n.push(l),(null==(o=d.data)?void 0:o.name)==="UnifiedMap"&&null!=(s=d.data)&&null!=(s=s.props)&&null!=(s=s.galleryImageUrl)&&s.includes(e)&&n.push(l)}),{usedInNodes:n,isUsedAsThumbnail:a,totalUsage:n.length+ +!!a}},et=function(e){e.forEach(function(e){try{U.delete(e)}catch(t){console.warn("Kh\xf4ng thể x\xf3a node ".concat(e,":"),t)}})},en=(n=(0,a.A)(s().mark(function e(t,n){var r,i,o,c,u;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=(r=ee(n)).usedInNodes,o=r.isUsedAsThumbnail,(c=r.totalUsage)>0?(u=(0,A.jsxs)("div",{children:[(0,A.jsxs)("p",{children:["Ảnh n\xe0y đang được sử dụng trong ",c," th\xe0nh phần:"]}),i.length>0&&(0,A.jsxs)("p",{children:["• ",i.length," th\xe0nh phần của trang"]}),o&&(0,A.jsxs)("p",{children:["• ",(0,A.jsx)("strong",{children:"Thumbnail của trang"})," (ảnh hiển thị khi chia sẻ)"]}),(0,A.jsx)("p",{children:(0,A.jsx)("strong",{children:"Nếu bạn x\xf3a ảnh n\xe0y, c\xe1c th\xe0nh phần đ\xf3 cũng sẽ bị x\xf3a theo."})}),(0,A.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 mt-2",children:(0,A.jsx)("div",{className:"flex",children:(0,A.jsxs)("div",{className:"ml-2 text-sm text-yellow-800",children:[(0,A.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến c\xe1c trang đ\xf3."]})})}),(0,A.jsx)("p",{className:"mt-3",children:(0,A.jsx)("strong",{children:"Bạn c\xf3 chắc chắn muốn tiếp tục x\xf3a?"})})]}),d.A.confirm({title:"Ảnh đang được sử dụng",content:u,okText:"Vẫn x\xf3a",cancelText:"Hủy",okType:"danger",centered:!0,onOk:function(){var e=(0,a.A)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,et(i),o&&L(""),e.next=5,(0,k.IM)(t);case 5:l.Ay.success("Đ\xe3 x\xf3a ảnh v\xe0 ".concat(c," th\xe0nh phần sử dụng ảnh")),Z(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),l.Ay.error("Kh\xf4ng thể x\xf3a ảnh");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}()})):d.A.confirm({title:"X\xf3a ảnh",icon:null,content:(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?"}),(0,A.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mt-3",children:(0,A.jsx)("div",{className:"flex",children:(0,A.jsxs)("div",{className:"ml-3 text-sm text-yellow-800",children:[(0,A.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang thiệp kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến tất cả c\xe1c trang đ\xf3."]})})})]}),okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,a.A)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.IM)(t);case 3:l.Ay.success("Ảnh đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),Z(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),l.Ay.error("Kh\xf4ng thể x\xf3a ảnh");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)("div",{className:"p-3",children:(0,A.jsx)(p.A,{onUploadSuccess:Z})}),I&&(0,A.jsx)(u.A,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,A.jsxs)("div",{className:"mt-4",children:[(0,A.jsx)("h4",{className:"px-3 mb-2",children:"Tệp đ\xe3 tải l\xean"}),(0,A.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",S.length," tệp (",$," GB / 5GB)"]}),(0,A.jsx)("div",{className:"upload-list",children:(0,A.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:o?"calc(60vh - 300px)":"calc(100vh - 300px)",minHeight:"300px",maxHeight:"calc(100vh - 300px)",overflow:"auto",paddingBottom:"100px"},children:(0,A.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:D?Array(6).fill(null).map(function(e,t){return(0,A.jsx)("div",{className:"aspect-square animate-pulse",children:(0,A.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):S.map(function(e,t){return(0,A.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){t&&H(t,(0,A.jsx)(g.U,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=X.current[e.fileId];if(a){var o=a.naturalWidth,s=a.naturalHeight,c=(0,b.P)(j.QL,o,s),l=c.scaleWidth,d=c.scaleHeight;n=l,r=d}var u=K.node("ROOT").get().data.nodes||[],p=0;u.length>0&&(p=Math.max.apply(Math,(0,i.A)(u.map(function(e){return K.node(e).get().data.props.zIndex||0}))));var x=Object.keys(t.nodes)[0];U.setProp(x,function(e){e.top=G.current||0,e.left=Y.current||0,e.width=n,e.height=r,e.zIndex=0==p?0:p+1})}})},draggable:!0,onClick:function(){return Q(e.fileKey,e.fileId)},onDrag:V,children:(0,A.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,A.jsx)(h(),{unoptimized:!0,src:(0,v.Rw)(e.fileKey,200),alt:"User photo ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){t&&(X.current[e.fileId]=t)}}),(0,A.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,A.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,A.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),en(e.fileId,e.fileKey)},title:"Delete photo",children:(0,A.jsx)(m.jzL,{className:"w-3 h-3"})})})})]})},e.fileId)})})})})]})]})})}},63167:(e,t,n)=>{"use strict";n.d(t,{A:()=>s}),n(14232);var r=n(51558),a=n(98594),i=n(92400),o=n(37876);let s=function(e){var t=e.item,n=(0,i.f)().openDesignModal;return(0,o.jsx)(r.Bx.Item,{href:"#",onClick:function(e){e.preventDefault(),n()},className:"text-link bg-transparent group/link cursor-pointer",children:(0,o.jsxs)("span",{className:"flex gap-3 align-center items-center truncate",children:[t.icon?(0,o.jsx)(a.In,{icon:t.icon,className:"".concat(t.color),height:18}):(0,o.jsx)("span",{className:"h-[6px] w-[6px] bg-darklink dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary"}),(0,o.jsx)("span",{className:"max-w-36 overflow-hidden hide-menu",children:t.name})]})})}},64232:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(59860),a=n(42969),i=n(27925),o=n(45503),s=n(14232),c=n(66125),l=n(89862),d=n(63857),u=n(43081),p=n.n(u),x=n(37876);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=(0,s.createContext)(null),f=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({basePath:"",pathname:"/",route:"/",query:{},asPath:"/",push:(e=(0,d.A)(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),replace:(t=(0,d.A)(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),reload:function(){},back:function(){},forward:function(){},prefetch:(n=(0,d.A)(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),beforePopState:function(){},events:{on:function(){},off:function(){},emit:function(){}},isFallback:!1,isLocaleDomain:!1,isReady:!0,isPreview:!1,locale:"vi",locales:["vi"],defaultLocale:"vi"},r)},g=function(e){var t=e.children,n=e.router,r=f(void 0===n?{}:n);return(0,x.jsx)(m.Provider,{value:r,children:t})},b=["editorViewportWidth"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let v=function(e){var t,n=e.visible,a=e.onClose,d=e.backupData,u=e.isMobile,p=void 0!==u&&u,h=(0,s.useState)(null),m=h[0],f=h[1],j=(0,s.useMemo)(function(){if(!(null!=d&&d.pageData))return null;try{return JSON.parse(d.pageData)}catch(e){return console.error("Error parsing page data:",e),null}},[d]);return(0,s.useEffect)(function(){if(j){var e=parseInt(j.ROOT.props.width),t=parseInt(j.ROOT.props.height),n=p?280:350,a=n/e,o=Object.entries(j).reduce(function(e,t){var n=(0,i.A)(t,2),r=n[0],o=n[1];if(!o.props)return e[r]=o,e;var s=y(y({},o.props),{},{top:o.props.top*a,left:o.props.left*a,width:o.props.width*a,height:o.props.height*a,fontSize:o.props.fontSize*a});return e[r]=y(y({},o),{},{props:s}),e},{}),s=j.ROOT.props,c=(s.editorViewportWidth,(0,r.A)(s,b));o.ROOT=y(y({},j.ROOT),{},{props:y(y({},c),{},{width:n,height:t*a})}),f(o)}},[j]),(0,x.jsx)(o.A,{title:"Xem trước backup",open:n,onCancel:a,width:p?350:400,footer:null,children:(0,x.jsxs)("div",{className:"space-y-4",children:[d&&(0,x.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,x.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,x.jsx)("strong",{children:"Ti\xeau đề:"})," ",(null==(t=d.settings)?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề"]}),(0,x.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,x.jsx)("strong",{children:"Thời gian:"})," ",new Date(d.timestamp).toLocaleString("vi-VN")]})]}),(0,x.jsx)("div",{className:"border rounded-lg overflow-hidden bg-white flex justify-center",children:(0,x.jsx)("div",{className:"h-[600px] overflow-auto",children:m&&(0,x.jsx)(g,{children:(0,x.jsx)(c.KE,{resolver:l.K6,enabled:!1,children:(0,x.jsx)(c.wI,{data:m},m.ROOT.props.width)})})})})]})})}},65035:(e,t,n)=>{"use strict";n.d(t,{Yv:()=>i,ZA:()=>a,p1:()=>o});var r=n(82851),a=[{heading:"ADMIN",children:[{name:"Quản l\xfd thiết kế",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/admin/templates"},{name:"Tạo Trang Cho Người D\xf9ng",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/admin/edit-as"}]}],i=[{heading:"HOME",children:[{name:"Tổng quan",icon:"solar:widget-add-line-duotone",id:(0,r.uniqueId)(),url:"/dashboard"},{name:"G\xf3i dịch vụ của t\xf4i",icon:"solar:crown-line-duotone",id:(0,r.uniqueId)(),url:"/dashboard/my-plan"},{name:"Tạo thiết kế",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/editor/new-blank",customComponent:"DesignNavItem"}]},{heading:"THIẾT KẾ CỦA T\xd4I",children:[{name:"Thiệp online",icon:"solar:clipboard-heart-linear",id:(0,r.uniqueId)(),url:"/pages"},{name:"Website kh\xe1c",icon:"solar:emoji-funny-square-outline",id:(0,r.uniqueId)(),url:"/dashboard/my-custom-web"}]},{heading:"QU\xc0 TẶNG & LỜI CH\xdaC",children:[{name:"Lời ch\xfac",icon:"solar:chat-dots-outline",id:(0,r.uniqueId)(),url:"/dashboard/blessing-box"},{name:"Qu\xe0 tặng",icon:"solar:gift-outline",id:(0,r.uniqueId)(),url:"/dashboard/gifts-overview"}]},{heading:"T\xc0I KHOẢN",children:[{name:"Th\xf4ng tin c\xe1 nh\xe2n",icon:"solar:shield-user-outline",id:(0,r.uniqueId)(),url:"/dashboard/profile"}]},{heading:"HỖ TRỢ",children:[{name:"Đ\xf3ng g\xf3p \xfd kiến",icon:"solar:mailbox-linear",id:(0,r.uniqueId)(),url:"/dashboard/feedback"}]}],o=[{heading:"CHƯA X\xc1C THỰC",children:[{name:"Sảnh chờ",icon:"solar:home-smile-broken",id:(0,r.uniqueId)(),url:"/dashboard/waiting-room"}]}]},66013:(e,t,n)=>{"use strict";n.d(t,{T:()=>K});var r=n(42969),a=n(14232),i=n(66125),o=n(69486),s=n(13286),c=n(27002),l=n.n(c),d=n(37876);let u=function(e){var t=e.themeColor,n=e.color,r=e.fontSize,i=e.fontFamily,o=e.targetDate,s=e.direction,c=e.spacing,u=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0}),p=u[0],x=u[1];return(0,a.useEffect)(function(){var e=setInterval(function(){var e=new Date,t=new Date(o);if(isNaN(t.getTime())){console.error("Invalid targetDate provided: ",o),x({days:0,hours:0,minutes:0,seconds:0});return}var n=t.getTime()-e.getTime();n>0?x({days:Math.floor(n/864e5),hours:Math.floor(n/36e5%24),minutes:Math.floor(n/6e4%60),seconds:Math.floor(n/1e3%60)}):x({days:0,hours:0,minutes:0,seconds:0})},1e3);return function(){return clearInterval(e)}},[o]),(0,d.jsxs)("div",{style:{color:n,backgroundColor:t,width:"100%",height:"100%",fontSize:r,fontFamily:i,"--spacing":"".concat(void 0===c?20:c,"px")},className:"jsx-3272123691 "+"countdown componentBOX ".concat("vertical"===(void 0===s?"horizontal":s)?"vertical":""),children:[(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:p.days}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"ng\xe0y"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:p.hours}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"giờ"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:p.minutes}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"ph\xfat"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:p.seconds}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"gi\xe2y"})]}),(0,d.jsx)(l(),{id:"3272123691",children:[".countdown.jsx-3272123691{width:100%;margin:0 auto;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:transparent !important;gap:var(--spacing);}",".countdown.jsx-3272123691>div.jsx-3272123691,.countdown.jsx-3272123691{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".countdown.jsx-3272123691>div.jsx-3272123691{width:25%;border-radius:4px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".countdown.jsx-3272123691>div.jsx-3272123691{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".countdown.vertical.jsx-3272123691{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".countdown.vertical.jsx-3272123691>div.jsx-3272123691{width:100% !important;-webkit-flex-direction:row !important;-ms-flex-direction:row !important;flex-direction:row !important;gap:5px !important;}"]})]})};var p=n(95463),x=n(25192),h=n(33536),m=n(96447),f=n(12448),g=n(39229),b=n(82599),j=n(15030),y=n(48371),v=n(69798),w=n(39200),k=n.n(w),N=n(3539);(0,w.registerLocale)("vi",N.vi);var A=function(){var e=(0,i.oB)(function(e){return{selectedTime:e.data.props.selectedTime||new Date}}),t=e.actions.setProp,n=e.selectedTime,r=(0,a.useState)(new Date(n)),o=r[0],s=r[1];return(0,d.jsxs)("div",{className:"jsx-3537816942 flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"jsx-3537816942 text-sm font-medium w-24",children:"Chọn giờ"}),(0,d.jsx)(k(),{className:"custom-datepicker",selected:o,onChange:function(e){(e instanceof Date||null===e)&&(s(e),t(function(t){t.selectedTime=e}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,showTimeCaption:!1,dateFormat:"HH:mm",timeFormat:"HH:mm"}),(0,d.jsx)(l(),{id:"3537816942",children:[".custom-datepicker{border:1px solid #ccc;border-radius:4px;padding:4px 8px;width:100%;font-size:14px;}",".react-datepicker-popper{width:-webkit-max-content;width:-moz-max-content;width:max-content;z-index:1000;}"]})]})},C=n(55882),S=function(){var e=(0,i.oB)(function(e){return{propValue:{color:e.data.props.color,backgroundColor:e.data.props.backgroundColor,themeColor:e.data.props.themeColor}}}),t=e.actions.setProp,n=e.propValue,r=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,d.jsxs)("div",{className:"justify-between my-4 flex flex-col gap-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u chữ"}),(0,d.jsx)(C.V,{value:n.color,onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.color=r(e.rgba):t.color=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u khung"}),(0,d.jsx)(C.V,{value:"transparent"!==n.themeColor?n.themeColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.themeColor=r(e.rgba):t.themeColor=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,d.jsx)(C.V,{value:"transparent"!==n.backgroundColor?n.backgroundColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=r(e.rgba):t.backgroundColor=e.hex})}})]})]})},O=n(80645),T=n(40251),D=function(){var e=(0,i.oB)(function(e){return{spacing:e.data.props.spacing||20}}),t=e.actions.setProp,n=e.spacing,r=function(e){t(function(t){t.spacing=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Khoảng c\xe1ch"}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(O.A,{min:1,max:50,step:1,value:n,onChange:r,style:{width:"70px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(T.A,{min:1,max:50,step:1,value:n,onChange:r})]})},E=function(){var e=(0,i.oB)(function(e){return{direction:e.data.props.direction}}),t=e.actions.setProp,n=e.direction,r=function(e){t(function(t){if(t.direction!==e){var n=t.width;t.width=t.height,t.height=n}t.direction=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Hướng hiển thị"}),(0,d.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("horizontal"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("horizontal")},children:"Ngang"}),(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("vertical"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("vertical")},children:"Dọc"})]})]})},R=n(57279),I=n(33598),P=n(10881),B=n(86961),z=n(21350),_=function(){var e=(0,i.oB)(function(e){return{spacing:e.data.props.spacing||20}}),t=e.actions.setProp,n=e.spacing,r=function(e){t(function(t){t.spacing=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Khoảng c\xe1ch"}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(O.A,{min:1,max:50,step:1,value:n,onChange:r,style:{width:"70px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(T.A,{min:1,max:50,step:1,value:n,onChange:r})]})},F=function(){var e=(0,i.oB)(function(e){return{direction:e.data.props.direction}}),t=e.actions.setProp,n=e.direction,r=function(e){t(function(t){if(t.direction!==e){var n=t.width;t.width=t.height,t.height=n}t.direction=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Hướng hiển thị"}),(0,d.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("horizontal"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("horizontal")},children:"Ngang"}),(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("vertical"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("vertical")},children:"Dọc"})]})]})},L={CUSTOMIZE:"T\xf9y chỉnh lịch",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U={top:10,left:10,width:o.bv.countdownWidth,height:o.bv.countdownHeight,backgroundColor:o.ji.countdownBackground,color:o.ji.countdownText,themeColor:o.ji.countdownTheme,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},fontSize:14,fontFamily:"Arial",selectedDate:new Date,selectedTime:new Date,zIndex:0,locked:!1,direction:"horizontal",spacing:20,transition:g.l},K=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],o=n[1],c=e=H(H({},U),e),l=c.top,p=c.left,x=c.height,h=c.width,m=c.opacity,f=c.backgroundColor,b=c.color,j=c.themeColor,y=c.shadow,v=c.padding,w=c.borderRadius,k=c.rotation,N=c.borderPosition,A=c.borderSize,C=c.borderStyle,S=c.borderColor,O=c.hasShadow,T=c.boxShadow,D=c.fontSize,E=c.fontFamily,P=c.selectedDate,B=c.selectedTime,z=c.zIndex,_=c.locked,F=c.direction,L=c.spacing,M=c.transition,K=(0,i.oB)(function(e){return{active:e.events.selected,id:e.id}}),W=K.connectors.connect,X=K.actions.setProp,G=K.active,Y=K.id,q=(0,i.hG)(function(e){return{enabled:e.options.enabled}}).enabled,V=M||g.l,Q=(0,a.useState)(!1),Z=Q[0],J=Q[1];(0,a.useEffect)(function(){if(G&&q){var e=document.querySelector("#root-page-container");e&&o(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==Y}))}},[G,q,Y]);var $=(0,a.useState)({width:0,height:0,left:0,top:0}),ee=$[0],et=$[1],en=(0,a.useState)(null),er=en[0],ea=en[1];(0,a.useEffect)(function(){if(G&&q){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();et({width:t.width,height:t.height,left:t.left,top:t.top}),ea(e)}}},[G,q]);var ei=function(){switch(N){case"all":return{border:"".concat(A,"px ").concat(C," ").concat(S)};case"top":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S)};case"bottom":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S)};case"right":return{borderRight:"".concat(A,"px ").concat(C," ").concat(S)};case"left":return{borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"top-bottom":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderBottom:"".concat(A,"px ").concat(C," ").concat(S)};case"right-left":return{borderRight:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"upper-left":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"upper-right":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderRight:"".concat(A,"px ").concat(C," ").concat(S)};case"lower-left":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"lower-right":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S),borderRight:"".concat(A,"px ").concat(C," ").concat(S)};default:return{}}}(),eo=(0,R.v)(new Date(P),new Date(B));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{"data-node-id":Y,ref:function(e){e&&(W(e),t.current=e)},style:{position:"absolute",top:"".concat(l,"px"),left:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(x,"px"),zIndex:z,cursor:q?"move":"default",transform:"rotate(".concat(k,"deg)")},children:(0,d.jsx)(I.A,{transition:V,targetRef:t,enabled:q,nodeId:Y,onTransitionStart:function(){J(!0)},onTransitionEnd:function(){J(!1)},children:(0,d.jsx)("div",{style:H(H({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},ei),{},{padding:"".concat(v[0],"px ").concat(v[1],"px ").concat(v[2],"px ").concat(v[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((y||0)/100,")"),opacity:m,backgroundColor:f,borderRadius:"".concat(w[0],"px \n              ").concat(w[1],"px \n              ").concat(w[2],"px \n              ").concat(w[3],"px"),boxShadow:O?"".concat(T.offsetX,"px ").concat(T.offsetY,"px ").concat(T.blur,"px ").concat(T.spread,"px ").concat(T.color):"none"}),children:(0,d.jsx)(u,{themeColor:j,color:b,fontSize:D,fontFamily:E,targetDate:new Date(eo),direction:F,spacing:L})})})}),G&&q&&t.current&&!Z&&(0,d.jsx)(s.A,{target:t.current,container:er,otherElements:r,containerBounds:ee,currentProps:{top:l,left:p,width:h,height:x,rotation:k,flipX:!1,flipY:!1,locked:_},onUpdateProps:function(e){X(function(t){Object.assign(t,e)})}})]})};K.craft={displayName:"CountDown",props:U,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)(b.rk,{defaultOpen:!0,title:"T\xf9y chỉnh lịch",children:[(0,d.jsx)(v.r,{}),(0,d.jsx)(A,{}),(0,d.jsx)(E,{}),(0,d.jsx)(D,{}),(0,d.jsx)(S,{}),(0,d.jsx)(j.H,{}),(0,d.jsx)(y.e,{}),(0,d.jsx)(f.x,{})]}),(0,d.jsxs)(b.rk,{title:"Khoảng đệm",children:[(0,d.jsx)(p.a,{}),(0,d.jsx)(x.d,{})]}),(0,d.jsx)(b.rk,{title:"Đường viền",children:(0,d.jsx)(h.x,{})}),(0,d.jsx)(b.rk,{title:"Đổ b\xf3ng",children:(0,d.jsx)(m.G,{})}),(0,d.jsx)(b.rk,{title:"Hiệu ứng chuyển động",children:(0,d.jsx)(g.i,{})})]})},mobileToolbar:function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(P.A,{icon:(0,d.jsx)(B.u78,{size:20}),label:"T\xf9y chỉnh lịch",onClick:function(){return r(L.CUSTOMIZE)}}),(0,d.jsx)(P.A,{icon:(0,d.jsx)(B.WKR,{size:20}),label:L.PADDING,onClick:function(){return r(L.PADDING)}}),(0,d.jsx)(P.A,{icon:(0,d.jsx)(B.lKm,{size:20}),label:L.BORDER,onClick:function(){return r(L.BORDER)}}),(0,d.jsx)(P.A,{icon:(0,d.jsx)(B.elE,{size:20}),label:L.BOX_SHADOW,onClick:function(){return r(L.BOX_SHADOW)}}),(0,d.jsx)(P.A,{icon:(0,d.jsx)(B.Vt5,{size:20}),label:L.TRANSITION,onClick:function(){return r(L.TRANSITION)}}),(0,d.jsx)(z.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,d.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,d.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,d.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,d.jsx)("div",{className:"setting-content",children:function(){switch(t){case L.CUSTOMIZE:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.r,{}),(0,d.jsx)(A,{}),(0,d.jsx)(F,{}),(0,d.jsx)(_,{}),(0,d.jsx)(S,{}),(0,d.jsx)(j.H,{}),(0,d.jsx)(y.e,{}),(0,d.jsx)(f.x,{})]});case L.PADDING:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.a,{}),(0,d.jsx)(x.d,{})]});case L.BORDER:return(0,d.jsx)(h.x,{});case L.BOX_SHADOW:return(0,d.jsx)(m.G,{});case L.TRANSITION:return(0,d.jsx)(g.i,{});default:return(0,d.jsx)(d.Fragment,{})}}()})})]})})]})}}}},67548:(e,t,n)=>{"use strict";n.d(t,{A:()=>V});var r=n(63857),a=n(42969),i=n(43081),o=n.n(i),s=n(14232),c=n(8561),l=n(73301),d=n(67345),u=n(1440),p=n(83240),x=n(48871),h=n(19793),m=n(40251),f=n(10553),g=n(58371),b=n(81495),j=n(733),y=n(93936),v=n(25385),w=n(26462),k=n(44478),N=n(27925),A=n(90916),C=n(45503),S=n(78972),O=n(29916),T=n(50973),D=n(43672),E=n(56858),R=n(54979),I=n(54587),P=n.n(I),B=n(89099),z=n(40673),_=n(62081),F=n(16825),L=n(34007),M=n(80994),H=n(36423),U=n(37876),K=c.A.Text;let W=function(e){var t,n,a,i,c=e.viewAs,d=(0,B.useRouter)(),x=(0,b.$E)(),h=x.settings,m=x.setTitle,f=x.setThumbnail,g=(0,s.useState)(!1),j=g[0],y=g[1],v=(0,s.useState)(!1),w=v[0],I=v[1],W=(0,s.useState)(!1),X=W[0],G=W[1],Y=(0,s.useState)(null),q=Y[0],V=Y[1],Q=(0,s.useState)([]),Z=Q[0],J=Q[1],$=(0,s.useState)(!1),ee=$[0],et=$[1],en=(0,s.useRef)({}),er=A.A.useForm(),ea=(0,N.A)(er,1)[0],ei=(0,_.x)(function(e){return e.refreshTrigger}),eo=null==(i=d.pathname)?void 0:i.includes("/partner/editor/");(0,s.useEffect)(function(){ea.setFieldsValue({title:h.title||""})},[h.title,ea]);var es=function(){y(!0)},ec=function(){y(!1)},el=(t=(0,r.A)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea.validateFields();case 3:m(e.sent.title),y(!1),l.Ay.success("Đ\xe3 cập nhật c\xe0i đặt trang"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error saving settings:",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return t.apply(this,arguments)}),ed=function(){I(!1)},eu=(n=(0,r.A)(o().mark(function e(t){var n,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=2;break}return e.abrupt("return");case 2:try{n="".concat(q.url,"?").concat(t),r=(0,z.iT)(n),f(r),l.Ay.success("Đ\xe3 cập nhật thumbnail cho trang"),G(!1),V(null)}catch(e){console.error("Error processing cropped image:",e),l.Ay.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh đ\xe3 cắt")}case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),ep=function(e){V(e),G(!0),ed()},ex=(a=(0,r.A)(o().mark(function e(){var t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(et(!0),e.prev=1,!eo){e.next=9;break}return e.next=5,(0,L.w0)();case 5:t=e.sent.map(function(e){return{fileSize:e.fileSize,fileKey:e.fileKey,fileId:e.fileId,createdAt:e.createdAt}}),e.next=18;break;case 9:if(!c){e.next=15;break}return e.next=12,(0,F.Ec)(c);case 12:t=e.sent,e.next=18;break;case 15:return e.next=17,(0,F.bl)();case 17:t=e.sent;case 18:J(eh(t)),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),l.Ay.error("Failed to load photos");case 26:return e.prev=26,et(!1),e.finish(26);case 29:case"end":return e.stop()}},e,null,[[1,22,26,29]])})),function(){return a.apply(this,arguments)}),eh=function(e){return(0,k.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,s.useEffect)(function(){w&&ex()},[ei,w]);var em=(Z.reduce(function(e,t){return e+(t.fileSize||0)},0)/0x40000000).toFixed(4),ef=h.thumbnailKey?(0,z.B)(h.thumbnailKey):"".concat(H.A.CDN_URL,"/images/cinelove-default-thumbnail.jpg"),eg=h.title||"Chưa c\xf3 ti\xeau đề";return(0,U.jsxs)("div",{className:"page-title-thumbnail-setting",children:[(0,U.jsxs)("div",{className:"mb-6",children:[(0,U.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,U.jsx)(K,{strong:!0,className:"text-base",children:"Bản xem trước"}),(0,U.jsx)(p.Ay,{type:"primary",icon:(0,U.jsx)(E.A,{}),onClick:es,size:"small",children:"Chỉnh sửa"})]}),(0,U.jsxs)("div",{className:"border mt-2 border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow",onClick:es,children:[(0,U.jsx)("div",{className:"relative w-full h-auto bg-gray-100",children:(0,U.jsx)("img",{src:ef,alt:"Page thumbnail",className:"object-cover w-full h-full"})}),(0,U.jsx)("div",{className:"p-2",children:(0,U.jsx)(K,{strong:!0,className:"text-lg block mb-1 line-clamp-2",children:eg})})]}),(0,U.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Đ\xe2y l\xe0 c\xe1ch trang của bạn sẽ hiển thị khi được chia sẻ tr\xean Facebook, Zalo, Messenger hoặc c\xe1c mạng x\xe3 hội kh\xe1c."})]}),(0,U.jsx)(C.A,{title:"C\xe0i đặt ti\xeau đề v\xe0 h\xecnh đại diện",open:j,onCancel:ec,footer:[(0,U.jsx)(p.Ay,{onClick:ec,children:"Hủy"},"back"),(0,U.jsx)(p.Ay,{type:"primary",onClick:el,children:"Lưu thay đổi"},"submit")],width:600,children:(0,U.jsxs)(A.A,{form:ea,layout:"vertical",className:"mt-4",children:[(0,U.jsx)(A.A.Item,{name:"title",label:"Ti\xeau đề trang",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề trang"}],children:(0,U.jsx)(S.A,{placeholder:"VD: Cine & Love Wedding",maxLength:100,showCount:!0})}),(0,U.jsx)(A.A.Item,{label:"H\xecnh đại diện",children:(0,U.jsxs)("div",{className:"space-y-3",children:[(0,U.jsxs)("div",{className:"flex items-center justify-center flex-col space-x-3",children:[(0,U.jsx)("div",{className:"h-48 relative border border-gray-200 rounded-md overflow-hidden flex-shrink-0 m-auto",children:(0,U.jsx)("img",{src:ef,alt:"Current thumbnail",className:"object-cover w-full h-full"})}),(0,U.jsx)("div",{className:"flex-1",children:(0,U.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Tỉ lệ khuyến nghị: 16:9"})})]}),(0,U.jsx)(p.Ay,{type:"default",icon:(0,U.jsx)(R.A,{}),onClick:function(){ex(),I(!0)},className:"w-full",children:"Chọn h\xecnh đại diện kh\xe1c"}),(0,U.jsx)("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Ảnh sẽ được cắt theo tỉ lệ được chọn (4:3, 16:9, 3:2) để tối ưu hiển thị"})]})})]})}),(0,U.jsx)(C.A,{title:(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{children:"Chọn h\xecnh đại diện"}),(0,U.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Sau khi chọn, ảnh sẽ được cắt theo tỉ lệ mong muốn (4:3, 16:9, 3:2)"})]}),open:w,onCancel:ed,footer:[(0,U.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Tổng ",Z.length," ảnh (",em," GB)"]},"info"),(0,U.jsx)(p.Ay,{onClick:ed,children:"Hủy"},"back")],width:600,styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:ee?(0,U.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,U.jsx)(u.A,{tip:"Đang tải..."})}):0===Z.length?(0,U.jsx)(O.A,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,U.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,U.jsx)(T.A,{gutter:[16,16],style:{marginBottom:"16px"},children:Z.map(function(e){return(0,U.jsx)(D.A,{xs:12,sm:8,md:6,lg:6,xl:6,children:(0,U.jsx)("div",{className:"user-upload-item cursor-pointer",onClick:function(){return ep({fileKey:e.fileKey,url:(0,z.T_)(e.fileKey)})},children:(0,U.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 hover:scale-[1.02]",children:(0,U.jsx)(P(),{unoptimized:!0,src:(0,z.Rw)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){t&&(en.current[e.fileId]=t)}})})})},e.fileId)})})})}),q&&(0,U.jsx)(M.A,{visible:X,imageSrc:q.url,onComplete:eu,onCancel:function(){G(!1),V(null)}})]})};var X=n(43340);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=c.A.Text;let V=function(e){var t,n,i,c,k,N,A,C,S=e.onChange,O=e.viewAs,T=(0,b.$E)(),D=T.settings,E=T.setShowBottomToolbar,R=T.setStatus,I=T.setQRBankAccounts,P=T.setHideWatermark,B=T.setCategoryId,z=T.setBottomToolbarComponent,_=T.setShowInGallery,F=T.setAutoScroll,L=(0,f.useSession)().data,M=(null==L||null==(n=L.user)?void 0:n.plan)||"free",K=(null==L||null==(i=L.user)?void 0:i.role)==="partner",G=(0,j.bi)().pageData,V=(0,s.useState)([]),Q=V[0],Z=V[1];(0,s.useEffect)(function(){D.qrBankAccounts&&Z(D.qrBankAccounts.map(function(e){return Y(Y({},e),{},{id:e.id||Date.now().toString()})}))},[D.qrBankAccounts]);var J=function(e,t){if("free"===M){if("showBottomToolbar"===e&&!0!==t)return void l.Ay.warning("T\xf9y chỉnh thanh c\xf4ng cụ dưới chỉ d\xe0nh cho g\xf3i Basic+");if("hideWatermark"===e&&!0===t)return void l.Ay.warning("X\xf3a watermark chỉ d\xe0nh cho g\xf3i Basic+");if("qrBankAccounts"===e&&t&&t.length>0)return void l.Ay.warning("T\xednh năng QR Bank chỉ d\xe0nh cho g\xf3i Basic+");if("autoScroll"===e)return void l.Ay.warning("T\xf9y chỉnh tự động cuộn chỉ d\xe0nh cho g\xf3i Basic+")}var n=Y({},D);"showBottomToolbar"===e?E((n="boolean"==typeof t?Y(Y({},D),{},{showBottomToolbar:{enabled:t,components:{comments:t,gifts:t,likes:t,qrCode:t}}}):Y(Y({},D),{},(0,a.A)({},e,t))).showBottomToolbar):(n=Y(Y({},D),{},(0,a.A)({},e,t)),"status"===e?R(t):"qrBankAccounts"===e?I(t):"hideWatermark"===e?P(t):"categoryId"===e?B(t):"showInGallery"===e?_(t):"autoScroll"===e&&F(t)),S&&S(n)},$=function(e,t){z(e,t);var n=(0,y.S1)(D.showBottomToolbar),r=Y(Y({},D),{},{showBottomToolbar:Y(Y({},n),{},{components:Y(Y({},n.components),{},(0,a.A)({},e,t))})});S&&S(r)},ee=(0,s.useState)([]),et=ee[0],en=ee[1],er=(0,s.useState)(!1),ea=er[0],ei=er[1];(0,s.useEffect)(function(){eo()},[]);var eo=(t=(0,r.A)(o().mark(function e(){var t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ei(!0),e.prev=1,e.next=4,(0,v.QU)();case 4:(t=e.sent).success?en(t.categories):l.Ay.error("Kh\xf4ng thể tải danh s\xe1ch danh mục"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching categories:",e.t0),l.Ay.error("C\xf3 lỗi xảy ra khi tải danh s\xe1ch danh mục");case 12:return e.prev=12,ei(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])})),function(){return t.apply(this,arguments)});return(0,U.jsx)("div",{className:"page-setting",children:(0,U.jsxs)(d.A,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(q,{strong:!0,children:"Danh mục"})," ",(0,U.jsx)("span",{className:"text-red-500",children:"*"}),(0,U.jsxs)("div",{style:{position:"relative",marginTop:"8px"},children:[(0,U.jsxs)("select",{disabled:ea,style:{width:"100%",padding:"4px 8px",borderRadius:"4px",border:"1px solid #d9d9d9",fontSize:"14px",backgroundColor:ea?"#f5f5f5":"white",color:"#333",cursor:ea?"not-allowed":"pointer"},value:D.categoryId||"",onChange:function(e){return J("categoryId",e.target.value)},children:[(0,U.jsx)("option",{value:"",children:"Chọn danh mục"}),et.map(function(e){return(0,U.jsx)("option",{value:e.id,children:e.name},e.id)})]}),ea&&(0,U.jsx)("div",{style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:(0,U.jsx)(u.A,{size:"small"})})]})]}),(0,U.jsxs)("div",{children:[(0,U.jsx)(q,{strong:!0,children:"Trạng th\xe1i"}),(0,U.jsxs)("select",{value:D.status||"published",onChange:function(e){return J("status",e.target.value)},style:{width:"100%",marginTop:"8px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #d9d9d9",fontSize:"14px",backgroundColor:"white",color:"#333",cursor:"pointer"},children:[(0,U.jsx)("option",{value:"draft",children:"Nh\xe1p"}),(0,U.jsx)("option",{value:"published",children:"C\xf4ng khai"})]}),(0,U.jsx)("div",{className:"text-xs mt-1 block text-gray-500",children:'Chỉ khi ở trạng th\xe1i "C\xf4ng khai", trang mới c\xf3 thể xem được từ URL của trang.'})]}),(0,U.jsx)(W,{viewAs:O}),"free"===M?(0,U.jsxs)("div",{className:"border border-blue-200 rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50",children:[(0,U.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,U.jsxs)("div",{className:"flex items-center",children:[(0,U.jsxs)(q,{strong:!0,className:"text-lg",children:["T\xednh năng n\xe2ng cao"," ",(0,U.jsx)(g.A,{style:{color:"#1677ff",fontSize:"18px",marginLeft:"6px"}})]}),(0,U.jsx)("div",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium ml-3",children:"Basic+"})]})}),(0,U.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"N\xe2ng cấp l\xean g\xf3i Basic+ để sử dụng c\xe1c t\xednh năng cao cấp sau:"}),(0,U.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,U.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,U.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,U.jsxs)("div",{className:"flex-1",children:[(0,U.jsx)(q,{strong:!0,className:"text-base",children:"X\xf3a watermark"}),(0,U.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:'X\xf3a d\xf2ng "Made with Cinelove" để tạo trang web ho\xe0n to\xe0n ri\xeang tư'}),(0,U.jsxs)("div",{className:"mt-2 text-sm text-gray-500 italic",children:['"Made with',(0,U.jsx)("a",{href:"https://cinelove.me",target:"_blank",className:"ml-1 font-semibold",children:"Cinelove"}),'"']})]})]}),(0,U.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,U.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,U.jsxs)("div",{className:"flex-1",children:[(0,U.jsx)(q,{strong:!0,className:"text-base",children:"T\xf9y chỉnh thanh c\xf4ng cụ dưới"}),(0,U.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Bật/tắt hiển thị thanh c\xf4ng cụ (lời ch\xfac, tặng qu\xe0, th\xedch...)"}),(0,U.jsx)("div",{className:"mt-2 border border-gray-200 rounded-md overflow-hidden opacity-60",children:(0,U.jsx)("img",{src:"".concat(H.A.CDN_URL,"/images/bottomToolbar.png"),alt:"Thanh c\xf4ng cụ dưới",className:"w-full object-cover",style:{maxHeight:"50px"}})})]})]}),(0,U.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,U.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,U.jsxs)("div",{className:"flex-1",children:[(0,U.jsx)(q,{strong:!0,className:"text-base",children:"QR Bank"}),(0,U.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng để kh\xe1ch mời c\xf3 thể chuyển khoản trực tiếp"})]})]}),(0,U.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,U.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,U.jsxs)("div",{className:"flex-1",children:[(0,U.jsx)(q,{strong:!0,className:"text-base",children:"T\xf9y chỉnh tự động cuộn"}),(0,U.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Bật/tắt tự động cuộn v\xe0 điều chỉnh tốc độ cuộn của trang"})]})]})]}),(0,U.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2",children:[(0,U.jsxs)(q,{type:"secondary",className:"text-xs",children:["G\xf3i hiện tại:"," ",(0,U.jsx)("span",{className:"font-semibold",children:M.toUpperCase()})]}),(0,U.jsx)(p.Ay,{type:"primary",size:"large",onClick:function(){window.open("/pricing-plans?upgradeSource=advanced-features-page-setting","_blank")},className:"h-10",children:"N\xe2ng cấp l\xean Basic+"})]})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{children:[(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)(q,{strong:!0,style:{position:"relative"},children:["X\xf3a watermark"," ",(0,U.jsx)(g.A,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,U.jsx)(x.A,{size:"small",checked:null!=(c=D.hideWatermark)&&c,onChange:function(e){return J("hideWatermark",e)}})]}),(0,U.jsxs)("div",{className:"mt-2 text-sm text-gray-600",style:{opacity:D.hideWatermark?.4:1,pointerEvents:D.hideWatermark?"none":"auto"},children:['"Made with',(0,U.jsx)("a",{href:"https://cinelove.me",className:"ml-1 font-semibold",children:"Cinelove"}),'"']})]}),(0,U.jsxs)("div",{children:[(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)(q,{strong:!0,style:{position:"relative"},children:["Hiển thị thanh c\xf4ng cụ"," ",(0,U.jsx)(g.A,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,U.jsx)(x.A,{size:"small",checked:(0,y.QU)(D.showBottomToolbar),onChange:function(e){return J("showBottomToolbar",e)}})]}),(0,U.jsx)("div",{className:"text-sm mt-1 block text-gray-500",children:"Bao gồm phần gửi lời ch\xfac, tặng qu\xe0, th\xedch,..."}),(0,U.jsx)("div",{className:"mt-2 border border-gray-200 rounded-md overflow-hidden",children:(0,U.jsx)("img",{src:"".concat(H.A.CDN_URL,"/images/bottomToolbar.png"),alt:"Thanh c\xf4ng cụ dưới",className:"w-full object-cover",style:{maxHeight:"60px"}})}),(0,y.QU)(D.showBottomToolbar)&&(0,U.jsx)(h.A,{size:"small",className:"mt-4",items:[{key:"1",label:(0,U.jsx)("div",{className:"font-semibold",children:"T\xf9y chọn thanh c\xf4ng cụ"}),children:(0,U.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,U.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full ".concat((0,y.PV)(D.showBottomToolbar,b.fu.COMMENTS)?"":"opacity-50")}),(0,U.jsx)("div",{className:(0,y.PV)(D.showBottomToolbar,b.fu.COMMENTS)?"":"opacity-50",children:"Lời ch\xfac"})]}),(0,U.jsx)(x.A,{size:"small",checked:(0,y.PV)(D.showBottomToolbar,b.fu.COMMENTS),onChange:function(e){return $(b.fu.COMMENTS,e)}})]}),(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,U.jsx)("div",{className:"w-3 h-3 bg-pink-500 rounded-full ".concat((0,y.PV)(D.showBottomToolbar,b.fu.GIFTS)?"":"opacity-50")}),(0,U.jsx)("div",{className:(0,y.PV)(D.showBottomToolbar,b.fu.GIFTS)?"":"opacity-50",children:"Tặng qu\xe0"})]}),(0,U.jsx)(x.A,{size:"small",checked:(0,y.PV)(D.showBottomToolbar,b.fu.GIFTS),onChange:function(e){return $(b.fu.GIFTS,e)}})]}),(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,U.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full ".concat((0,y.PV)(D.showBottomToolbar,b.fu.LIKES)?"":"opacity-50")}),(0,U.jsx)("div",{className:(0,y.PV)(D.showBottomToolbar,b.fu.LIKES)?"":"opacity-50",children:"Th\xedch"})]}),(0,U.jsx)(x.A,{size:"small",checked:(0,y.PV)(D.showBottomToolbar,b.fu.LIKES),onChange:function(e){return $(b.fu.LIKES,e)}})]}),(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,U.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full ".concat((0,y.PV)(D.showBottomToolbar,b.fu.QR_CODE)?"":"opacity-50")}),(0,U.jsx)("div",{className:(0,y.PV)(D.showBottomToolbar,b.fu.QR_CODE)?"":"opacity-50",children:"QR Bank"})]}),(0,U.jsx)(x.A,{size:"small",checked:(0,y.PV)(D.showBottomToolbar,b.fu.QR_CODE),onChange:function(e){return $(b.fu.QR_CODE,e)}})]}),(0,U.jsx)("div",{className:"text-sm mt-2 block text-gray-500",children:"Chọn c\xe1c phần muốn hiển thị trong thanh c\xf4ng cụ"})]})}]})]}),(0,y.QU)(D.showBottomToolbar)&&(0,y.PV)(D.showBottomToolbar,b.fu.QR_CODE)&&(0,U.jsx)(X.A,{qrBankAccounts:Q,onAccountsChange:function(e){Z(e),J("qrBankAccounts",e)},userPlan:M,disabled:!1}),(0,U.jsxs)("div",{children:[(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)(q,{strong:!0,style:{position:"relative"},children:["Tự động cuộn"," ",(0,U.jsx)(g.A,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,U.jsx)(x.A,{checked:null==(k=null==(N=D.autoScroll)?void 0:N.enabled)||k,size:"small",onChange:function(e){var t,n;return J("autoScroll",{enabled:e,speed:null!=(t=null==(n=D.autoScroll)?void 0:n.speed)?t:.06})}})]}),(0,U.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Trang sẽ tự động cuộn từ đầu đến cuối. Khi chạm v\xe0o m\xe0n h\xecnh sẽ dừng v\xe0 hiện n\xfat play để tiếp tục cuộn."}),(null==(A=D.autoScroll)?void 0:A.enabled)&&(0,U.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,U.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,U.jsx)(q,{className:"text-sm font-medium",children:"Tốc độ cuộn"}),(0,U.jsxs)(q,{className:"text-xs text-gray-500",children:[D.autoScroll.speed.toFixed(2)," px/ms"]})]}),(0,U.jsx)("div",{className:"px-2",children:(0,U.jsx)(m.A,{min:.02,max:.2,step:.01,value:D.autoScroll.speed,onChange:function(e){return J("autoScroll",{enabled:D.autoScroll.enabled,speed:e})},marks:{.02:{style:{fontSize:"11px",whiteSpace:"nowrap"},label:"Chậm"},.2:{style:{fontSize:"11px",whiteSpace:"nowrap"},label:"Nhanh"}},tooltip:{formatter:function(e){return"".concat(null==e?void 0:e.toFixed(2)," px/ms")}}})}),(0,U.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Điều chỉnh tốc độ cuộn tự động của trang"})]})]})]}),(null==G?void 0:G.createdAt)&&(null==G?void 0:G.expirationDate)&&!K&&(0,U.jsxs)("div",{className:"mt-4",children:[(0,U.jsx)(q,{strong:!0,children:"Thời hạn trang"}),(0,U.jsx)(w.Z,{pageData:{createdAt:G.createdAt,expirationDate:G.expirationDate},userPlan:(null==L||null==(C=L.user)?void 0:C.plan)||"free",showPlanInfo:!1,className:"bg-white p-4 rounded-lg border"})]}),(0,U.jsx)("div",{children:(0,U.jsxs)("div",{className:"flex items-center justify-between",children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(q,{strong:!0,children:"Thư viện thiệp"}),(0,U.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cho ph\xe9p trang n\xe0y c\xf3 thể xuất hiện trong thư viện thiệp mẫu của CineLove để người d\xf9ng kh\xe1c c\xf3 thể xem v\xe0 chi\xeam ngưỡng."}),(0,U.jsx)("div",{className:"text-xs text-gray-500 mt-2 bg-gray-50 p-2 rounded border-l-4 border-gray-200",children:"Khi hiển thị trong thư viện, link sẽ được m\xe3 h\xf3a v\xe0 chỉ cho ph\xe9p xem, kh\xf4ng thể thao t\xe1c trực tiếp với thiệp."})]}),(0,U.jsx)(x.A,{checked:D.showInGallery,size:"small",onChange:function(e){return J("showInGallery",e)}})]})})]})})}},67708:(e,t,n)=>{"use strict";n.d(t,{L:()=>h});var r=n(14232),a=n(66125),i=n(73301),o=n(78972),s=n(80878),c=n(83240),l=n(90666),d=n(38365),u=n(28491),p=n(10553),x=n(37876),h=function(){var e,t,n=(0,p.useSession)().data,h=(0,a.oB)(function(e){return{hyperlink:e.data.props.hyperlink||""}}),m=h.actions.setProp,f=h.hyperlink,g=(null==n||null==(e=n.user)?void 0:e.role)==="partner",b=(0,r.useState)(f),j=b[0],y=b[1],v=(0,r.useState)(!0),w=v[0],k=v[1];(0,r.useEffect)(function(){y(f)},[f]);var N=function(e){if(!e.trim())return!0;try{var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}},A=(null==n||null==(t=n.user)?void 0:t.plan)==="free"&&!g,C=!j.trim(),S=j!==f;return(0,x.jsxs)("div",{className:"space-y-3",children:[A&&(0,x.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,x.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,x.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng n\xe2ng cao:"})," Th\xeam hyperlink chỉ d\xe0nh cho g\xf3i Basic trở l\xean.",(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=hyperlink-setting","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(l.A,{className:"text-blue-500"}),(0,x.jsx)("label",{className:"text-sm font-medium ".concat(A?"text-gray-500":""),children:"Hyperlink (T\xf9y chọn)"})]}),(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsx)(o.A,{placeholder:"https://example.com",value:j,onChange:function(e){if(!A){var t=e.target.value;y(t),k(N(t))}},status:w?"":"error",prefix:(0,x.jsx)(l.A,{}),disabled:A,suffix:!C&&!A&&(0,x.jsx)(s.A,{title:"X\xf3a link",children:(0,x.jsx)(c.Ay,{type:"text",size:"small",icon:(0,x.jsx)(d.A,{}),onClick:function(){A||(y(""),k(!0),m(function(e){e.hyperlink=""}),i.Ay.success("Đ\xe3 x\xf3a hyperlink"))},className:"text-red-500 hover:text-red-700"})})}),!w&&(0,x.jsx)("div",{className:"text-xs text-red-500",children:"URL kh\xf4ng hợp lệ. Vui l\xf2ng nhập URL bắt đầu bằng http:// hoặc https://"}),w&&j.trim()&&(0,x.jsx)("div",{className:"text-xs text-gray-500",children:"Link sẽ mở trong tab mới khi click"})]}),(0,x.jsxs)("div",{className:"flex gap-2",children:[S&&!A&&(0,x.jsx)(c.Ay,{type:"primary",size:"small",onClick:function(){return A?void i.Ay.warning("T\xednh năng hyperlink chỉ d\xe0nh cho g\xf3i Basic trở l\xean"):w?void(m(function(e){e.hyperlink=j.trim()}),i.Ay.success("Đ\xe3 cập nhật hyperlink")):void i.Ay.error("Vui l\xf2ng nhập URL hợp lệ (bắt đầu bằng http:// hoặc https://)")},disabled:!w,children:"Lưu"}),f&&w&&!A&&(0,x.jsx)(c.Ay,{type:"default",size:"small",icon:(0,x.jsx)(u.A,{}),onClick:function(){f&&w&&window.open(f,"_blank")},children:"Kiểm tra"})]})]})}},68823:(e,t,n)=>{"use strict";n.d(t,{O:()=>ew});var r,a=n(32228),i=n(27002),o=n.n(i),s=n(80878),c=n(39385),l=n(14232),d=n(1469),u=n(48365),p=n(77750),x=n(21649),h=n(47139),m=n(62436),f=n(62542),g=n(80427),b=n(66125),j=n(24170),y=n(69486);let v={src:"/_next/static/media/close-tab-btn.d117f28e.png"};var w=n(71255),k=n(34664),N=n(8286),A=n(8872),C=n(63857),S=n(44478),O=n(43081),T=n.n(O),D=n(73301),E=n(45503),R=n(40108),I=n(42969),P=n(74322),B=n(1440),z=n(51695),_=n(50679),F=n(83587),L=n(90769),M=n(37876);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){(0,I.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K=P.A.Dragger;let W=function(e){var t,n,r,a=e.onUploadSuccess,i=e.userPhotosCount,o=void 0===i?0:i,s=e.userInfo,c=(0,l.useState)(!1),d=c[0],u=c[1],p=(0,l.useState)([]),x=p[0],h=p[1],m=(0,L.RL)(s.plan),f=Math.max(0,m.maxImages-o),g=o<m.maxImages;(0,l.useEffect)(function(){if(x.length>0&&!d){var e=setTimeout(function(){h([])},2e3);return function(){return clearTimeout(e)}}},[x,d]);var b={name:"file",multiple:!0,maxCount:15,fileList:x,beforeUpload:(t=(0,C.A)(T().mark(function e(t,n){var r,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>15)){e.next=3;break}return D.Ay.error("Bạn chỉ c\xf3 thể tải l\xean tối đa 15 file c\xf9ng một l\xfac"),e.abrupt("return",!1);case 3:if(!(n.length>f)){e.next=6;break}return D.Ay.error("Kh\xf4ng thể tải l\xean. User n\xe0y chỉ c\xf3 thể tải l\xean th\xeam ".concat(f," ảnh nữa theo g\xf3i ").concat(s.plan)),e.abrupt("return",!1);case 6:if(!(t.size>1048576)){e.next=20;break}return e.prev=8,r={maxSizeMB:5,maxWidthOrHeight:2048,useWebWorker:!0},e.next=12,(0,F.A)(t,r);case 12:return a=e.sent,e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(8),D.Ay.error("Lỗi khi n\xe9n ảnh tối đa 5MB ".concat(t.name)),e.abrupt("return",!1);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}),customRequest:(n=(0,C.A)(T().mark(function e(t){var n,r,a,i,o,c,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.onSuccess,a=t.onError,i=t.onProgress,(o=new FormData).append("file",n),e.prev=3,c="/file-upload/upload-as-user/".concat(s.userId),e.next=7,z.A.post(c,o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.total){var t=Math.floor(e.loaded/e.total*100);null==i||i({percent:t})}}});case 7:l=e.sent,null==r||r(l.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),null==a||a(e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])})),function(e){return n.apply(this,arguments)}),onChange:function(e){var t=e.file.status;if(e.fileList.length>f)return void u(!1);h(e.fileList),"done"===t?(D.Ay.success("Tải l\xean ".concat(e.file.name," th\xe0nh c\xf4ng.")),a()):"error"===t&&D.Ay.error("Tải l\xean ".concat(e.file.name," thất bại."))},onDrop:(r=(0,C.A)(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g){e.next=4;break}return D.Ay.error("User n\xe0y đ\xe3 đạt giới hạn g\xf3i ".concat(s.plan)),e.abrupt("return");case 4:u(!0);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})};return(0,M.jsx)("div",{children:(0,M.jsxs)(K,U(U({disabled:d||!g},b),{},{children:[(0,M.jsx)("span",{className:"bg-gray-200 text-blue-600 text-sm px-2 py-0.5 rounded-full capitalize absolute top-2 right-2",children:s.plan}),(0,M.jsxs)("span",{className:"bg-orange-100 text-orange-600 text-xs px-2 py-0.5 rounded-full capitalize absolute top-2 left-2",children:["As: ",s.name]}),(0,M.jsxs)(B.A,{tip:"Đang xử l\xfd file...",spinning:d,children:[(0,M.jsx)("p",{className:"mb-2",children:(0,M.jsx)(_.BzO,{size:38,className:"m-auto text-primary"})}),g?(0,M.jsx)("p",{className:"text-xs text-gray-500 ".concat(d?"invisible":""),children:"K\xe9o thả hoặc nhấn v\xe0o đ\xe2y để tải l\xean file. C\xf3 thể tải l\xean tối đa 15 ảnh c\xf9ng một l\xfac."}):(0,M.jsxs)("p",{className:"text-xs text-orange-600 font-medium",children:["User n\xe0y đ\xe3 đạt giới hạn g\xf3i ",s.plan.toUpperCase()]}),(0,M.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:[(0,M.jsxs)("span",{children:["Đ\xe3 tải:"," ",(0,M.jsxs)("span",{className:"font-medium text-gray-600",children:[o,"/",m.maxImages]})]}),(0,M.jsx)("span",{className:"mx-2",children:"•"}),(0,M.jsxs)("span",{children:["C\xf2n lại:"," ",(0,M.jsx)("span",{className:"font-medium ".concat(f>0?"text-blue-600":"text-orange-600"),children:f})]}),(0,M.jsx)("span",{className:"mx-2",children:"•"}),(0,M.jsxs)("span",{children:["Plan: ",s.plan.toUpperCase()]})]})]})]}))})};var X=n(54587),G=n.n(X),Y=n(90579),q=n(22705),V=n(62081),Q=n(40673),Z=n(16825);let J=function(e){var t,n=e.isMobile,r=e.onClose,a=e.userInfo,i=(0,l.useState)([]),o=i[0],s=i[1],c=(0,l.useState)(!1),d=c[0],u=c[1],p=(0,m.wL)(),x=p.isReplacing,f=p.replaceType,g=p.selectedNodeId,j=(0,m.c3)().setActiveKey,v=(0,b.hG)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),w=v.connectors.create,k=v.actions,N=v.query,A=v.currentlySelectedNodeId,O=(0,l.useRef)({}),I=(0,l.useRef)(0),P=(0,l.useRef)(0),B=(0,V.x)(function(e){return e.refreshTrigger}),z=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width));I.current=Math.round(Math.min(Math.max(a,0),n.height)),P.current=i}},_=function(e,t){if(x&&"photo"===f&&null!==g&&g===A){var a=N.node(g).get().data.props.width,i=a,o=O.current[t];if(o){var s=o.naturalWidth;i=o.naturalHeight/s*a}k.setProp(g,function(t){t.imgKey=e,t.width=a,t.height=i}),m.wL.getState().setReplacing(!1),m.wL.getState().setReplaceType(null),m.wL.getState().setSelectedNodeId(null),n&&r&&r(),j(null);return}var c=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(c&&d){var u=d.scrollTop,p=c.getBoundingClientRect().width,h=100,b=100,v=O.current[t];if(v){var w=v.naturalWidth,C=v.naturalHeight,T=(0,q.P)(y.QL,w,C),D=T.scaleWidth,E=T.scaleHeight;h=D,b=E}var R=N.node("ROOT").get().data.nodes||[],I=0;R.length>0&&(I=Math.max.apply(Math,(0,S.A)(R.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var P=N.createNode(l.createElement(Y.U,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(p/2-h/2),width:h,height:b,imgKey:e,zIndex:0==I?0:I+1}));k.add(P,"ROOT"),k.selectNode(P.id),n&&r&&r()}},F=(0,l.useCallback)((0,C.A)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,(0,Z.Ec)(a.userId);case 4:s(L(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),D.Ay.error("Failed to load photos");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),[a.userId]),L=function(e){return(0,S.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){F()},[B,a.userId,F]);var H=(o.reduce(function(e,t){return e+t.fileSize},0)/0x40000000).toFixed(4),U=(t=(0,C.A)(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E.A.confirm({title:"X\xf3a ảnh",content:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?",okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,C.A)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Z.XB)(t,a.userId);case 3:D.Ay.success("Photo deleted successfully"),F(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),D.Ay.error("Failed to delete photo");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"",children:[(0,M.jsx)("div",{className:"p-3 bg-orange-50 border-l-4 border-orange-400 mb-2",children:(0,M.jsx)("div",{className:"flex items-center justify-between",children:(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)("span",{className:"text-orange-700 text-sm font-medium",children:"\uD83D\uDD04 Đang chỉnh sửa với tư c\xe1ch:"}),(0,M.jsx)("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full font-medium",children:a.plan.toUpperCase()})]}),(0,M.jsx)("div",{className:"mt-1 text-sm text-orange-600",children:a.name})]})})}),(0,M.jsx)("div",{className:"p-3",children:(0,M.jsx)(W,{onUploadSuccess:F,userPhotosCount:o.length,userInfo:a})}),x&&(0,M.jsx)(R.A,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)("h4",{className:"px-3 mb-2",children:"Tệp đ\xe3 tải l\xean"}),(0,M.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",o.length," tệp (",H," GB / 5GB)"]}),(0,M.jsx)("div",{className:"upload-list",children:(0,M.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:n?"calc(60vh - 300px)":"calc(100vh - 350px)",minHeight:"300px",maxHeight:"calc(100vh - 350px)",overflow:"auto",paddingBottom:"100px"},children:(0,M.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:d?Array(6).fill(null).map(function(e,t){return(0,M.jsx)("div",{className:"aspect-square animate-pulse",children:(0,M.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):o.map(function(e,t){return(0,M.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){t&&w(t,(0,M.jsx)(Y.U,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=O.current[e.fileId];if(a){var i=a.naturalWidth,o=a.naturalHeight,s=(0,q.P)(y.QL,i,o),c=s.scaleWidth,l=s.scaleHeight;n=c,r=l}var d=N.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,S.A)(d.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var p=Object.keys(t.nodes)[0];k.setProp(p,function(e){e.top=I.current||0,e.left=P.current||0,e.width=n,e.height=r,e.zIndex=0==u?0:u+1})}})},draggable:!0,onClick:function(){return _(e.fileKey,e.fileId)},onDrag:z,children:(0,M.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,M.jsx)(G(),{unoptimized:!0,src:(0,Q.$W)(e.fileKey,200),alt:"User photo ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){t&&(O.current[e.fileId]=t)}}),(0,M.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,M.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,M.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),U(e.fileId)},title:"Delete photo",children:(0,M.jsx)(h.jzL,{className:"w-3 h-3"})})})})]})},e.fileId)})})})})]})]})})};var $=n(98594),ee=[{key:"facebook",icon:"logos:facebook",label:"Hỗ trợ qua Facebook/Messenger",link:"https://facebook.com/cinelove.me"},{key:"feedback",icon:"solar:clipboard-list-broken",label:"B\xe1o lỗi hệ thống/Đ\xf3ng g\xf3p \xfd kiến",link:"/dashboard/feedback"}];let et=function(){var e=(0,l.useState)(!1),t=e[0],n=e[1],r=function(e){window.open(e.link,"_blank"),n(!1)};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(s.A,{title:"Bạn cần hỗ trợ? H\xe3y li\xean hệ với ch\xfang t\xf4i",placement:"top",color:"white",styles:{body:{backgroundColor:"#fff",color:"#000",borderRadius:"8px",padding:"8px",fontSize:"14px"}},children:(0,M.jsxs)("div",{className:"bottom-button absolute bottom-0 left-0 flex flex-col items-center justify-center gap-1 py-2 border-t border-gray-200 hover:text-gray-600 group cursor-pointer",onClick:function(){return n(!0)},children:[(0,M.jsx)($.In,{icon:"solar:help-broken",className:"text-ld mb-1 cursor-pointer group-hover:text-gray-600 transition",height:24}),(0,M.jsx)("span",{className:"text-link text-xs caption font-medium group-hover:text-gray-600 transition",children:"Hỗ trợ"})]})}),(0,M.jsx)(E.A,{title:"Chọn h\xecnh thức hỗ trợ",open:t,onCancel:function(){return n(!1)},footer:null,width:400,children:(0,M.jsx)("div",{className:"flex flex-col gap-4 py-4",children:ee.map(function(e){return(0,M.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition",onClick:function(){return r(e)},children:[(0,M.jsx)($.In,{icon:e.icon,height:24}),(0,M.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.key)})})})]})};var en=n(10553),er=n(27925);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,I.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eo=P.A.Dragger;let es=function(e){var t,n,r,a,i,o=e.onUploadSuccess,s=e.templateId,c=(0,l.useState)(!1),d=c[0],u=c[1],p=(0,l.useState)([]),x=p[0],h=p[1],m=(0,en.useSession)().data;(null==m||null==(a=m.user)?void 0:a.role)==="admin"||null==m||null==(i=m.user)||i.role,(0,l.useEffect)(function(){if(x.length>0&&!d){var e=setTimeout(function(){h([])},2e3);return function(){return clearTimeout(e)}}},[x,d]);var f={name:"file",multiple:!0,maxCount:15,fileList:x,beforeUpload:(t=(0,C.A)(T().mark(function e(t,n){var r,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>15)){e.next=3;break}return D.Ay.error("Bạn chỉ c\xf3 thể tải l\xean tối đa 15 file c\xf9ng một l\xfac"),e.abrupt("return",!1);case 3:if(!(t.size>1048576)){e.next=17;break}return e.prev=5,r={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.next=9,(0,F.A)(t,r);case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(5),D.Ay.error("Lỗi khi n\xe9n ảnh tối đa 1MB ".concat(t.name)),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[5,13]])})),function(e,n){return t.apply(this,arguments)}),customRequest:(n=(0,C.A)(T().mark(function e(t){var n,r,a,i,o,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.onSuccess,a=t.onError,i=t.onProgress,(o=new FormData).append("file",n),s&&o.append("templateId",s),e.prev=4,e.next=7,z.A.post("/admin/file-upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.total){var t=Math.floor(e.loaded/e.total*100);null==i||i({percent:t})}}});case 7:c=e.sent,null==r||r(c.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),null==a||a(e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[4,11,14,17]])})),function(e){return n.apply(this,arguments)}),onChange:function(e){var t=e.file.status;h(e.fileList),"done"===t?(D.Ay.success("Tải l\xean ".concat(e.file.name," th\xe0nh c\xf4ng.")),o()):"error"===t&&D.Ay.error("Tải l\xean ".concat(e.file.name," thất bại."))},onDrop:(r=(0,C.A)(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(!0);case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})};return(0,M.jsx)("div",{children:(0,M.jsxs)(eo,ei(ei({disabled:d||!1},f),{},{children:[(0,M.jsx)("div",{className:"absolute top-2 left-2 flex gap-1 z-50",children:(0,M.jsx)("span",{className:"bg-gray-200 text-blue-600 text-sm px-2 py-0.5 rounded-full capitalize",children:"Admin"})}),(0,M.jsxs)(B.A,{tip:"Đang xử l\xfd file...",spinning:d,children:[(0,M.jsx)("p",{className:"mb-2",children:(0,M.jsx)(_.BzO,{size:38,className:"m-auto text-primary"})}),(0,M.jsx)("p",{className:"text-xs text-gray-500 ".concat(d?"invisible":""),children:"K\xe9o thả hoặc nhấn v\xe0o đ\xe2y để tải l\xean file. C\xf3 thể tải l\xean tối đa 15 ảnh c\xf9ng một l\xfac."})]})]}))})};var ec=n(14658),el=n(16104),ed=n(31452);let eu=function(e){var t,n,r=e.isMobile,a=e.onClose,i=(0,el.h)(),o=(0,ed.k)().settings.title,s=(0,l.useState)("template"),c=s[0],d=s[1],u=(0,l.useState)([]),p=u[0],x=u[1],f=(0,l.useState)(!1),g=f[0],j=f[1],v=(0,m.wL)(),w=v.isReplacing,k=v.replaceType,N=v.selectedNodeId,A=(0,m.c3)().setActiveKey,O=(0,b.hG)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),I=O.connectors.create,P=O.actions,B=O.query,z=O.currentlySelectedNodeId,_=(0,l.useRef)({}),F=(0,l.useRef)(0),L=(0,l.useRef)(0),H=(0,V.x)(function(e){return e.refreshTrigger}),U=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width));F.current=Math.round(Math.min(Math.max(a,0),n.height)),L.current=i}},K=function(e,t){if(w&&"photo"===k&&null!==N&&N===z){var n=B.node(N).get().data.props.width,i=n,o=_.current[t];if(o){var s=o.naturalWidth;i=o.naturalHeight/s*n}P.setProp(N,function(t){t.imgKey=e,t.width=n,t.height=i}),m.wL.getState().setReplacing(!1),m.wL.getState().setReplaceType(null),m.wL.getState().setSelectedNodeId(null),r&&a&&a(),A(null);return}var c=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(c&&d){var u=d.scrollTop,p=c.getBoundingClientRect().width,x=100,h=100,f=_.current[t];if(f){var g=f.naturalWidth,b=f.naturalHeight,j=(0,q.P)(y.QL,g,b),v=j.scaleWidth,C=j.scaleHeight;x=v,h=C}var O=B.node("ROOT").get().data.nodes||[],T=0;O.length>0&&(T=Math.max.apply(Math,(0,S.A)(O.map(function(e){return B.node(e).get().data.props.zIndex||0}))));var D=B.createNode(l.createElement(Y.U,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(p/2-x/2),width:x,height:h,imgKey:e,zIndex:0==T?0:T+1}));P.add(D,"ROOT"),P.selectNode(D.id),r&&a&&a()}},W=(t=(0,C.A)(T().mark(function e(){var t;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),e.prev=1,t=[],!("template"===c&&i)){e.next=9;break}return e.next=6,(0,ec.CE)(i);case 6:t=e.sent,e.next=13;break;case 9:if("all"!==c){e.next=13;break}return e.next=12,(0,ec.B9)();case 12:t=e.sent;case 13:x(X(t)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error fetching admin photos:",e.t0),D.Ay.error("Failed to load photos");case 21:return e.prev=21,j(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[1,17,21,24]])})),function(){return t.apply(this,arguments)}),X=function(e){return(0,S.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){W()},[H,i,c]);var Z=(p.reduce(function(e,t){return e+t.fileSize},0)/0x40000000).toFixed(4),J=function(e){var t=B.getNodes(),n=[];return Object.entries(t).forEach(function(t){var r,a,i,o,s=(0,er.A)(t,2),c=s[0],l=s[1];(null==(r=l.data)?void 0:r.name)==="PhotoBox"&&null!=(a=l.data)&&null!=(a=a.props)&&null!=(a=a.imgKey)&&a.includes(e)&&n.push(c),(null==(i=l.data)?void 0:i.name)==="UnifiedMap"&&null!=(o=l.data)&&null!=(o=o.props)&&null!=(o=o.galleryImageUrl)&&o.includes(e)&&n.push(c)}),n},$=function(e){e.forEach(function(e){try{P.delete(e)}catch(t){console.warn("Kh\xf4ng thể x\xf3a node ".concat(e,":"),t)}})},ee=(n=(0,C.A)(T().mark(function e(t,n){var r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=J(n)).length>0?E.A.confirm({title:"Ảnh đang được sử dụng",content:(0,M.jsxs)("div",{children:[(0,M.jsxs)("p",{children:["Ảnh n\xe0y đang được sử dụng trong ",r.length," th\xe0nh phần của trang."]}),(0,M.jsx)("p",{children:(0,M.jsx)("strong",{children:"Nếu bạn x\xf3a ảnh n\xe0y, c\xe1c th\xe0nh phần đ\xf3 cũng sẽ bị x\xf3a theo."})}),(0,M.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 mt-2",children:(0,M.jsx)("div",{className:"flex",children:(0,M.jsxs)("div",{className:"ml-2 text-sm text-yellow-800",children:[(0,M.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến c\xe1c trang đ\xf3."]})})}),(0,M.jsx)("p",{className:"mt-3",children:(0,M.jsx)("strong",{children:"Bạn c\xf3 chắc chắn muốn tiếp tục x\xf3a?"})})]}),okText:"Vẫn x\xf3a",cancelText:"Hủy",okType:"danger",centered:!0,onOk:function(){var e=(0,C.A)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(r),e.next=4,(0,ec.ZR)(t);case 4:D.Ay.success("Đ\xe3 x\xf3a ảnh v\xe0 ".concat(r.length," th\xe0nh phần sử dụng ảnh")),W(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),D.Ay.error("Kh\xf4ng thể x\xf3a ảnh");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()}):E.A.confirm({title:"X\xf3a ảnh",icon:null,content:(0,M.jsxs)("div",{children:[(0,M.jsx)("p",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?"}),(0,M.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mt-3",children:(0,M.jsx)("div",{className:"flex",children:(0,M.jsxs)("div",{className:"ml-3 text-sm text-yellow-800",children:[(0,M.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang thiệp kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến tất cả c\xe1c trang đ\xf3."]})})})]}),okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,C.A)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ec.ZR)(t);case 3:D.Ay.success("Ảnh đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),W(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),D.Ay.error("Kh\xf4ng thể x\xf3a ảnh");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"",children:[(0,M.jsx)("div",{className:"p-3",children:"new-blank"!==i&&i?(0,M.jsx)(es,{onUploadSuccess:W,templateId:"template"===c?i:void 0}):(0,M.jsxs)("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg cursor-default",children:[(0,M.jsx)("div",{className:"text-gray-500 mb-2",children:(0,M.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,M.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa thể upload assets"}),(0,M.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Bạn cần lưu template trước để c\xf3 thể upload assets v\xe0o folder tương ứng."}),(0,M.jsx)("div",{className:"text-xs text-blue-600",children:'\uD83D\uDCA1 Tip: Nhấn "Xuất bản mẫu" tr\xean thanh c\xf4ng cụ để lưu template'})]})}),w&&(0,M.jsx)(R.A,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)("div",{className:"px-3 mb-3",children:(0,M.jsx)("div",{className:"flex items-center gap-2",children:(0,M.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,M.jsx)("button",{onClick:function(){return d("template")},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ".concat("template"===c?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Template hiện tại"}),(0,M.jsx)("button",{onClick:function(){return d("all")},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ".concat("all"===c?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Tất cả assets"})]})})}),(0,M.jsx)("h4",{className:"px-3 mb-2",children:"template"===c&&i?"Ảnh của Template: ".concat(o):"all"===c?"Tất cả Admin Assets":"Tệp đ\xe3 tải l\xean"}),(0,M.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",p.length," tệp (",Z," GB / 5GB)"]}),(0,M.jsx)("div",{className:"upload-list",children:(0,M.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:r?"calc(60vh - 300px)":"calc(100vh - 300px)",minHeight:"300px",maxHeight:"calc(100vh - 300px)",overflow:"auto",paddingBottom:"100px"},children:(0,M.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:g?Array(6).fill(null).map(function(e,t){return(0,M.jsx)("div",{className:"aspect-square animate-pulse",children:(0,M.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):p.map(function(e,t){return(0,M.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){t&&I(t,(0,M.jsx)(Y.U,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=_.current[e.assetId];if(a){var i=a.naturalWidth,o=a.naturalHeight,s=(0,q.P)(y.QL,i,o),c=s.scaleWidth,l=s.scaleHeight;n=c,r=l}var d=B.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,S.A)(d.map(function(e){return B.node(e).get().data.props.zIndex||0}))));var p=Object.keys(t.nodes)[0];P.setProp(p,function(e){e.top=F.current||0,e.left=L.current||0,e.width=n,e.height=r,e.zIndex=0==u?0:u+1})}})},draggable:!0,onClick:function(){return K(e.fileKey,e.assetId)},onDrag:U,children:(0,M.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,M.jsx)(G(),{unoptimized:!0,src:(0,Q.$W)(e.fileKey,200),alt:"Admin asset ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){t&&(_.current[e.assetId]=t)}}),(0,M.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,M.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,M.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),ee(e.assetId,e.fileKey)},title:"Delete asset",children:(0,M.jsx)(h.jzL,{className:"w-3 h-3"})})})})]})},e.assetId)})})})})]})]})})};var ep=n(81848);function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach(function(t){(0,I.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var em=P.A.Dragger;let ef=function(e){var t,n,r,a=e.onUploadSuccess,i=(0,l.useState)(!1),o=i[0],s=i[1],c=(0,l.useState)([]),d=c[0],u=c[1],p=(0,ep.J)(),x=p.imagesCount,h=p.enhancedLimits,m=p.remainingImages,f=p.isLoading;(0,l.useEffect)(function(){if(d.length>0&&!o){var e=setTimeout(function(){u([])},2e3);return function(){return clearTimeout(e)}}},[d,o]);var g={name:"file",multiple:!0,maxCount:15,fileList:d,beforeUpload:(t=(0,C.A)(T().mark(function e(t,n){var r,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>15)){e.next=3;break}return D.Ay.error("Bạn chỉ c\xf3 thể tải l\xean tối đa 15 file c\xf9ng một l\xfac"),e.abrupt("return",!1);case 3:if(!(t.size>1048576)){e.next=17;break}return e.prev=5,r={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.next=9,(0,F.A)(t,r);case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(5),D.Ay.error("Lỗi khi n\xe9n ảnh tối đa 1MB ".concat(t.name)),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[5,13]])})),function(e,n){return t.apply(this,arguments)}),customRequest:(n=(0,C.A)(T().mark(function e(t){var n,r,a,i,o,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.onSuccess,a=t.onError,i=t.onProgress,(o=new FormData).append("file",n),e.prev=3,e.next=6,z.A.post("/partner/file-upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.total){var t=Math.floor(e.loaded/e.total*100);null==i||i({percent:t})}}});case 6:c=e.sent,null==r||r(c.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),null==a||a(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[3,10,13,16]])})),function(e){return n.apply(this,arguments)}),onChange:function(e){var t=e.file.status;u(e.fileList),"done"===t?(D.Ay.success("Tải l\xean ".concat(e.file.name," th\xe0nh c\xf4ng.")),a()):"error"===t&&D.Ay.error("Tải l\xean ".concat(e.file.name," thất bại."))},onDrop:(r=(0,C.A)(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s(!0);case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})};return(0,M.jsx)("div",{children:(0,M.jsxs)(em,eh(eh({disabled:o||f},g),{},{children:[(0,M.jsx)("div",{className:"absolute top-2 left-2 flex gap-1 z-50",children:(0,M.jsx)("span",{className:"bg-purple-200 text-purple-600 text-sm px-2 py-0.5 rounded-full capitalize",children:"Partner"})}),(0,M.jsxs)(B.A,{tip:"Đang xử l\xfd file...",spinning:o,children:[(0,M.jsx)("p",{className:"mb-2",children:(0,M.jsx)(_.BzO,{size:38,className:"m-auto text-primary"})}),(0,M.jsx)("p",{className:"text-xs text-gray-500 ".concat(o?"invisible":""),children:"K\xe9o thả hoặc nhấn v\xe0o đ\xe2y để tải l\xean file. C\xf3 thể tải l\xean tối đa 15 ảnh c\xf9ng một l\xfac."}),!f&&(0,M.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:[(0,M.jsxs)("span",{children:["Đ\xe3 tải:"," ",(0,M.jsxs)("span",{className:"font-medium text-gray-600",children:[x,"/",h.maxImages]})]}),(0,M.jsx)("span",{className:"mx-2",children:"•"}),(0,M.jsxs)("span",{children:["C\xf2n lại:"," ",(0,M.jsx)("span",{className:"font-medium text-blue-600",children:m})]})]})]})]}))})};var eg=n(34007);let eb=function(e){var t,n,r=e.isMobile,a=e.onClose,i=(0,l.useState)([]),o=i[0],s=i[1],c=(0,l.useState)(!1),d=c[0],u=c[1],p=(0,m.wL)(),x=p.isReplacing,f=p.replaceType,g=p.selectedNodeId,j=(0,m.c3)().setActiveKey,v=(0,b.hG)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),w=v.connectors.create,k=v.actions,N=v.query,A=v.currentlySelectedNodeId,O=(0,l.useRef)({}),I=(0,l.useRef)(0),P=(0,l.useRef)(0),B=(0,V.x)(function(e){return e.refreshTrigger}),z=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width));I.current=Math.round(Math.min(Math.max(a,0),n.height)),P.current=i}},_=function(e,t){if(x&&"photo"===f&&null!==g&&g===A){var n=N.node(g).get().data.props.width,i=n,o=O.current[t];if(o){var s=o.naturalWidth;i=o.naturalHeight/s*n}k.setProp(g,function(t){t.imgKey=e,t.width=n,t.height=i}),m.wL.getState().setReplacing(!1),m.wL.getState().setReplaceType(null),m.wL.getState().setSelectedNodeId(null),r&&a&&a(),j(null);return}var c=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(c&&d){var u=d.scrollTop,p=c.getBoundingClientRect().width,h=100,b=100,v=O.current[t];if(v){var w=v.naturalWidth,C=v.naturalHeight,T=(0,q.P)(y.QL,w,C),D=T.scaleWidth,E=T.scaleHeight;h=D,b=E}var R=N.node("ROOT").get().data.nodes||[],I=0;R.length>0&&(I=Math.max.apply(Math,(0,S.A)(R.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var P=N.createNode(l.createElement(Y.U,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(p/2-h/2),width:h,height:b,imgKey:e,zIndex:0==I?0:I+1}));k.add(P,"ROOT"),k.selectNode(P.id),r&&a&&a()}},F=(t=(0,C.A)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,(0,eg.w0)();case 4:s(L(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching partner photos:",e.t0),D.Ay.error("Failed to load photos");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return t.apply(this,arguments)}),L=function(e){return(0,S.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){F()},[B]);var H=(o.reduce(function(e,t){return e+t.fileSize},0)/0x40000000).toFixed(4),U=function(e){var t=N.getNodes(),n=[];return Object.entries(t).forEach(function(t){var r,a,i,o,s=(0,er.A)(t,2),c=s[0],l=s[1];(null==(r=l.data)?void 0:r.name)==="PhotoBox"&&null!=(a=l.data)&&null!=(a=a.props)&&null!=(a=a.imgKey)&&a.includes(e)&&n.push(c),(null==(i=l.data)?void 0:i.name)==="UnifiedMap"&&null!=(o=l.data)&&null!=(o=o.props)&&null!=(o=o.galleryImageUrl)&&o.includes(e)&&n.push(c)}),n},K=function(e){e.forEach(function(e){try{k.delete(e)}catch(t){console.warn("Kh\xf4ng thể x\xf3a node ".concat(e,":"),t)}})},W=(n=(0,C.A)(T().mark(function e(t,n){var r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=U(n)).length>0?E.A.confirm({title:"Ảnh đang được sử dụng",content:(0,M.jsxs)("div",{children:[(0,M.jsxs)("p",{children:["Ảnh n\xe0y đang được sử dụng trong ",r.length," th\xe0nh phần của trang."]}),(0,M.jsx)("p",{children:(0,M.jsx)("strong",{children:"Nếu bạn x\xf3a ảnh n\xe0y, c\xe1c th\xe0nh phần đ\xf3 cũng sẽ bị x\xf3a theo."})}),(0,M.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 mt-2",children:(0,M.jsx)("div",{className:"flex",children:(0,M.jsxs)("div",{className:"ml-2 text-sm text-yellow-800",children:[(0,M.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến c\xe1c trang đ\xf3."]})})}),(0,M.jsx)("p",{className:"mt-3",children:(0,M.jsx)("strong",{children:"Bạn c\xf3 chắc chắn muốn tiếp tục x\xf3a?"})})]}),okText:"Vẫn x\xf3a",cancelText:"Hủy",okType:"danger",centered:!0,onOk:function(){var e=(0,C.A)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(r),e.next=4,(0,eg.gT)(t);case 4:D.Ay.success("Đ\xe3 x\xf3a ảnh v\xe0 ".concat(r.length," th\xe0nh phần sử dụng ảnh")),F(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error deleting partner asset:",e.t0),D.Ay.error("Kh\xf4ng thể x\xf3a ảnh");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()}):E.A.confirm({title:"X\xf3a ảnh",icon:null,content:(0,M.jsxs)("div",{children:[(0,M.jsx)("p",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?"}),(0,M.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mt-3",children:(0,M.jsx)("div",{className:"flex",children:(0,M.jsxs)("div",{className:"ml-3 text-sm text-yellow-800",children:[(0,M.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang thiệp kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến tất cả c\xe1c trang đ\xf3."]})})})]}),okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,C.A)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,eg.gT)(t);case 3:D.Ay.success("Ảnh đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),F(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting partner asset:",e.t0),D.Ay.error("Kh\xf4ng thể x\xf3a ảnh");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"",children:[(0,M.jsx)("div",{className:"p-3",children:(0,M.jsx)(ef,{onUploadSuccess:F})}),x&&(0,M.jsx)(R.A,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)("h4",{className:"px-3 mb-2",children:"Tất cả Partner Assets"}),(0,M.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",o.length," tệp (",H," GB / 5GB)"]}),(0,M.jsx)("div",{className:"upload-list",children:(0,M.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:r?"calc(60vh - 300px)":"calc(100vh - 300px)",minHeight:"300px",maxHeight:"calc(100vh - 300px)",overflow:"auto",paddingBottom:"100px"},children:(0,M.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:d?Array(6).fill(null).map(function(e,t){return(0,M.jsx)("div",{className:"aspect-square animate-pulse",children:(0,M.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):o.map(function(e,t){return(0,M.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){t&&w(t,(0,M.jsx)(Y.U,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=O.current[e.fileId];if(a){var i=a.naturalWidth,o=a.naturalHeight,s=(0,q.P)(y.QL,i,o),c=s.scaleWidth,l=s.scaleHeight;n=c,r=l}var d=N.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,S.A)(d.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var p=Object.keys(t.nodes)[0];k.setProp(p,function(e){e.top=I.current||0,e.left=P.current||0,e.width=n,e.height=r,e.zIndex=0==u?0:u+1})}})},draggable:!0,onClick:function(){return _(e.fileKey,e.fileId)},onDrag:z,children:(0,M.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-purple-400 transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,M.jsx)(G(),{unoptimized:!0,src:(0,Q.$W)(e.fileKey,200),alt:"Partner asset ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){t&&(O.current[e.fileId]=t)}}),(0,M.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,M.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,M.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),W(e.fileId,e.fileKey)},title:"Delete asset",children:(0,M.jsx)(h.jzL,{className:"w-3 h-3"})})})})]})},e.fileId||t)})})})})]})]})})};var ej=n(89099),ey=n(27484),ev=g.I4.div(r||(r=(0,a.A)(["\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  ","\n  ","\n"])),function(e){return e.$enabled?"":"width: 0;"},function(e){return e.$enabled?"":"opacity: 0;"}),ew=function(e){var t,n,r,a=e.userInfo,i=(0,b.hG)(function(e){return{enabled:e.options.enabled}}),g=i.enabled,C=i.actions,S=(0,l.useRef)(null),O=(0,m.c3)(),T=O.activeKey,D=O.setActiveKey,E=O.closeSidebar,R=(0,ej.useRouter)(),I=(0,en.useSession)().data,P=(null==I||null==(t=I.user)?void 0:t.role)==="admin"||(null==I||null==(n=I.user)?void 0:n.role)==="editor",B=(null==I||null==(r=I.user)?void 0:r.role)==="partner",z=R.pathname.includes("/admin/templates/edit"),F=R.pathname.includes("/partner/editor"),L=function(){return(0,M.jsx)("div",{onClick:E,className:"close-tab-btn"})},H=P&&z?(0,M.jsx)(eu,{}):B&&F?(0,M.jsx)(eb,{}):a?(0,M.jsx)(J,{userInfo:a}):(0,M.jsx)(f.A,{}),U=[{key:y.hW.TEXT,title:null,icon:null,label:"Text",component:(0,M.jsx)(d.A,{}),hasWrapper:!1},{key:y.hW.PHOTO,title:"Th\xeam ảnh",icon:(0,M.jsx)(h.v1J,{size:20}),label:"H\xecnh ảnh",component:H,hasWrapper:!0},{key:y.hW.MATERIAL,title:"Th\xeam h\xecnh thiết kế sẵn",icon:(0,M.jsx)(u.aRh,{size:20}),label:"Stock",component:(0,M.jsx)(w.A,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.hW.BACKGROUND,title:"H\xecnh nền",icon:(0,M.jsx)(p.HY1,{size:20}),label:"Nền",component:(0,M.jsx)(k.A,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.hW.MUSIC,title:"Th\xeam \xe2m nhạc",icon:(0,M.jsx)(x.HVw,{size:20}),label:"\xc2m nhạc",component:(0,M.jsx)(N.A,{userInfo:a}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.hW.PLUGIN,title:"Th\xeam tiện \xedch",icon:(0,M.jsx)(x.uK7,{size:20}),label:"Tiện \xedch",component:(0,M.jsx)(j.A,{}),hasWrapper:!0},{key:y.hW.TEMPLATE,title:"Mẫu",icon:(0,M.jsx)(x.S1H,{size:20}),label:"Mẫu",component:(0,M.jsx)(A.A,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.hW.EFFECT,title:"Hiệu ứng",icon:(0,M.jsx)(_.T_n,{size:20}),label:"Hiệu ứng",component:(0,M.jsx)(ey.A,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0}].map(function(e){return{key:e.key,label:e.title?(0,M.jsx)(s.A,{title:e.title,placement:"right",styles:{root:{fontSize:"12px"}},children:(0,M.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[e.icon," ",(0,M.jsx)("span",{className:"text-xs",children:e.label})]})}):e.component,children:e.hasWrapper?(0,M.jsxs)("div",{className:e.wrapperClass||"",children:[e.hasWrapper&&(0,M.jsx)(L,{}),e.component]}):null}});return(0,l.useEffect)(function(){E()},[]),(0,M.jsxs)(ev,{$enabled:g&&g,className:"toolbox relative ".concat(null===T?"w-toolbox-collapse":"w-toolbox-expand"," h-full flex flex-col bg-white transition ").concat(g?"":"invisible"),ref:S,children:[(0,M.jsx)(c.A,{type:"line",style:{height:"100%"},size:"small",tabPosition:"left",className:"toolbox-tab",activeKey:T,defaultActiveKey:"",items:U,onTabClick:function(e){e===T||e===y.hW.TEXT?D(null):D(e),e===y.hW.MUSIC&&C.selectNode(null),e===y.hW.EFFECT&&C.selectNode(null)}}),(0,M.jsx)(et,{}),(0,M.jsx)(o(),{id:"4033690424",dynamic:[v.src],children:[".w-toolbox-collapse{width:85px;}",".w-toolbox-expand{width:420px;}","@media (max-width:1600px){.w-toolbox-expand{width:380px;}}",".bottom-button{width:83px;}",".ant-tabs-nav .ant-tabs-nav-wrap{width:85px;}",".toolbox-tab .ant-tabs-content{height:100%;}",".toolbox-tab .ant-tabs-content-holder{height:100%;}",".toolbox-tab .ant-tabs-content>.ant-tabs-tabpane{padding-left:0px !important;height:100%;}",".toolbox-tab .ant-tabs-tab{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:8px !important;}",".ant-tabs-ink-bar.ant-tabs-ink-bar-animated{display:none;}",".ant-tabs-tab-active{background:none;}",'.ant-tabs-tab-btn[aria-selected="false"]{color:inherit !important;}',".left-sidebar .ant-tabs-content.ant-tabs-content-left{border-right:2px solid #e5e5e5;}",".close-tab-btn{position:absolute;right:-19px;top:50%;margin-top:-50px;width:20px;height:104px;cursor:pointer;background-image:url(".concat(v.src,");background-repeat:no-repeat;background-size:cover;background-position:50%;}"),".left-wrap{width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;justify-items:flex-start;border-right:1px solid #e5e5e5;box-sizing:content-box;}"]}),(0,M.jsx)(o(),{id:"509973037",children:[".left-wrap.jsx-509973037{width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;justify-items:flex-start;border-right:1px solid #e5e5e5;box-sizing:content-box;}"]})]})}},69486:(e,t,n)=>{"use strict";n.d(t,{QL:()=>l,TL:()=>s,_7:()=>o,bv:()=>i,hW:()=>c,ji:()=>a,l0:()=>r});var r={TYPE_ONE:"ONE",TYPE_TWO:"TWO",NO_STYLE:"NONE"},a={calendarText:"rgb(153, 153, 153)",calendarTheme:"rgb(243, 150, 161)",calendarBackground:"transparent",countdownBackground:"transparent",countdownText:"#fff",countdownTheme:"#000"},i={initPluginWidth:300,calendarWidth:300,calendarHeight:280,countdownWidth:280,countdownHeight:70,mapWidth:320,mapHeight:250,phoneButtonWidth:130,phoneButtonHeight:40,formWidth:300,formHeight:320,textWidth:240,photoGalleryWidth:320,photoGalleryHeight:320,youtubeEmbedWidth:320,youtubeEmbedHeight:180},o={lat:21.0228148,lng:105.7957638},s=10,c={PLUGIN:"toolbox-plugin",TEXT:"toolbox-text",PHOTO:"toolbox-photo",MATERIAL:"toolbox-material",BACKGROUND:"toolbox-background",MUSIC:"toolbox-music",TEMPLATE:"toolbox-template",EFFECT:"toolbox-effect"},l=200},69798:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(27002),a=n.n(r),i=n(14232),o=n(66125),s=n(39200),c=n.n(s),l=n(3539),d=n(37876);(0,s.registerLocale)("vi",l.vi);var u=function(){var e,t,n=(0,o.oB)(function(e){return{selectedDate:e.data.props.selectedDate,selectedDate2:e.data.props.selectedDate2}}),r=n.actions.setProp,s=n.selectedDate,l=n.selectedDate2,u=(0,i.useState)(new Date(s)),p=u[0],x=u[1],h=(0,i.useState)(l?new Date(l):null),m=h[0],f=h[1],g=(0,i.useState)(!!l),b=g[0],j=g[1],y={firstDay:new Date(e=p.getFullYear(),t=p.getMonth(),1),lastDay:new Date(e,t+1,0)},v=y.firstDay,w=y.lastDay,k=function(e){j(e),e||(f(null),r(function(e){e.selectedDate2=null}))};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"jsx-648420131 flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"jsx-648420131 text-sm font-medium w-24",children:"Chọn ng\xe0y"}),(0,d.jsx)(c(),{className:"custom-datepicker",locale:"vi",selected:p,onChange:function(e){if((e instanceof Date||null===e)&&(x(e),r(function(t){t.selectedDate=e}),e&&m)){var t=e.getMonth(),n=e.getFullYear(),a=m.getMonth(),i=m.getFullYear();(t!==a||n!==i)&&(f(null),r(function(e){e.selectedDate2=null}))}},dateFormat:"dd/MM/yyyy",popperPlacement:"bottom-start"})]}),(0,d.jsxs)("div",{className:"jsx-648420131 flex items-center my-4",children:[(0,d.jsx)("input",{type:"checkbox",id:"enable-second-date",checked:b,onChange:function(e){return k(e.target.checked)},className:"jsx-648420131 mr-2"}),(0,d.jsx)("label",{htmlFor:"enable-second-date",className:"jsx-648420131 text-sm font-medium cursor-pointer",children:"Hiển thị 2 ng\xe0y"})]}),b&&(0,d.jsxs)("div",{className:"jsx-648420131 flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"jsx-648420131 text-sm font-medium w-24",children:"Chọn ng\xe0y 2"}),(0,d.jsx)(c(),{className:"custom-datepicker",locale:"vi",selected:m,onChange:function(e){f(e),r(function(t){t.selectedDate2=e})},dateFormat:"dd/MM/yyyy",popperPlacement:"bottom-start",minDate:v,maxDate:w,placeholderText:"Chọn ng\xe0y"})]}),(0,d.jsx)(a(),{id:"648420131",children:[".custom-datepicker{border:1px solid #ccc;border-radius:4px;padding:4px 8px;width:100%;}",".react-datepicker-popper{width:-webkit-max-content;width:-moz-max-content;width:max-content;z-index:1000;}"]})]})}},70970:(e,t,n)=>{"use strict";n.d(t,{L:()=>O});var r=n(42969),a=n(14232),i=n(66125),o=n(69486),s=n(13286),c=n(95463),l=n(25192),d=n(33536),u=n(96447),p=n(12448),x=n(39229),h=n(82599),m=n(30116),f=n(93521),g=n(37876),b=n(32216),j=n(33598),y=n(10881),v=n(86961),w=n(21350),k={CUSTOMIZE:"Tuỳ chỉnh bản đồ",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"},N=n(36423);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S={top:10,left:10,width:o.bv.mapWidth,height:o.bv.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},mapType:"simple",mapCoordinates:void 0,address:"",backgroundColor:"transparent",listingTitle:"Cinelove Wedding",listingDescription:"Nhấn để xem đường đi v\xe0 c\xf9ng nhau đến bữa tiệc ngọt ng\xe0o ♥",galleryImageUrl:"".concat(N.A.CDN_URL,"/images/map-pin-heart-dreamy.jpg"),zIndex:0,locked:!1,transition:x.l},O=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],o=n[1],c=(0,a.useState)(!1),l=c[0],d=c[1],u=e=C(C({},S),e),p=u.top,h=u.left,m=u.height,f=u.width,y=u.opacity,v=(u.shadow,u.padding),w=u.borderRadius,k=u.rotation,N=u.borderPosition,A=u.borderSize,O=u.borderStyle,T=u.borderColor,D=u.hasShadow,E=u.boxShadow,R=(u.mapType,u.mapCoordinates),I=u.address,P=u.backgroundColor,B=(u.listingTitle,u.listingDescription,u.galleryImageUrl,u.zIndex),z=u.locked,_=u.transition,F=function(){switch(N){case"all":return{border:"".concat(A,"px ").concat(O," ").concat(T)};case"top":return{borderTop:"".concat(A,"px ").concat(O," ").concat(T)};case"bottom":return{borderBottom:"".concat(A,"px ").concat(O," ").concat(T)};case"right":return{borderRight:"".concat(A,"px ").concat(O," ").concat(T)};case"left":return{borderLeft:"".concat(A,"px ").concat(O," ").concat(T)};case"top-bottom":return{borderTop:"".concat(A,"px ").concat(O," ").concat(T),borderBottom:"".concat(A,"px ").concat(O," ").concat(T)};case"right-left":return{borderRight:"".concat(A,"px ").concat(O," ").concat(T),borderLeft:"".concat(A,"px ").concat(O," ").concat(T)};case"upper-left":return{borderTop:"".concat(A,"px ").concat(O," ").concat(T),borderLeft:"".concat(A,"px ").concat(O," ").concat(T)};case"upper-right":return{borderTop:"".concat(A,"px ").concat(O," ").concat(T),borderRight:"".concat(A,"px ").concat(O," ").concat(T)};case"lower-left":return{borderBottom:"".concat(A,"px ").concat(O," ").concat(T),borderLeft:"".concat(A,"px ").concat(O," ").concat(T)};case"lower-right":return{borderBottom:"".concat(A,"px ").concat(O," ").concat(T),borderRight:"".concat(A,"px ").concat(O," ").concat(T)};default:return{}}}(),L=(0,i.oB)(function(e){return{active:e.events.selected,id:e.id}}),M=L.connectors.connect,H=L.actions.setProp,U=L.active,K=L.id,W=(0,i.hG)(function(e){return{enabled:e.options.enabled}}).enabled,X=_||x.l,G=(0,a.useState)(!1),Y=G[0],q=G[1];(0,a.useEffect)(function(){if(U&&W){var e=document.querySelector("#root-page-container");e&&o(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==K}))}},[U,W,K]);var V=(0,a.useState)({width:0,height:0,left:0,top:0}),Q=V[0],Z=V[1],J=(0,a.useState)(null),$=J[0],ee=J[1];return(0,a.useEffect)(function(){if(U&&W){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();Z({width:t.width,height:t.height,left:t.left,top:t.top}),ee(e)}}},[U,W]),(0,a.useEffect)(function(){if(t.current){var e;o(Array.from((null==(e=t.current.parentElement)?void 0:e.children)||[]).filter(function(e){return e!==t.current}))}},[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{ref:function(e){e&&(M(e),t.current=e)},style:{position:"absolute",top:"".concat(p,"px"),left:"".concat(h,"px"),width:"".concat(f,"px"),height:"".concat(m,"px"),transform:"rotate(".concat(k,"deg)"),zIndex:B},className:"relative",children:(0,g.jsx)(j.A,{transition:X,targetRef:t,enabled:W,nodeId:K,onTransitionStart:function(){q(!0)},onTransitionEnd:function(){q(!1)},children:(0,g.jsx)("div",{style:C(C({position:"relative",width:"100%",height:"100%",opacity:y,padding:"".concat(v[0],"px ").concat(v[1],"px ").concat(v[2],"px ").concat(v[3],"px"),borderRadius:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px")},F),{},{boxShadow:D?"".concat(E.offsetX,"px ").concat(E.offsetY,"px ").concat(E.blur,"px ").concat(E.spread,"px ").concat(E.color):"none",backgroundColor:P}),children:(0,g.jsx)(b.A,{address:I,coordinates:R,borderRadius:w,mapView:l,onToggleMapView:function(e){return d(e)}})})})}),U&&W&&t.current&&!l&&!Y&&(0,g.jsx)(s.A,{target:t.current,container:$,otherElements:r,containerBounds:Q,currentProps:{top:p,left:h,width:f,height:m,rotation:k,flipX:!1,flipY:!1,locked:z},onUpdateProps:function(e){H(function(t){Object.assign(t,e)})}})]})};O.craft={displayName:"Bản đồ",props:S,related:{toolbar:function(){return(0,i.oB)(function(e){return{mapType:e.data.props.mapType}}).mapType,(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(h.rk,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:(0,g.jsx)(m.j,{})}),(0,g.jsxs)(h.rk,{title:"M\xe0u sắc",children:[(0,g.jsx)(f.O,{isColor:!1,isBackground:!0}),(0,g.jsx)(p.x,{})]}),(0,g.jsxs)(h.rk,{title:"Khoảng đệm",children:[(0,g.jsx)(c.a,{}),(0,g.jsx)(l.d,{})]}),(0,g.jsx)(h.rk,{title:"Đường viền",children:(0,g.jsx)(d.x,{})}),(0,g.jsx)(h.rk,{title:"Đổ b\xf3ng",children:(0,g.jsx)(u.G,{})}),(0,g.jsx)(h.rk,{title:"Hiệu ứng chuyển động",children:(0,g.jsx)(x.i,{})})]})},mobileToolbar:function(){var e=(0,a.useState)(null),t=e[0],n=e[1];(0,i.oB)(function(e){return{mapType:e.data.props.mapType}}).mapType;var r=function(e){n(e)};return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(y.A,{icon:(0,g.jsx)(v.puW,{size:20}),label:"Tuỳ chỉnh bản đồ",onClick:function(){return r(k.CUSTOMIZE)}}),(0,g.jsx)(y.A,{icon:(0,g.jsx)(v.NyH,{size:20}),label:"M\xe0u sắc",onClick:function(){return r(k.COLOR)}}),(0,g.jsx)(y.A,{icon:(0,g.jsx)(v.WKR,{size:20}),label:k.PADDING,onClick:function(){return r(k.PADDING)}}),(0,g.jsx)(y.A,{icon:(0,g.jsx)(v.lKm,{size:20}),label:k.BORDER,onClick:function(){return r(k.BORDER)}}),(0,g.jsx)(y.A,{icon:(0,g.jsx)(v.elE,{size:20}),label:k.BOX_SHADOW,onClick:function(){return r(k.BOX_SHADOW)}}),(0,g.jsx)(y.A,{icon:(0,g.jsx)(v.Vt5,{size:20}),label:k.TRANSITION,onClick:function(){return r(k.TRANSITION)}}),(0,g.jsx)(w.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,g.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,g.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,g.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,g.jsx)("div",{className:"setting-content",children:function(){switch(t){case k.CUSTOMIZE:return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.j,{})});case k.COLOR:return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.O,{isColor:!1,isBackground:!0}),(0,g.jsx)(p.x,{})]});case k.PADDING:return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.a,{}),(0,g.jsx)(l.d,{})]});case k.BORDER:return(0,g.jsx)(d.x,{});case k.BOX_SHADOW:return(0,g.jsx)(u.G,{});case k.TRANSITION:return(0,g.jsx)(x.i,{});default:return(0,g.jsx)(g.Fragment,{})}}()})})]})})]})}},rules:{canDrag:!0,canResize:!0,canDelete:!0,canMoveIn:!1}}},71255:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(14232),a=n(44478),i=n(63857),o=n(27002),s=n.n(o),c=n(43081),l=n.n(c),d=n(66125),u=n(12887),p=n(62436),x=n(40108),h=n(36423),m=n(42969);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,m.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=(0,n(8106).v)(function(e,t){return{cache:{},setMaterials:function(t,n){return e(function(e){return{cache:g(g({},e.cache),{},(0,m.A)({},t,n))}})},getMaterials:function(e){return t().cache[e]||null}}}),j=n(74103),y=n(37876);let v=function(e){var t=e.isMobile,n=void 0!==t&&t,o=e.onClose,c=e.activeCategory,m=e.categoryType,f=void 0===m?"img":m,g=e.onViewMore,v=(0,r.useState)(!1),w=v[0],k=v[1],N=b(),A=N.setMaterials,C=N.getMaterials,S=(0,r.useState)([]),O=S[0],T=S[1],D=(0,r.useState)([]),E=D[0],R=D[1],I=(0,r.useRef)({}),P=(0,d.hG)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),B=P.connectors.create,z=P.actions,_=P.query,F=P.currentlySelectedNodeId,L=(0,r.useRef)(0),M=(0,r.useRef)(0),H=(0,p.wL)(),U=H.isReplacing,K=H.replaceType,W=H.selectedNodeId,X=(0,p.c3)().setActiveKey;(0,r.useEffect)(function(){var e;k(!0),(e=(0,i.A)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(h.A.API_URL,"/api/resources/all"));case 3:return t=e.sent,e.next=6,t.json();case 6:R(e.sent.categories),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to fetch categories:",e.t0);case 13:return e.prev=13,k(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),(0,r.useEffect)(function(){var e;(e=(0,i.A)(l().mark(function e(){var t,n,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==c){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,k(!0),!(t=C(c))){e.next=8;break}return T(t),e.abrupt("return");case 8:return e.next=10,fetch("".concat(h.A.API_URL,"/api/resources/categories/").concat(c));case 10:return n=e.sent,e.next=13,n.json();case 13:A(c,r=e.sent.items.map(function(e){return{id:e.id,imgKey:e.fileKey}})),T(r),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("Failed to fetch materials:",e.t0);case 22:return e.prev=22,k(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[2,19,22,25]])})),function(){return e.apply(this,arguments)})()},[c,A,C]);var G=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width));L.current=Math.round(Math.min(Math.max(a,0),n.height)),M.current=i}},Y=function(e,t,i){if(U&&"material"===K&&null!==W&&W==F){var s=_.node(W).get().data.props.width,c=s,l=I.current[i];if(l){var d=l.naturalWidth;c=l.naturalHeight/d*s}z.setProp(W,function(e){e.imgKey=t,e.width=s,e.height=c,e.materialType=f}),p.wL.getState().setReplacing(!1),p.wL.getState().setReplaceType(null),p.wL.getState().setSelectedNodeId(null),n&&o&&o(),X(null);return}var u=document.getElementById("root-page-container"),x=document.getElementById("main-scroll-container");if(u&&x){var h=x.scrollTop,m=u.getBoundingClientRect().width,g=100,b=100,j=I.current[i];if(j){var y=j.naturalWidth,v=j.naturalHeight;y>200?(g=200,b=Math.round(v/y*200)):(g=y,b=v)}var w=_.node("ROOT").get().data.nodes||[],k=0;w.length>0&&(k=Math.max.apply(Math,(0,a.A)(w.map(function(e){return _.node(e).get().data.props.zIndex||0}))));var N=_.createNode(r.createElement(e,{top:Math.round(h+window.innerHeight/2-150),left:Math.round(m/2-g/2),width:g,height:j?b:"auto",imgKey:t,materialType:f,zIndex:0==k?0:k+1}));z.add(N,"ROOT"),z.selectNode(N.id),n&&o&&o()}};return(0,y.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" scroll-list",children:[U&&"material"===K&&(0,y.jsx)(x.A,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm sticky top-0 z-50"}),"all"===c?(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" categories-container",children:w?(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:(0,y.jsx)(j.A,{count:15})}):E.map(function(e){return(0,y.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" category-section",children:[(0,y.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" category-header",children:[(0,y.jsx)("h3",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]]),children:e.name}),(0,y.jsx)("button",{onClick:function(){return g(e.id)},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" view-more",children:"Xem th\xeam"})]}),(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:e.samples.map(function(t){return(0,y.jsx)("div",{onClick:function(){return Y(u.p,t.imgKey,t.id)},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" materialItem",children:(0,y.jsx)("img",{src:"svg"===e.type?"".concat(h.A.CDN_RESOURCE_URL,"/").concat(t.imgKey):"".concat(h.A.CDN_RESOURCE_URL,"/").concat(t.thumbnailKey),alt:"".concat(e.name," thumbnail"),ref:function(e){e&&(I.current[t.id]=e)},style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])})},t.id)})})]},e.id)})}):(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:w?(0,y.jsx)(j.A,{count:15}):O.map(function(e){return(0,y.jsx)("div",{ref:function(t){t&&B(t,(0,y.jsx)(u.p,{imgKey:e.imgKey}),{onCreate:function(t){var n=100,r=100,i=I.current[e.id];if(i){var o=i.naturalWidth,s=i.naturalHeight;n=o,r=s}var c=_.node("ROOT").get().data.nodes||[],l=0;c.length>0&&(l=Math.max.apply(Math,(0,a.A)(c.map(function(e){return _.node(e).get().data.props.zIndex||0}))));var d=Object.keys(t.nodes)[0];z.setProp(d,function(e){e.top=L.current||0,e.left=M.current||0,e.width=n,e.height=i?r:"auto",e.materialType=f,e.zIndex=0==l?0:l+1})}})},draggable:!0,onClick:function(){return Y(u.p,e.imgKey,e.id)},onDrag:G,className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" materialItem",children:(0,y.jsx)("img",{src:"svg"===f?"".concat(h.A.CDN_RESOURCE_URL,"/").concat(e.imgKey):"".concat(h.A.CDN_RESOURCE_URL,"/resources/").concat(c,"/thumbnail/").concat(e.id,".webp"),alt:"Material thumbnail",ref:function(t){t&&(I.current[e.id]=t)},style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])})},e.id)})}),(0,y.jsx)(s(),{id:"1126291226",dynamic:[n&&"all"!==c?"100px":"0"],children:[".categories-container.__jsx-style-dynamic-selector{padding:20px 0;}",".category-section.__jsx-style-dynamic-selector{margin-bottom:30px;}","@media screen and (max-width:768px){.category-section.__jsx-style-dynamic-selector:last-child{margin-bottom:50px;}}",".category-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px;padding:0 12px;}",".category-header.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{font-size:16px;font-weight:600;margin:0;}",".view-more.__jsx-style-dynamic-selector{color:#666;font-size:14px;-webkit-text-decoration:none;text-decoration:none;background:none;border:none;cursor:pointer;padding:0;}",".view-more.__jsx-style-dynamic-selector:hover{color:#1890ff;}",".materialItem.__jsx-style-dynamic-selector{text-align:center;padding:10px;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;cursor:pointer;margin:auto;}",".materialItem.__jsx-style-dynamic-selector:hover{background:rgba(0,0,0,0.1);}",".material-list-container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:".concat(n&&"all"!==c?"100px":"0",";padding:20px 10px 20px 12px;}")]}),(0,y.jsx)(s(),{id:"1357349454",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:100%;}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})};var w=n(45980),k=function(e){var t=e.mainCategories,n=e.subCategoryData,r=e.activeCategory,a=e.activeSubCategory,i=e.selectedSubCategoryLabel,o=e.onCategoryChange,c=e.onSubCategoryChange,l=n.map(function(e){var t=e.key,n=e.label;return{key:t,label:(0,y.jsx)("button",{className:"category-btn w-full text-left ".concat(r===t?"active":""),onClick:function(){return c(t,n)},children:n})}});return(0,y.jsxs)("div",{className:"jsx-3655831712 category-list",children:[(0,y.jsxs)("div",{className:"jsx-3655831712 main-categories",children:[t.map(function(e){return(0,y.jsx)("button",{onClick:function(){return o(e.key)},className:"jsx-3655831712 "+"category-btn ".concat(r===e.key?"active":""),children:e.label},e.key)}),(0,y.jsx)(w.A,{menu:{items:l},trigger:["click"],placement:"bottomLeft",overlayClassName:"subcategories-dropdown",children:(0,y.jsxs)("button",{className:"jsx-3655831712 "+"category-btn ".concat(a?"active":""),children:[i," ▼"]})})]}),(0,y.jsx)(s(),{id:"3655831712",children:[".category-list{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:12px;border-bottom:1px solid rgb(244,245,246);}",".main-categories,.sub-categories{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5px;}",".category-btn{padding:6px 12px;border-radius:16px;border:none;background-color:#f5f5f5;color:#333;font-size:14px;cursor:pointer;-webkit-transition:all 0.2s;transition:all 0.2s;}",".category-btn:hover{background-color:#e8e8e8;}",".category-btn.active{background-color:#e6f0ff;color:#1890ff;}",".subcategories-dropdown .ant-dropdown-menu{padding:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5px;width:280px;background:white;}",".subcategories-dropdown .ant-dropdown-menu-item{padding:0;margin:0;width:auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}",".subcategories-dropdown .ant-dropdown-menu-item:hover{background:transparent;}",".subcategories-dropdown .ant-dropdown-menu-item-only-child{padding:0 !important;margin:0 !important;background:transparent !important;white-space:normal !important;}",".subcategories-dropdown .category-btn{white-space:nowrap;text-align:left;padding:6px 12px;border-radius:16px;background-color:#f5f5f5;width:auto;}",".subcategories-dropdown .category-btn:hover{background-color:#e8e8e8;}",".ant-dropdown.subcategories-dropdown{-webkit-animation-duration:0.2s;animation-duration:0.2s;}",".subcategories-dropdown .category-btn.active{background-color:#e6f0ff;color:#1890ff;}"]})]})};let N=function(e){var t,n=e.isMobile,a=e.onClose,i=(0,r.useState)("all"),o=i[0],s=i[1],c=(0,r.useState)(null),l=c[0],d=c[1],u=(0,r.useState)("Xem th\xeam"),p=u[0],x=u[1],h=[{key:"textCombination",label:"Kết hợp chữ"},{key:"numbersAndLetters",label:"Số v\xe0 chữ c\xe1i"},{key:"decorativeElements",label:"Trang tr\xed kh\xf4ng gian"},{key:"birthdayWishes",label:"Ch\xfac mừng sinh nhật"},{key:"sun",label:"Mặt trời"},{key:"festivalHighlights",label:"Lễ hội nổi bật"},{key:"stars",label:"Ng\xf4i sao"},{key:"motherAndBaby",label:"Mẹ v\xe0 b\xe9"},{key:"flowchartIcons",label:"Biểu tượng lưu đồ"},{key:"map",label:"Bản đồ"},{key:"shapes",label:"H\xecnh dạng"},{key:"borders",label:"Khung viền"},{key:"dividers",label:"Đường ph\xe2n c\xe1ch"}],m=function(e){s(e),d(null),x("Xem th\xeam")},f=function(e,t){s(e),x(t),d(e)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(k,{mainCategories:[{key:"all",label:"Tất cả"},{key:"weddingElements",label:"Yếu tố đ\xe1m cưới"},{key:"characters",label:"Nh\xe2n vật"},{key:"bouquet",label:"Hoa cưới"},{key:"happiness",label:"Chữ hỷ"},{key:"love",label:"Tr\xe1i tim"}],subCategoryData:h,activeCategory:o,activeSubCategory:l,selectedSubCategoryLabel:p,onCategoryChange:m,onSubCategoryChange:f}),(0,y.jsx)(v,{isMobile:n,onClose:a,activeCategory:o,categoryType:null==(t=({weddingElements:{name:"Yếu tố đ\xe1m cưới",type:"img"},characters:{name:"Nh\xe2n vật",type:"img"},bouquet:{name:"Hoa cưới",type:"img"},happiness:{name:"Chữ hỷ",type:"img"},love:{name:"Tr\xe1i tim",type:"img"},textCombination:{name:"Kết hợp chữ",type:"img"},numbersAndLetters:{name:"Số v\xe0 chữ c\xe1i",type:"img"},decorativeElements:{name:"Trang tr\xed kh\xf4ng gian",type:"img"},birthdayWishes:{name:"Ch\xfac mừng sinh nhật",type:"img"},sun:{name:"Mặt trời",type:"img"},festivalHighlights:{name:"Lễ hội nổi bật",type:"img"},stars:{name:"Ng\xf4i sao",type:"img"},motherAndBaby:{name:"Mẹ v\xe0 b\xe9",type:"img"},flowchartIcons:{name:"Biểu tượng lưu đồ",type:"img"},map:{name:"Bản đồ",type:"img"},shapes:{name:"H\xecnh dạng",type:"svg"},borders:{name:"Khung viền",type:"svg"},dividers:{name:"Đường ph\xe2n c\xe1ch",type:"svg"}})[o])?void 0:t.type,onViewMore:function(e){var t=h.find(function(t){return t.key===e});t?f(e,t.label):m(e)}})]})}},74103:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(27002),a=n.n(r);n(14232);var i=n(37876);let o=function(e){var t=e.count;return(0,i.jsxs)(i.Fragment,{children:[Array(void 0===t?6:t).fill(0).map(function(e,t){return(0,i.jsx)("div",{className:"jsx-451164390 materialItem skeleton",children:(0,i.jsx)("div",{className:"jsx-451164390 skeleton-content"})},t)}),(0,i.jsx)(a(),{id:"451164390",children:[".materialItem.jsx-451164390{aspect-ratio:1;border-radius:4px;}",".skeleton.jsx-451164390{background:#f4f5f6;position:relative;overflow:hidden;width:100%;height:100%;min-height:85px;}",".skeleton-content.jsx-451164390{height:100%;width:100%;background:linear-gradient( 90deg, rgba(255,255,255,0) 0, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100% );-webkit-animation:shimmer-jsx-451164390 1.5s infinite;animation:shimmer-jsx-451164390 1.5s infinite;position:absolute;top:0;left:0;}","@-webkit-keyframes shimmer-jsx-451164390{0%{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}100%{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}}","@keyframes shimmer-jsx-451164390{0%{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}100%{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}}"]})]})}},79003:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(14232),a=n(35071),i=n(45980),o=n(83240),s=n(63761),c=n(9542),l=n(83155),d=n(47873),u=n(14901),p=n(30751),x=n(37876);let h=function(e){var t=e.showText,n=void 0!==t&&t,h=e.size,m=e.onShowBackups,f=(0,p.D)(),g=f.status,b=f.setAutoSaveEnabled;(0,r.useEffect)(function(){var e=localStorage.getItem("editor_auto_save_enabled");null!==e&&b("true"===e)},[]);var j=function(){return g.autoSaveEnabled?g.isSaving?"blue":g.lastError?"red":g.hasUnsavedChanges?"orange":"green":"gray"},y=[{key:"view-backups",label:"C\xe0i đặt",icon:(0,x.jsx)(u.A,{}),onClick:m},{type:"divider"},{key:"auto-save-status",label:(0,x.jsxs)("div",{className:"text-xs text-gray-500",children:["Auto-save: ",g.autoSaveEnabled?"Bật":"Tắt"]}),disabled:!0}],v=(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(a.A,{status:j(),dot:!n,children:g.autoSaveEnabled?g.isSaving?(0,x.jsx)(c.A,{spin:!0,className:"text-blue-500"}):g.lastError?(0,x.jsx)(l.A,{className:"text-red-500"}):g.hasUnsavedChanges?(0,x.jsx)(s.A,{className:"text-orange-500"}):(0,x.jsx)(d.A,{className:"text-green-500"}):(0,x.jsx)(s.A,{className:"text-orange-500"})}),n&&(0,x.jsx)("span",{className:"text-".concat(j(),"-600 text-sm"),children:g.autoSaveEnabled?g.isSaving?"Đang lưu thay đổi...":g.lastError?"".concat(g.lastError):g.hasUnsavedChanges?"C\xf3 thay đổi chưa lưu":g.lastSaved?"Đ\xe3 lưu thay đổi":"Tự động lưu: Bật":"Tự động lưu: Tắt"})]});return m?(0,x.jsx)(i.A,{menu:{items:y},placement:"bottomRight",trigger:["click"],children:(0,x.jsx)(o.Ay,{type:"text",size:void 0===h?"small":h,className:"flex items-center gap-2",children:v})}):v}},79298:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>f});var r=n(42969),a=n(27002),i=n.n(a),o=n(14232),s=n(50679),c=n(48365),l=n(66125),d=n(40673),u=n(62436),p=n(69486),x=n(37876);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m=function(e){return(!e?[]:Object.keys(e).filter(function(t){var n,r=e[t];return(null==r||null==(n=r.data)||null==(n=n.props)?void 0:n.isReplaceable)===!0}).map(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:t},e[t])})).map(function(e){var t,n,r,a;return{id:e.id,props:(null==e||null==(t=e.data)?void 0:t.props)||{},displayName:(null==e||null==(n=e.data)?void 0:n.displayName)||"",name:(null==e||null==(r=e.data)?void 0:r.name)||"",imgKey:(null==e||null==(a=e.data)||null==(a=a.props)?void 0:a.imgKey)||""}})};let f=function(){var e=(0,l.hG)(function(e){return{nodes:e.nodes}}),t=e.nodes,n=e.actions,r=(0,u.c3)(),a=r.activeKey,h=r.setActiveKey,f=(0,u.wL)(),g=f.setReplacing,b=f.setReplaceType,j=f.setSelectedNodeId,y=f.setMultipleReplace,v=(0,o.useState)([]),w=v[0],k=v[1];(0,o.useEffect)(function(){k(m(t))},[t]);var N=(0,o.useState)(!0),A=N[0],C=N[1],S=(0,o.useState)(!1),O=S[0],T=S[1],D=(0,o.useState)(!0),E=D[0],R=D[1],I=(0,o.useRef)(null),P=function(){var e=I.current;if(e){T(e.scrollLeft>10);var t=e.scrollWidth-e.clientWidth;R(!(10>Math.abs(e.scrollLeft-t)))}};(0,o.useEffect)(function(){var e=I.current;return e&&(e.addEventListener("scroll",P),P(),window.addEventListener("resize",P)),function(){e&&(e.removeEventListener("scroll",P),window.removeEventListener("resize",P))}},[]);var B=function(e){var t=I.current;if(t){var n=t.scrollLeft;t.scrollTo({left:"left"===e?n-300:n+300,behavior:"smooth"})}},z=function(e){y(!0),a!==p.hW.PHOTO&&h(p.hW.PHOTO),g(!0),b("photo"),j(e.id),n.selectNode(e.id);var t=document.querySelector('[data-node-id="'.concat(e.id,'"]'));t&&t.scrollIntoView({behavior:"smooth",block:"center"})};return 0===w.length?null:(0,x.jsxs)("div",{style:{zIndex:999999},className:"jsx-2703593113",children:[(0,x.jsxs)("div",{id:"main-center-replace",style:{left:a?"420px":"120px"},className:"jsx-2703593113 "+((A?"active":"")||""),children:[(0,x.jsxs)("div",{onClick:function(){C(!A)},className:"jsx-2703593113 switch-btn",children:[(0,x.jsx)("span",{className:"jsx-2703593113",children:"Thay ảnh nhanh"}),(0,x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAbJJREFUOE+t1LtOwzAUBuD/gEgRVQczMDGx8gS8ABcxUIYWJKYOTUg33qA7I0ObZKioYEAZuAiJywPwDmxMHZBQihAqSdUauWpCcN0kSHiK7OTLb5+TEP55UOjZtr06GAw+TdN8+cs7HMdZ7vf7+Vqt9iyeG4Htdjvf6/XeAAREtKnr+lMWtNlsrhHRA4AZxthiuVwOooSWZd0C2AbwkQWNYQUAN4Zh7EQJxUWr1Zr3ff+KiDbS0DjGOX/I5XLFSqXy9QvMikrJHjVN2wmxCTBEgyC4BrAuJ03DlOA0dDgc8nEBxJlNJAuLGBVFrqo403jS8XoiFiWs1+sznU7nlHPudbvdI9d1B4qkYupXslKpNMsYOwZQsG27GoG6ri8AeAWQB3Dhed6BhJ4AmNM07TAswBg7B7AH4N3zvCXXdX/60DCMTc75FYCcjMrHIWE+ERUty7qfKEoWNAlTVrlarW4R0aUq6Rg7A7APwOec7zqOcxffgbLKKlQ8xBhLxKb2oViQUQA8KVlqHypQMaXcZuqW4zfEkkJ1ZnIHTP1S4jeaprki+rDRaIx+okkjE5iGxNe/AdSZCySeFHCqAAAAAElFTkSuQmCC",alt:"",className:"jsx-2703593113 "+((A?"":"rotate")||"")})]}),(0,x.jsx)("div",{ref:I,className:"jsx-2703593113 scroll-block",children:w.map(function(e,t){return(0,x.jsxs)("div",{onClick:function(){return z(e)},className:"jsx-2703593113 img-replace",children:[(0,x.jsx)("img",{src:(0,d.T_)(e.imgKey),alt:"Cinelove ".concat(e.displayName||""),className:"jsx-2703593113"}),(0,x.jsx)("div",{className:"jsx-2703593113 shade",children:(0,x.jsx)(c.fOK,{size:20,color:"#f5f5f5"})})]},t)})}),O&&(0,x.jsx)("div",{onClick:function(){return B("left")},className:"jsx-2703593113 left-arrows",children:(0,x.jsx)(s.ed2,{size:20})}),E&&(0,x.jsx)("div",{onClick:function(){return B("right")},className:"jsx-2703593113 right-arrows",children:(0,x.jsx)(s.FDZ,{size:20})})]}),(0,x.jsx)(i(),{id:"2703593113",children:["#main-center-replace.jsx-2703593113{position:fixed;right:370px;left:310px;height:90px;bottom:-90px;background-color:#fff;z-index:100;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;box-shadow:0 0 2px 0 rgba(0,0,0,0.08), 0 4px 12px 0 rgba(0,0,0,0.04);}","#main-center-replace.active.jsx-2703593113{bottom:10px;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:10px;overflow-x:auto;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;-ms-overflow-style:none;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113{width:70px;height:70px;border-radius:4px;outline:1px solid #e4e4e4;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:none;-ms-flex:none;flex:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;position:relative;cursor:pointer;background-color:#f2f2f2;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113 img.jsx-2703593113{max-width:100%;max-height:100%;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113 .shade.jsx-2703593113{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0.2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;top:0;left:0;}",".right-arrows.jsx-2703593113{right:10px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".left-arrows.jsx-2703593113{left:10px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".left-arrows.jsx-2703593113:hover,.right-arrows.jsx-2703593113:hover{background-color:#f5f5f5;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113{width:130px;height:36px;background:#fff;border-radius:4px;position:absolute;left:0;top:-46px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;box-shadow:0 0 2px 0 rgba(0,0,0,0.08), 0 4px 12px 0 rgba(0,0,0,0.04);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 img.rotate.jsx-2703593113{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 img.jsx-2703593113{width:10px;height:10px;margin-left:4px;}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 span.jsx-2703593113{font-size:14px;color:#333;}","#main-center-replace.jsx-2703593113 .left-arrows.jsx-2703593113{position:absolute;width:32px;height:32px;left:10px;top:29px;background-color:#fff;border-radius:50%;box-shadow:0 0 4px 0 rgba(0,0,0,0.1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;}","#main-center-replace.jsx-2703593113 .right-arrows.jsx-2703593113{position:absolute;width:32px;height:32px;right:10px;top:29px;background-color:#fff;border-radius:50%;box-shadow:0 0 4px 0 rgba(0,0,0,0.1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;}"]})]})}},80724:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(63857),a=n(43081),i=n.n(a),o=n(14232),s=n(73301),c=n(50253),l=n(85351),d=n(80878),u=n(83240),p=n(77800),x=n(45503),h=n(29916),m=n(38365),f=n(70278),g=n(63761),b=n(30751),j=n(17292),y=n(89559),v=n(3539),w=n(47139),k=n(8937),N=n(64232),A=n(37876);let C=function(e){var t,n,a=e.visible,C=e.onClose,S=e.onRestore,O=(0,o.useState)([]),T=O[0],D=O[1],E=(0,o.useState)(!1),R=E[0],I=E[1],P=(0,o.useState)(!1),B=P[0],z=P[1],_=(0,o.useState)(null),F=_[0],L=_[1],M=(0,o.useState)(!1),H=M[0],U=M[1];(0,o.useEffect)(function(){window.innerWidth<768&&U(!0)},[]);var K=(0,b.D)(),W=K.getAllBackupKeys,X=K.getBackupData,G=K.removeBackup,Y=K.status,q=K.setAutoSaveEnabled;(0,o.useEffect)(function(){a&&V()},[a]);var V=function(){try{I(!0);var e=W().map(function(e){var t,n=X(e);return{key:e,timestamp:(null==n?void 0:n.timestamp)||0,isTemplate:(null==n?void 0:n.isTemplate)||!1,pageId:null==n?void 0:n.pageId,preview:(null==n||null==(t=n.settings)?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề"}}).sort(function(e,t){return t.timestamp-e.timestamp});D(e)}catch(e){console.error("Error loading backups:",e),s.Ay.error("Kh\xf4ng thể tải danh s\xe1ch backup")}finally{I(!1)}},Q=(t=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=X(t.key))&&S?(S(n),C()):s.Ay.error("Kh\xf4ng thể kh\xf4i phục backup")}catch(e){console.error("Error restoring backup:",e),s.Ay.error("Lỗi khi kh\xf4i phục backup")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),Z=(n=(0,r.A)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=X(t.key))?(L(n),z(!0)):s.Ay.error("Kh\xf4ng thể xem trước backup")}catch(e){console.error("Error previewing backup:",e),s.Ay.error("Lỗi khi xem trước backup")}case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),J=function(e){try{G(e.key),s.Ay.success("Đ\xe3 x\xf3a backup"),V()}catch(e){console.error("Error deleting backup:",e),s.Ay.error("Kh\xf4ng thể x\xf3a backup")}};return(0,A.jsxs)(x.A,{title:"Quản l\xfd bản sao lưu",open:a,onCancel:C,width:700,footer:[(0,A.jsx)(u.Ay,{onClick:V,loading:R,children:"L\xe0m mới"},"refresh"),(0,A.jsx)(u.Ay,{onClick:C,children:"Đ\xf3ng"},"close")],children:[(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{className:"space-y-3",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-3 rounded-lg",children:[(0,A.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,A.jsx)("div",{className:"font-medium",children:"⚙️ C\xe0i đặt tự động lưu"}),(0,A.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:Y.autoSaveEnabled?"Đang bật (30 gi\xe2y/lần)":"Đ\xe3 tắt"})]}),(0,A.jsx)(u.Ay,{type:Y.autoSaveEnabled?"primary":"default",size:"small",onClick:function(){return q(!Y.autoSaveEnabled)},children:Y.autoSaveEnabled?"Tắt":"Bật"})]}),(0,A.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,A.jsx)("div",{className:"font-medium mb-1",children:"\uD83D\uDCA1 Th\xf4ng tin về bản sao lưu:"}),(0,A.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[(0,A.jsxs)("li",{children:[(0,A.jsx)("strong",{children:"Tự động:"})," Hệ thống tự động lưu & sao lưu mỗi 30 gi\xe2y ",!Y.autoSaveEnabled&&"(đ\xe3 tắt)"]}),(0,A.jsxs)("li",{children:[(0,A.jsx)("strong",{children:"Lưu trữ:"})," Chỉ giữ lại 3 bản sao lưu gần nhất"]}),(0,A.jsxs)("li",{children:[(0,A.jsx)("strong",{children:"Dọn dẹp:"})," C\xe1c bản sao lưu cũ hơn 7 ng\xe0y sẽ bị x\xf3a"]})]})]})]}),0===T.length?(0,A.jsx)(h.A,{description:"Kh\xf4ng c\xf3 backup n\xe0o",image:h.A.PRESENTED_IMAGE_SIMPLE}):(0,A.jsx)(l.A,{dataSource:T,renderItem:function(e){var t=Date.now()-e.timestamp>864e5;return(0,A.jsx)(l.A.Item,{className:"".concat(t?"opacity-60":""," hover:bg-gray-50 transition-colors"),actions:[(0,A.jsx)(d.A,{title:"Xem trước",children:(0,A.jsx)(u.Ay,{type:"text",icon:(0,A.jsx)(k.whC,{}),onClick:function(){return Z(e)},className:"text-gray-600 hover:text-gray-800"})}),(0,A.jsx)(d.A,{title:"Kh\xf4i phục backup n\xe0y",children:(0,A.jsx)(u.Ay,{type:"text",icon:(0,A.jsx)(w.U3K,{}),onClick:function(){return Q(e)},className:"text-blue-600 hover:text-blue-800"})}),(0,A.jsx)(p.A,{title:"X\xf3a backup n\xe0y?",description:"H\xe0nh động n\xe0y kh\xf4ng thể ho\xe0n t\xe1c.",onConfirm:function(){return J(e)},okText:"X\xf3a",cancelText:"Hủy",okType:"danger",children:(0,A.jsx)(d.A,{title:"X\xf3a backup",children:(0,A.jsx)(u.Ay,{type:"text",icon:(0,A.jsx)(m.A,{}),className:"text-red-600 hover:text-red-800"})})})],children:(0,A.jsx)(l.A.Item.Meta,{avatar:(0,A.jsx)(f.A,{className:"text-2xl text-gray-400"}),title:(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"font-medium truncate max-w-xs",children:e.preview}),e.isTemplate?(0,A.jsx)(c.A,{color:"blue",children:"Template"}):e.pageId?(0,A.jsx)(c.A,{color:"green",children:"Trang c\xf3 sẵn"}):(0,A.jsx)(c.A,{color:"orange",children:"Trang mới"})]}),description:(0,A.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,A.jsxs)("div",{className:"flex items-center gap-1",children:[(0,A.jsx)(g.A,{}),(0,A.jsx)("span",{children:(0,j.m)(new Date(e.timestamp),{addSuffix:!0,locale:v.vi})}),!H&&(0,A.jsxs)("span",{className:"text-gray-400",children:["(",(0,y.GP)(new Date(e.timestamp),"dd/MM/yyyy HH:mm",{locale:v.vi}),")"]})]}),e.pageId&&!H&&(0,A.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.pageId]})]})})},e.key)},className:"max-h-96 overflow-y-auto",loading:R}),T.length>0&&(0,A.jsxs)("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:["Hiển thị ",T.length," bản sao lưu"]})]}),B&&F&&(0,A.jsx)(N.A,{visible:B,onClose:function(){return z(!1)},backupData:F,isMobile:H})]})}},81495:(e,t,n)=>{"use strict";n.d(t,{$E:()=>d,fV:()=>s,fu:()=>c});var r=n(42969),a=n(8106);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={enabled:!0,components:{comments:!0,gifts:!0,likes:!0,qrCode:!0}},c={COMMENTS:"comments",GIFTS:"gifts",LIKES:"likes",QR_CODE:"qrCode"},l={title:"",description:"",thumbnailKey:"",status:"published",showBottomToolbar:s,qrBankAccounts:[],hideWatermark:!1,categoryId:null,openingEffect:null,snowflakeEffect:null,showInGallery:!0,autoScroll:{enabled:!0,speed:.06}},d=(0,a.v)(function(e){return{settings:o({},l),setTitle:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{title:t})}})},setThumbnail:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{thumbnailKey:t})}})},setDescription:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{description:t})}})},setStatus:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{status:t})}})},setShowBottomToolbar:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{showBottomToolbar:t})}})},setBottomToolbarComponent:function(t,n){return e(function(e){var a=e.settings.showBottomToolbar;return"boolean"==typeof a?{settings:o(o({},e.settings),{},{showBottomToolbar:{enabled:a,components:(0,r.A)({comments:!0,gifts:!0,likes:!0,qrCode:!0},t,n)}})}:{settings:o(o({},e.settings),{},{showBottomToolbar:o(o({},a),{},{components:o(o({},a.components),{},(0,r.A)({},t,n))})})}})},setQRBankAccounts:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{qrBankAccounts:t})}})},setHideWatermark:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{hideWatermark:t})}})},setCategoryId:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{categoryId:t})}})},setOpeningEffect:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{openingEffect:t})}})},setSnowflakeEffect:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{snowflakeEffect:t})}})},setShowInGallery:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{showInGallery:t})}})},setAutoScroll:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{autoScroll:t})}})},resetSettings:function(){return e({settings:o({},l)})}}})},82545:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var r=n(63857),a=n(67251),i=n(23745),o=n(43081),s=n.n(o),c=n(51695),l=function(){var e,t;return(0,i.A)(function e(){(0,a.A)(this,e)},null,[{key:"removeBackground",value:(e=(0,r.A)(s().mark(function e(t){var n,r,a,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.A.post("/background-removal",{imgKey:t},{timeout:12e4});case 3:return n=e.sent,e.abrupt("return",{success:n.data.success,data:n.data.data,message:n.data.message,error:n.data.error});case 7:if(e.prev=7,e.t0=e.catch(0),console.error("Error removing background:",e.t0),!("ECONNABORTED"===e.t0.code||null!=(r=e.t0.message)&&r.includes("timeout"))){e.next=12;break}return e.abrupt("return",{success:!1,error:"Qu\xe1 tr\xecnh x\xf3a nền đang mất nhiều thời gian. Vui l\xf2ng thử lại sau."});case 12:if((null==(a=e.t0.response)?void 0:a.status)!==504){e.next=14;break}return e.abrupt("return",{success:!1,error:"Server timeout - Qu\xe1 tr\xecnh x\xf3a nền đang mất nhiều thời gian. Vui l\xf2ng thử lại sau."});case 14:return e.abrupt("return",{success:!1,error:(null==(i=e.t0.response)||null==(i=i.data)?void 0:i.message)||e.t0.message||"Unknown error occurred"});case 15:case"end":return e.stop()}},e,null,[[0,7]])})),function(t){return e.apply(this,arguments)})},{key:"getCredits",value:(t=(0,r.A)(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.A.get("/background-removal/credits");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error getting credits:",e.t0),e.abrupt("return",{hasCredits:!1,totalCredits:0,usedCredits:0,remainingCredits:0,plan:"free",message:"Kh\xf4ng thể lấy th\xf4ng tin credit"});case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)})},{key:"isServiceAvailable",value:function(){return!0}},{key:"getServiceInfo",value:function(){return{name:"Background Removal Service",available:this.isServiceAvailable()}}}])}()},82599:(e,t,n)=>{"use strict";n.d(t,{YA:()=>ej,cZ:()=>eL,fh:()=>E,rk:()=>p.r});var r,a,i=n(62436),o=n(66125),s=n(14232),c=n(69486),l=n(82860),d=n(67548),u=n(37876),p=n(59271),x=function(){var e=(0,o.hG)(function(e,t){var n=t.getEvent("selected").first();return{active:n,related:n&&e.nodes[n].related}}),t=e.active,n=e.related,r=(0,i.c3)(),a=r.activeKey,p=r.setActiveKey;return(0,s.useEffect)(function(){null!=n&&n.toolbar&&(a===c.hW.MUSIC||a===c.hW.EFFECT)&&p(null)},[n]),(0,u.jsxs)("div",{className:"py-1 h-full",children:[t&&n.toolbar&&s.createElement(n.toolbar),a===c.hW.MUSIC&&!(null!=n&&n.toolbar)&&(0,u.jsx)(l.A,{}),(!t||"ROOT"===t)&&a!==c.hW.MUSIC&&(0,u.jsx)(d.A,{})]})},h=n(44478),m=n(42969),f=n(32228),g=n(98477),b=n(80427),j=n(29979),y=n(80878),v=n(45980),w=n(45503),k=n(80645),N=n(99087),A=n(48365),C=n(70252),S=n(10553);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var T=b.I4.div(r||(r=(0,f.A)(["\n  height: 36px;\n  margin-top: -30px;\n  font-size: 12px;\n  line-height: 12px;\n  background-color: white;\n  border-radius: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  gap: 5px;\n\n  svg {\n    width: 18px;\n    height: 18px;\n    color: #333;\n  }\n\n  &.locked {\n    background-color: #f8f8f8;\n    border: 1px solid #e8e8e8;\n\n    svg {\n      color: #999;\n    }\n  }\n"]))),D=b.I4.a(a||(a=(0,f.A)(["\n  padding: 6px;\n  opacity: 0.9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n\n  &.disabled {\n    opacity: 0.5;\n    pointer-events: none;\n    cursor: not-allowed;\n  }\n\n  > div {\n    position: relative;\n    top: -50%;\n    left: -50%;\n  }\n"]))),E=function(e){var t,n=e.render,r=(0,o.oB)().id,a=(0,o.hG)(function(e,t){return{isActive:t.getEvent("selected").contains(r)}}),i=a.actions,c=a.query,l=a.isActive,d=(0,S.useSession)().data,p=(null==d||null==(t=d.user)?void 0:t.plan)||"free",x=(0,o.oB)(function(e){return{isHover:e.events.hovered,dom:e.dom,name:e.data.custom.name||e.data.name,moveable:c.node(e.id).isDraggable(),deletable:c.node(e.id).isDeletable(),parent:e.data.parent,props:e.data.props}}),f=x.isHover,b=x.dom,E=x.name,R=(x.moveable,x.deletable),I=(x.connectors.drag,x.parent),P=x.props,B=(0,s.useRef)(null);(0,s.useEffect)(function(){b&&(f&&!l?b.classList.add("component-hovered"):b.classList.remove("component-hovered"),l?b.classList.add("component-selected"):b.classList.remove("component-selected"),P&&P.locked?b.classList.add("component-locked"):b.classList.remove("component-locked"))},[b,l,f,P]);var z=(0,s.useCallback)(function(e){var t=e?e.getBoundingClientRect():{top:0,left:0,bottom:0,width:200},n=t.top,r=t.left,a=t.bottom;return{top:n>60?n-25:a,left:r+t.width/2-60}},[]);(0,s.useEffect)(function(){var e=B.current;if(e&&b){var t=z(b),n=t.top,r=t.left;e.style.top="".concat(n,"px"),e.style.left="".concat(r,"px")}},[c.node(r).get().data.props]);var _=(0,s.useCallback)(function(){var e=B.current;if(e){var t=z(b),n=t.top,r=t.left;e.style.top="".concat(n,"px"),e.style.left="".concat(r,"px")}},[b,z]);(0,s.useEffect)(function(){var e;return null==(e=document.querySelector(".page-builder-renderer"))||e.addEventListener("scroll",_),function(){var e;null==(e=document.querySelector(".page-builder-renderer"))||e.removeEventListener("scroll",_)}},[_]),(0,j.vC)("delete, backspace",function(e){e.preventDefault(),l&&"ROOT"!==r&&!(P&&P.locked)&&i.delete(r)},[l,r,i,P]);var F=(0,s.useState)(!1),L=F[0],M=F[1],H=(0,s.useState)(!1),U=H[0],K=H[1],W=(0,s.useState)(0),X=(W[0],W[1]),G=(0,s.useState)(!1),Y=G[0],q=G[1],V=(0,s.useState)(0),Q=V[0],Z=V[1];(0,s.useEffect)(function(){P&&K(!!P.locked)},[P]),(0,s.useEffect)(function(){if(L){var e=c.node(r).get().data.props.zIndex||0;X(e),Z(e)}},[L,r,c]);var J=P&&P.locked,$=("UnifiedMap"===E||"PluginMap"===E||"PluginSimpleMap"===E)&&"free"===p;return(0,u.jsxs)(u.Fragment,{children:[l&&"ROOT"!==r?g.createPortal((0,u.jsxs)(T,{ref:B,id:"floating-toolbar",className:J?"locked":"",style:{left:z(b).left,top:z(b).top,position:"fixed",zIndex:9999,width:120},children:[(0,u.jsx)(y.A,{title:J?"Phần tử đ\xe3 bị kh\xf3a":"Tạo bản sao",placement:"top",children:(0,u.jsx)(D,{className:"cursor-pointer ".concat(J||$?"disabled":""),onMouseDown:function(e){if(e.stopPropagation(),!J&&!$){var t=c.node(r).get().data,n=t.type,a=t.props,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,m.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a);o.zIndex&&(o.zIndex+=1),("absolute"===a.position||a.top||a.left)&&(void 0!==a.top&&(o.top=a.top+15),void 0!==a.left&&(o.left=a.left+15));var l=c.createNode(s.createElement(n,o));i.add(l,"ROOT"),i.selectNode(l.id)}},children:(0,u.jsx)(C.RQU,{})})}),R?(0,u.jsx)(y.A,{title:J?"Phần tử đ\xe3 bị kh\xf3a":"X\xf3a phần tử",placement:"top",children:(0,u.jsx)(D,{className:"cursor-pointer ".concat(J?"disabled":""),onMouseDown:function(e){e.stopPropagation(),J||"ROOT"!==r&&i.delete(r)},children:(0,u.jsx)(N.IXo,{})})}):null,(0,u.jsx)(v.A,{open:L,onOpenChange:M,menu:{items:[{key:"1",label:"Đưa l\xean tr\xean c\xf9ng",icon:(0,u.jsx)(A.jT,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(I).get().data.nodes||[],n=Math.max.apply(Math,(0,h.A)(t.map(function(e){return c.node(e).get().data.props.zIndex||0})));i.setProp(r,function(e){e.zIndex=n+1})}}},{key:"2",label:"Đưa xuống dưới c\xf9ng",icon:(0,u.jsx)(A.ZUk,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(I).get().data.nodes||[],n=Math.min.apply(Math,(0,h.A)(t.map(function(e){return c.node(e).get().data.props.zIndex||0})));i.setProp(r,function(e){e.zIndex=n-1})}}},{key:"3",label:"Đưa l\xean một lớp",icon:(0,u.jsx)(A.Ob1,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(r).get().data.props.zIndex||0;i.setProp(r,function(e){e.zIndex=t+1})}}},{key:"4",label:"Đưa xuống một lớp",icon:(0,u.jsx)(A.D_L,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(r).get().data.props.zIndex||0;i.setProp(r,function(e){e.zIndex=Math.max(0,t-1)})}}},{key:"5",label:U?"Mở kh\xf3a vị tr\xed":"Kh\xf3a vị tr\xed",icon:U?(0,u.jsx)(N.K4k,{}):(0,u.jsx)(N.F5$,{}),onClick:function(e){e.domEvent.stopPropagation(),i.setProp(r,function(e){e.locked=!e.locked,K(!U)})}}]},trigger:["click"],children:(0,u.jsx)(y.A,{title:"Xem th\xeam",placement:"top",children:(0,u.jsx)(D,{className:"cursor-pointer",onClick:function(e){e.stopPropagation(),M(!L)},children:(0,u.jsx)(N.$Ri,{})})})})]}),document.querySelector(".page-container")):null,(0,u.jsxs)(w.A,{title:"Nhập gi\xe1 trị z-index",open:Y,onOk:function(){J||(i.setProp(r,function(e){e.zIndex=Q}),q(!1),X(Q))},onCancel:function(){return q(!1)},destroyOnHidden:!0,children:[(0,u.jsx)("p",{children:"Nhập gi\xe1 trị z-index cho phần tử:"}),(0,u.jsx)(k.A,{min:-1e3,max:1e3,value:Q,onChange:function(e){return Z(e||0)},style:{width:"100%",marginTop:"10px"}})]}),n]})},R=n(27002),I=n.n(R),P=n(15039),B=n.n(P),z=n(51495),_=n(56296),F=z.A.Sider,L=function(){var e=(0,o.hG)(function(e){return{enabled:e.options.enabled}}).enabled,t=(0,s.useState)(350),n=t[0],r=t[1];return(0,s.useEffect)(function(){var e=function(){var e;null!=(e=window)&&e.innerWidth&&window.innerWidth<860?r(300):r(350)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,u.jsx)(F,{width:n,style:{background:"#fff",transition:"margin-right 0.3s",marginRight:e?0:-n,opacity:+!!e},children:(0,u.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",padding:"16px"},children:[(0,u.jsxs)("div",{className:"flex items-center mb-4",children:[(0,u.jsx)(_.h06,{style:{marginRight:10}}),(0,u.jsx)("span",{className:"font-medium",children:"Tuỳ chỉnh"})]}),(0,u.jsx)("div",{className:"flex-1 overflow-auto",children:(0,u.jsx)(x,{})})]})})},M=n(68823),H=n(63857),U=n(43081),K=n.n(U),W=n(81589),X=n(32217),G=n(6975),Y=n(83240),q=n(27266),V=n(32723),Q=n(50679),Z=n(8937),J=n(65494),$=n(51695),ee=n(73301),et=n(1985),en=n(81363),er=n(81495),ea=n(27036),ei=n(733),eo=n(97967),es=n(47158),ec=n(77750),el=n(79003),ed=n(80724);let eu=function(e){var t,n,r,a,c,l,d=e.pageId,p=e.mobileView,x=e.isTemplate,h=e.canCreate,m=void 0===h||h,f=(0,o.hG)(function(e,t){return{enabled:e.options.enabled,canUndo:t.history.canUndo(),canRedo:t.history.canRedo()}}),g=f.enabled,b=f.canUndo,v=f.canRedo,w=f.actions,k=f.query,N=(0,s.useState)(!1),A=N[0],C=N[1],O=(0,s.useState)(!1),T=O[0],D=O[1],E=(0,s.useState)(!1),R=E[0],P=E[1],B=(0,s.useState)(!1),z=B[0],_=B[1],F=(0,s.useState)(!1),L=F[0],M=F[1],U=(0,s.useState)(!1),eu=U[0],ep=U[1],ex=(0,s.useState)([]),eh=ex[0],em=ex[1],ef=(0,en.V)(),eg=ef.icon,eb=ef.iconColor,ej=ef.currentMusic,ey=(0,er.$E)(),ev=ey.settings,ew=ey.resetSettings,ek=ey.setTitle,eN=ey.setThumbnail,eA=ey.setStatus,eC=ey.setShowBottomToolbar,eS=ey.setQRBankAccounts,eO=ey.setHideWatermark,eT=ey.setCategoryId,eD=ey.setOpeningEffect,eE=ey.setSnowflakeEffect,eR=ey.setShowInGallery,eI=ey.setAutoScroll,eP=(0,i.c3)().setActiveKey,eB=(0,i.D2)().cleanOldBackups,ez=d&&!x,e_=(0,ei.bi)(),eF=e_.pageData,eL=e_.templateType,eM=(0,S.useSession)().data,eH=(0,i.D2)(),eU=eH.setLastSaved,eK=eH.setLastError;(0,s.useEffect)(function(){var e=function(){var e;null!=(e=window)&&e.innerWidth&&window.innerWidth<860?ep(!1):ep(!0)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(function(){eF?(ek(eF.pageName),eN(eF.thumbnailKey),eA(eF.status||"published"),void 0!==eF.showBottomToolbar?eC(eF.showBottomToolbar):eC(er.fV),eF.qrBankAccounts&&eS(eF.qrBankAccounts),void 0!==eF.hideWatermark&&eO(eF.hideWatermark),eF.categoryId&&eT(eF.categoryId),null!=eF&&eF.openingEffect&&eD(eF.openingEffect),null!=eF&&eF.snowflakeEffect&&eE(eF.snowflakeEffect),(null==eF?void 0:eF.showInGallery)!==void 0&&eR(eF.showInGallery),null!=eF&&eF.autoScroll&&eI(eF.autoScroll)):ew()},[eF]),(0,j.vC)("mod+z",function(e){e.preventDefault(),b&&w.history.undo()},{enableOnFormTags:!0}),(0,j.vC)(["mod+shift+z","mod+y"],function(e){e.preventDefault(),v&&w.history.redo()},{enableOnFormTags:!0}),(0,j.vC)("mod+s",function(e){e.preventDefault(),eW()},{enableOnFormTags:!0});var eW=(t=(0,H.A)(K().mark(function e(){var t,n,r;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!m&&!ez)){e.next=3;break}return ee.Ay.error("Kh\xf4ng thể tạo trang mới"),e.abrupt("return");case 3:if(!(!ev.categoryId&&!x)){e.next=8;break}return w.selectNode(null),eP(null),ee.Ay.error("Vui l\xf2ng chọn danh mục trước khi xuất bản"),e.abrupt("return");case 8:if(n=(null==eM||null==(t=eM.user)?void 0:t.plan)||"free",r=eX(),!(eL&&("premium"===eL&&"premium"!==n||"basic"===eL&&"free"===n))){e.next=13;break}return e.abrupt("return");case 13:if(!(r.length>0&&"free"===n)){e.next=17;break}return em(r),P(!0),e.abrupt("return");case 17:if(!("basic"===n&&r.some(function(e){return e.isPremium}))){e.next=21;break}return em(r.filter(function(e){return e.isPremium})),P(!0),e.abrupt("return");case 21:return e.next=23,eG();case 23:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),eX=function(){var e,t,n=k.getNodes(),r=[],a=(null==eM||null==(e=eM.user)?void 0:e.plan)||"free";if(eL&&("premium"===eL&&"premium"!==a||"basic"===eL&&"free"===a))return P(!0),[];ev.openingEffect&&r.push({displayName:"Hiệu ứng mở m\xe0n",isPremium:!1}),null!=(t=ev.snowflakeEffect)&&t.enabled&&r.push({displayName:"Hiệu ứng thả rơi",isPremium:!1}),Object.values(n).forEach(function(e){var t,n,a,i;null!=(t=e.data)&&null!=(t=t.props)&&null!=(t=t.transition)&&t.effectEnabled&&!r.some(function(e){return"Hiệu ứng chuyển động"===e.displayName})&&r.push({displayName:"Hiệu ứng chuyển động",isPremium:!1}),(null==(n=e.data)?void 0:n.name)!=="PluginAnimatedEnvelope"||r.some(function(e){return"Hiệu ứng phong b\xec thư"===e.displayName})||r.push({displayName:"Hiệu ứng phong b\xec thư",isPremium:!1}),null!=(a=e.data)&&null!=(a=a.props)&&a.isAdvanced&&r.push({displayName:e.data.displayName||"T\xednh năng n\xe2ng cao",nodeId:e.id,isPremium:null==(i=e.data.props)?void 0:i.isPremium})});var i=r;return"basic"===a&&(i=i.filter(function(e){return e.isPremium})),i},eG=(n=(0,H.A)(K().mark(function e(){var t,n,r,a,i,o,s;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),n=ez?"/pages/update":"/pages/add",r=k.serialize(),a=(null==eM||null==(t=eM.user)?void 0:t.email)||"",i=(0,J.wY)(r,ev,{fileKey:null==ej?void 0:ej.fileKey,icon:eg,iconColor:eb,title:null==ej?void 0:ej.title,duration:null==ej?void 0:ej.duration},{pageId:d,isTemplate:x},a),e.next=8,$.A.post(n,i);case 8:200===(o=e.sent).status&&o.data.success?(ee.Ay.success(o.data.message),eU(Date.now()),eK(null),(!d&&o.data.pageId||x&&o.data.pageId)&&(eB(),s="/pages/".concat(o.data.pageId,"?from=editor&new=true"),window.location.href=s)):(ee.Ay.error(o.data.message),eK("Lỗi khi lưu trang")),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error saving page:",e.t0),ee.Ay.error("Failed to save page"),eK("Lỗi khi lưu trang");case 17:return e.prev=17,D(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,12,17,20]])})),function(){return n.apply(this,arguments)}),eY=function(){Object.values(k.getNodes()).forEach(function(e){var t;null!=(t=e.data)&&null!=(t=t.props)&&null!=(t=t.transition)&&t.effectEnabled&&w.setProp(e.id,function(e){e.transition&&(e.transition.effectEnabled=!1)})}),ee.Ay.success("Đ\xe3 x\xf3a hiệu ứng chuyển động"),em(eX())},eq=(r=(0,H.A)(K().mark(function e(){var t,n;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.getNodes(),n=[],Object.values(t).forEach(function(e){var t;null!=(t=e.data)&&null!=(t=t.props)&&null!=(t=t.transition)&&t.effectEnabled&&(n.push({nodeId:e.id,originalValue:!0}),w.setProp(e.id,function(e){e.transition&&(e.transition.effectEnabled=!1)}))}),P(!1),e.next=6,eG();case 6:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)});(0,s.useEffect)(function(){R&&em(eX())},[ev.openingEffect,R]);var eV="basic"===eL&&(null==eM||null==(a=eM.user)?void 0:a.plan)==="free"||"premium"===eL&&(null==eM||null==(c=eM.user)?void 0:c.plan)!=="premium";return(0,s.useEffect)(function(){if(eV){var e="basic"===eL?"Basic":"Premium",t="basic"===eL?"\uD83D\uDD39":"\uD83D\uDC51",n="basic"===eL?"#1890ff":"#722ed1";et.Ay.open({title:null,description:(0,u.jsxs)("div",{style:{padding:"8px 12px",background:"".concat(n,"15"),borderRadius:"6px",border:"1px solid ".concat(n,"30")},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[(0,u.jsx)("span",{style:{fontSize:"14px"},children:t}),(0,u.jsx)("span",{style:{fontWeight:"500",color:n},children:"Note:"})]}),(0,u.jsxs)("p",{style:{margin:"0",fontSize:"12px",color:"#666"},children:["Bạn đang sử dụng template của g\xf3i ",e]})]}),duration:20,showProgress:!0,placement:"topRight",style:{borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}})}},[eV,eL]),(0,u.jsxs)("nav",{"aria-label":"Main",className:"jsx-1890023189 navbar navbar--fixed-top h-16 border-b",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 navbar__inner",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 navbar__items",children:[(0,u.jsx)("button",{onClick:function(){return C(!0)},"aria-label":"Toggle navigation bar","aria-expanded":"false",type:"button",className:"jsx-1890023189 navbar__toggle mx-1 md:mx-3",children:(0,u.jsx)("svg",{width:30,height:30,viewBox:"0 0 30 30","aria-hidden":"true",className:"jsx-1890023189",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:2,d:"M4 7h22M4 15h22M4 23h22",className:"jsx-1890023189"})})}),!p&&(0,u.jsx)("div",{className:"jsx-1890023189 ml-2",children:(0,u.jsx)(W.A,{showText:eu})}),g&&(0,u.jsxs)("div",{className:"jsx-1890023189 flex-1 flex",children:[(0,u.jsx)(y.A,{title:"Ho\xe0n t\xe1c (Ctrl/⌘ + Z)",placement:"bottom",children:(0,u.jsx)(Y.Ay,{type:"text",disabled:!b,onClick:function(){b&&w.history.undo()},children:(0,u.jsx)(Q.tMu,{size:18})})}),(0,u.jsx)(y.A,{title:"L\xe0m lại (Ctrl/⌘ + Shift + Z)",placement:"bottom",children:(0,u.jsx)(Y.Ay,{type:"text",disabled:!v,onClick:function(){v&&w.history.redo()},children:(0,u.jsx)(Q.Lsu,{size:18})})}),!p&&(0,u.jsx)(y.A,{title:"T\xecm v\xe0 x\xf3a phần tử theo ID",placement:"bottom",children:(0,u.jsx)(Y.Ay,{type:"text",onClick:function(){return _(!0)},children:(0,u.jsx)(ec.S3s,{size:18})})})]})]}),(0,u.jsx)("div",{className:"jsx-1890023189 navbar__items navbar__items--right",children:(0,u.jsxs)("div",{className:"jsx-1890023189 flex gap-4 items-center",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 flex gap-2 items-center",children:[(0,u.jsx)(el.A,{showText:!p,onShowBackups:function(){return M(!0)}}),!p&&(0,u.jsxs)(Y.Ay,{onClick:function(){w.setOptions(function(e){return e.enabled=!g})},children:[g?(0,u.jsx)(Z.whC,{}):(0,u.jsx)(V.u6n,{}),g?"Xem trước":"Chỉnh sửa"]}),p&&!g&&(0,u.jsxs)(Y.Ay,{onClick:function(){w.setOptions(function(e){return e.enabled=!0})},children:[(0,u.jsx)(V.u6n,{}),"Chỉnh sửa"]}),(0,u.jsx)(ea.A,{isLoading:T,onExport:eW,buttonText:d&&!x?"Lưu":"Xuất bản",isTemplate:x,pageId:d})]}),(0,u.jsx)(X.A,{})]})}),(0,u.jsx)(q.A,{closable:!1,destroyOnHidden:!0,placement:"left",open:A,width:260,onClose:function(){return C(!1)},children:(0,u.jsx)(G.A,{})})]}),(0,u.jsx)(eo.A,{visible:R,onClose:function(){return P(!1)},advancedItems:eh,onRemoveAdvancedItem:function(e){switch(e.displayName){case"Hiệu ứng chuyển động":eY();break;case"Hiệu ứng mở m\xe0n":eD(null),ee.Ay.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n");break;case"Hiệu ứng thả rơi":eE(null),ee.Ay.success("Đ\xe3 x\xf3a hiệu ứng thả rơi");break;case"Hiệu ứng phong b\xec thư":var t=k.getNodes(),n=0;Object.values(t).forEach(function(e){var t;(null==(t=e.data)?void 0:t.name)==="PluginAnimatedEnvelope"&&(w.delete(e.id),n++)}),n>0&&ee.Ay.success("Đ\xe3 x\xf3a ".concat(n," phong b\xec thư"));break;case"Bản đồ n\xe2ng cao":if(e.nodeId){var r=document.querySelector('[data-node-id="'.concat(e.nodeId,'"]'));r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),w.selectNode(e.nodeId),ee.Ay.info("H\xe3y chọn lại loại bản đồ để xuất bản"))}break;case"YouTube Embed":e.nodeId&&document.querySelector('[data-node-id="'.concat(e.nodeId,'"]'))&&(w.delete(e.nodeId),ee.Ay.success("Đ\xe3 x\xf3a video YouTube"));break;case"Photo Gallery":e.nodeId&&document.querySelector('[data-node-id="'.concat(e.nodeId,'"]'))&&(w.delete(e.nodeId),ee.Ay.success("Đ\xe3 x\xf3a album ảnh"))}em(eX())},templateType:eL,userPlan:(null==eM||null==(l=eM.user)?void 0:l.plan)||"free",onPublishWithoutAnimations:eq}),(0,u.jsx)(es.A,{visible:z,onClose:function(){return _(!1)}}),(0,u.jsx)(ed.A,{visible:L,onClose:function(){return M(!1)},onRestore:function(e){w.deserialize(e.pageData),M(!1),ee.Ay.success("Đ\xe3 kh\xf4i phục backup th\xe0nh c\xf4ng!")}}),(0,u.jsx)(I(),{id:"1890023189",children:[".navbar.jsx-1890023189{z-index:99;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-shadow:0 1px 2px 0 rgba(0,0,0,0.1);padding:2rem 1.4rem;}",".navbar--fixed-top.jsx-1890023189{position:fixed;width:100%;top:0;}",".navbar__inner.jsx-1890023189{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:unset;-ms-flex-wrap:unset;flex-wrap:unset;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".navbar__items.jsx-1890023189{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:10px;-webkit-flex:1;-ms-flex:1;flex:1;min-width:0;}",".navbar__items--right.jsx-1890023189{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}","@media (max-width:768px){.navbar.jsx-1890023189{padding:1rem 0.5rem;}}"]})]})};var ep=n(79298),ex=n(89099),eh=n(81848),em=n(83063),ef=n(29890),eg=n(87692),eb=n(62026),ej=function(e){var t=e.children,n=e.pageId,r=e.isTemplate,a=e.templateCategoryId,i=(0,o.hG)(function(e){return{enabled:e.options.enabled}}),c=i.connectors,l=i.actions,d=i.enabled,p=(0,ex.useRouter)(),x=(0,S.useSession)().data,h=(0,s.useState)(!1),m=h[0],f=h[1],g=(0,s.useState)(!1),b=g[0],j=g[1],y=(0,er.$E)().setCategoryId;(0,eb.U)({pageIdParam:n,isTemplate:r});var v=p.pathname.includes("/editor-template/")||p.asPath.includes("/editor-template/");(0,s.useEffect)(function(){f(v)},[v]),(0,s.useEffect)(function(){a&&y(a)},[a,y]);var w=(0,eh.J)(),k=w.checkCanCreateWebsite,N=w.showLimitModal,A=w.closeLimitModal,C=w.plan,O=w.pagesCount,T=w.isLoading,D=w.canCreate,E=w.enhancedLimits,R=w.addonBonuses,P=w.hasAddons,z="new-blank"===n||v;(0,s.useEffect)(function(){z&&null!=x&&x.user&&!T&&(k()||j(!0))},[z,x,T,D]),(0,s.useEffect)(function(){if(b&&!N){var e=setTimeout(function(){p.push("/pages")},1e3);return function(){return clearTimeout(e)}}},[b,N,p]);var _=(0,ef.J)({pageId:"new-blank"===n?void 0:n,isTemplate:r,autoDetect:!0,onRestore:function(e){try{e.pageData&&(l.deserialize(e.pageData),(0,eg.DH)())}catch(e){console.error("Error restoring backup:",e)}}}),F=_.availableBackups,H=_.hasRelevantBackups,U=_.manualRestore,K=_.dismissBackup,W=_.deleteBackup;(0,s.useEffect)(function(){if(H&&F.length>0){var e=F[0];(0,eg.O7)({backup:e,onRestore:U,onDismiss:K,onDelete:W})}},[H,F,U,K,W]);var X=!(z&&b);return(0,u.jsxs)("div",{className:"jsx-1349673381 viewport",children:[(0,u.jsx)(eu,{pageId:"new-blank"===n?null:n,isTemplate:r,canCreate:D}),X?(0,u.jsxs)("div",{className:"jsx-1349673381 "+(B()(["flex h-full overflow-hidden flex-row w-full fixed pt-16"])||""),children:[(0,u.jsx)("div",{style:{display:d?"flex":"none"},className:"jsx-1349673381 left-sidebar flex",children:(0,u.jsx)(M.O,{})}),(0,u.jsx)("div",{className:"jsx-1349673381 page-container flex flex-1 h-full flex-col",children:(0,u.jsx)("div",{id:"main-scroll-container",ref:function(e){e&&c.select(c.hover(e,null),null)},className:"jsx-1349673381 page-builder-renderer flex-1 h-full w-full transition pb-8 overflow-auto bg-renderer-gray",children:(0,u.jsx)("div",{className:"jsx-1349673381 relative flex-col flex items-center pt-14 pb-48",children:t})})}),(0,u.jsx)(L,{}),m&&(0,u.jsx)(ep.Ay,{})]}):(0,u.jsx)("div",{className:"jsx-1349673381 flex items-center justify-center h-full pt-16",children:(0,u.jsxs)("div",{className:"jsx-1349673381 text-center p-8",children:[(0,u.jsx)("div",{className:"jsx-1349673381 text-lg text-gray-600 mb-4",children:"Đang kiểm tra quyền truy cập..."}),(0,u.jsx)("div",{className:"jsx-1349673381 text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng trong gi\xe2y l\xe1t"})]})}),(0,u.jsx)(em.A,{isOpen:N,onClose:A,currentPlan:C,currentCount:O,limitType:"website",enhancedLimit:E.maxWebsites,addonBonus:R.websites,hasAddons:P}),(0,u.jsx)(I(),{id:"1349673381",children:[".left-sidebar.jsx-1349673381{z-index:10000;}"]})]})},ey=n(21350),ev=n(24795),ew=n(14901),ek=n(3410);let eN=function(e){var t=e.visible,n=e.onClose,r=e.children,a=e.toolContent,i=(0,s.useState)(null),o=i[0],c=i[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(I(),{id:"3644526895",children:[".scrollbar-hide.jsx-3644526895{-ms-overflow-style:none;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;}",".scrollbar-hide.jsx-3644526895::-webkit-scrollbar{display:none;}"]}),(0,u.jsx)(ey.zD,{visible:!!o,showCloseButton:!0,onClose:function(){c(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",minHeight:"20vh",maxHeight:"40vh",padding:"12px",overflow:"auto",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsx)("div",{className:"jsx-3644526895 relative",children:(0,u.jsx)("div",{className:"jsx-3644526895 pt-6",children:(0,u.jsx)("div",{className:"jsx-3644526895 setting-content",children:a})})})}),(0,u.jsxs)("div",{className:"jsx-3644526895 "+"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200 rounded-xl shadow-2xl mx-1 mb-1 z-[999999999] transition-all duration-300 ease-out transform ".concat(t?"translate-y-0 opacity-100 scale-100":"translate-y-full opacity-0 scale-95 pointer-events-none"),children:[(0,u.jsx)("button",{onClick:n,className:"jsx-3644526895 absolute -top-3 right-1 w-8 h-8 flex items-center justify-center rounded-full bg-white/90 backdrop-blur-sm border border-gray-200 hover:bg-white hover:border-gray-300 active:scale-95 transition-all duration-200 ease-out hover:shadow-md group z-50",children:(0,u.jsx)(ek.A,{className:"text-sm text-gray-700"})}),(0,u.jsx)("div",{className:"jsx-3644526895 flex items-center px-1 py-2 relative z-10",children:(0,u.jsx)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},className:"jsx-3644526895 flex-1 overflow-x-auto scrollbar-hide scroll-smooth pr-2",children:(0,u.jsx)("div",{style:{scrollSnapType:"x mandatory"},className:"jsx-3644526895 flex items-center space-x-4 min-w-max min-h-16",children:r})})})]})]})};var eA=function(){var e=(0,o.hG)(function(e,t){var n=t.getEvent("selected").first();return{active:n,related:n&&e.nodes[n].related}}),t=e.active,n=e.related,r=e.actions,a=(0,s.useState)(!1),i=a[0],c=a[1],l=(0,ei.bi)().pageData,p=(0,er.$E)(),x=(p.settings,p.setTitle),h=p.setThumbnail,m=p.setShowBottomToolbar,f=p.setStatus,g=p.setQRBankAccounts,b=p.setHideWatermark,j=p.setCategoryId;return(0,s.useEffect)(function(){l&&(x(l.pageName),h(l.thumbnailKey),f(l.status||"published"),void 0!==l.showBottomToolbar?m(l.showBottomToolbar):m(er.fV),l.qrBankAccounts&&g(l.qrBankAccounts),void 0!==l.hideWatermark&&b(l.hideWatermark),l.categoryId&&j(l.categoryId))},[l]),(0,u.jsxs)(u.Fragment,{children:[(!t||"ROOT"===t)&&(0,u.jsx)(ev.A,{icon:(0,u.jsx)(ew.A,{}),type:"default",onClick:function(){c(!0)},style:{bottom:74,right:20,width:45,height:45}}),(0,u.jsx)(eN,{visible:!!t&&"ROOT"!==t,onClose:function(){r.selectNode(null)},children:t&&n.mobileToolbar&&s.createElement(n.mobileToolbar)}),(0,u.jsx)(ey.zD,{visible:i,showCloseButton:!0,onClose:function(){return c(!1)},onMaskClick:function(){return c(!1)},bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",padding:0,height:"60vh",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:"C\xe0i đặt trang"})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(60vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:(0,u.jsx)(d.A,{})})})]})})]})},eC=n(21649),eS=n(47139),eO=n(1469),eT=n(71255),eD=n(62542),eE=n(24170),eR=n(86961),eI=n(37436),eP=n(34664),eB=n(8286),ez=n(8872),e_=n(27484),eF=function(){var e,t=(0,o.hG)(),n=t.query,r=t.actions,a=(0,i.c3)(),l=a.activeKey,d=a.setActiveKey,p=(0,s.useState)(!1),x=p[0],h=p[1],m=function(){h(!1),d(null)},f=[{key:c.hW.TEXT,title:"Văn bản",icon:(0,u.jsx)(eR.Cb8,{size:24}),content:(0,u.jsx)(eO.A,{})},{key:c.hW.PHOTO,title:"H\xecnh ảnh",icon:(0,u.jsx)(eS.v1J,{}),content:(0,u.jsx)(eD.A,{isMobile:!0,onClose:m})},{key:c.hW.MATERIAL,title:"Stock",icon:(0,u.jsx)(A.aRh,{}),content:(0,u.jsx)(eT.A,{isMobile:!0,onClose:m})},{key:c.hW.BACKGROUND,title:"H\xecnh nền",icon:(0,u.jsx)(ec.HY1,{}),content:(0,u.jsx)(eP.A,{})},{key:c.hW.MUSIC,title:"\xc2m nhạc",icon:(0,u.jsx)(eC.HVw,{}),content:(0,u.jsx)(eB.A,{})},{key:c.hW.PLUGIN,title:"Tiện \xedch",icon:(0,u.jsx)(eC.uK7,{}),content:(0,u.jsx)(eE.A,{isMobile:!0,onClose:m})},{key:c.hW.EFFECT,title:"Hiệu ứng",icon:(0,u.jsx)(Q.T_n,{size:20}),content:(0,u.jsx)(e_.A,{isMobile:!0})},{key:c.hW.TEMPLATE,title:"Mẫu",icon:(0,u.jsx)(eC.Jwl,{}),content:(0,u.jsx)(ez.A,{})}],g=function(){var e=document.getElementById("root-page-container"),t=document.getElementById("main-scroll-container");if(e&&t){var a=t.scrollTop,i=e.getBoundingClientRect().width,o=n.createNode(s.createElement(eI.f,{top:Math.round(a+window.innerHeight/2-150),left:10,width:i-20,fontSize:22}));r.add(o,"ROOT"),r.selectNode(o.id)}},b=l===c.hW.PHOTO||l===c.hW.MATERIAL;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{background:"white",borderTop:"1px solid #eee",paddingTop:"5px",paddingBottom:"5px"},className:"jsx-478851306",children:(0,u.jsx)(ey.VQ,{activeKey:l,onChange:function(e){if(e===c.hW.TEXT)return void g();d(e),h(!0)},className:"mobile-toolbox-tab-bar",children:f.map(function(e){return(0,u.jsx)(ey.VQ.Item,{icon:e.icon,title:e.title},e.key)})})}),(0,u.jsx)(ey.zD,{visible:x,onMaskClick:m,position:"bottom",bodyStyle:{height:"60vh"},children:null==(e=f.find(function(e){return e.key===l}))?void 0:e.content}),(0,u.jsxs)(ey.zD,{visible:b,onMaskClick:m,position:"bottom",bodyStyle:{height:"60vh"},children:[l===c.hW.PHOTO&&(0,u.jsx)(eD.A,{isMobile:!0,onClose:m}),l===c.hW.MATERIAL&&(0,u.jsx)(eT.A,{isMobile:!0,onClose:m})]}),(0,u.jsx)(I(),{id:"478851306",children:[".mobile-toolbox-tab-bar .adm-tab-bar-wrap{overflow:auto;}"]}),(0,u.jsx)(ey.zD,{onMaskClick:m,position:"bottom",bodyStyle:{height:"60vh"},children:(0,u.jsx)(eD.A,{isMobile:!0,onClose:m})})]})},eL=function(e){var t=e.children,n=e.pageId,r=e.isTemplate,a=e.templateCategoryId,i=(0,o.hG)(function(e,t){return{active:t.getEvent("selected").first()}}),c=i.connectors,l=i.active,d=i.actions,p=(0,ex.useRouter)(),x=(0,S.useSession)().data,h=(0,s.useState)(!1),m=h[0],f=h[1],g=(0,er.$E)().setCategoryId;(0,eb.U)({pageIdParam:n,isTemplate:r}),(0,s.useEffect)(function(){a&&g(a)},[a,g]);var b=p.pathname.includes("/editor-template/")||p.asPath.includes("/editor-template/"),j=(0,eh.J)(),y=j.checkCanCreateWebsite,v=j.showLimitModal,w=j.closeLimitModal,k=j.plan,N=j.pagesCount,A=j.isLoading,C=j.canCreate,O=j.enhancedLimits,T=j.addonBonuses,D=j.hasAddons,E="new-blank"===n||b;(0,s.useEffect)(function(){E&&null!=x&&x.user&&!A&&(y()||f(!0))},[E,x,A,C]),(0,s.useEffect)(function(){if(m&&!v){var e=setTimeout(function(){p.push("/dashboard")},1e3);return function(){return clearTimeout(e)}}},[m,v,p]),(0,s.useEffect)(function(){return document.documentElement.style.overscrollBehavior="none",document.documentElement.style.overflow="hidden",document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.documentElement.style.position="fixed",document.body.style.overscrollBehavior="none",document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.width="100%",document.body.style.position="fixed",function(){document.documentElement.style.removeProperty("overscroll-behavior"),document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("height"),document.documentElement.style.removeProperty("width"),document.documentElement.style.removeProperty("position"),document.body.style.removeProperty("overscroll-behavior"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("height"),document.body.style.removeProperty("width"),document.body.style.removeProperty("position")}},[]);var R=(0,ef.J)({pageId:"new-blank"===n?void 0:n,isTemplate:r,autoDetect:!0,onRestore:function(e){try{e.pageData&&(d.deserialize(e.pageData),(0,eg.DH)())}catch(e){console.error("Error restoring backup:",e)}}}),I=R.availableBackups,P=R.hasRelevantBackups,z=R.manualRestore,_=R.dismissBackup,F=R.deleteBackup;(0,s.useEffect)(function(){if(P&&I.length>0){var e=I[0];(0,eg.O7)({backup:e,onRestore:z,onDismiss:_,onDelete:F})}},[P,I,z,_,F]);var L=!(E&&m);return(0,u.jsxs)("div",{className:"viewport",children:[(0,u.jsx)(eu,{pageId:"new-blank"===n?null:n,mobileView:!0,isTemplate:r,canCreate:C}),(0,u.jsx)("div",{className:"h-16"}),L?(0,u.jsxs)("div",{className:B()(["flex h-full overflow-hidden flex-row w-full fixed"]),children:[(0,u.jsx)("div",{className:"page-container flex flex-1 h-full flex-col",children:(0,u.jsx)("div",{className:"page-builder-renderer flex-1 h-full w-full transition pb-8 overflow-auto bg-renderer-gray",id:"main-scroll-container",ref:function(e){e&&c.select(c.hover(e,null),null)},children:(0,u.jsx)("div",{className:"relative flex-col flex items-center pt-10 pb-48",children:t})})}),(0,u.jsx)(eA,{}),("ROOT"===l||!l)&&(0,u.jsx)("div",{className:"fixed bottom-0 w-full bg-white",style:{zIndex:0x5f5e0ff},children:(0,u.jsx)(eF,{})})]}):(0,u.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,u.jsxs)("div",{className:"text-center p-8",children:[(0,u.jsx)("div",{className:"text-lg text-gray-600 mb-4",children:"Đang kiểm tra quyền truy cập..."}),(0,u.jsx)("div",{className:"text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng trong gi\xe2y l\xe1t"})]})}),(0,u.jsx)(em.A,{isOpen:v,onClose:w,currentPlan:k,currentCount:N,limitType:"website",enhancedLimit:O.maxWebsites,addonBonus:T.websites,hasAddons:D})]})}},82860:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(27002),a=n.n(r);n(14232);var i=n(29875),o=n(81363),s=n(36423),c=n(86819),l=n(55882),d=n(37876);let u=function(){var e=(0,o.V)(),t=e.icon,n=e.iconColor,r=e.setIcon,u=e.setIconColor,p=function(e){r(e)};return(0,d.jsxs)("div",{className:"jsx-753478186 music-setting",children:[(0,d.jsx)("h2",{className:"jsx-753478186",children:"Nhạc nền"}),(0,d.jsx)(c.A,{}),(0,d.jsxs)("div",{className:"jsx-753478186 setting-section",children:[(0,d.jsx)("h3",{className:"jsx-753478186",children:"Chọn biểu tượng"}),(0,d.jsx)(i.Ay.Group,{value:t,onChange:function(e){return p(e.target.value)},children:[{value:"audio-1",label:"\uD83C\uDFB5"},{value:"audio-2",label:"\uD83C\uDFBC"},{value:"audio-3",label:"\uD83D\uDCBF"},{value:"audio-4",label:"\uD83C\uDFB6"},{value:"audio-5",label:"\uD83C\uDFB5"},{value:"audio-6",label:"\uD83C\uDFB5"}].map(function(e){return(0,d.jsx)(i.Ay.Button,{value:e.value,children:(0,d.jsx)("img",{src:"".concat(s.A.CDN_URL,"/assets/").concat(e.value,".png"),alt:e.label,width:"24",height:"24",className:"jsx-753478186 icon-audio mix-blend"})},e.value)})})]}),(0,d.jsxs)("div",{className:"jsx-753478186 setting-section",children:[(0,d.jsx)("h3",{className:"jsx-753478186",children:"M\xe0u biểu tượng"}),(0,d.jsx)(l.V,{value:n,onChange:function(e){if(e.rgba&&e.rgba.a<1){var t=e.rgba,n=t.r,r=t.g,a=t.b,i=t.a;u("rgba(".concat(n,", ").concat(r,", ").concat(a,", ").concat(i,")"))}else u(e.hex)}})]}),(0,d.jsx)(a(),{id:"753478186",children:[".music-setting.jsx-753478186{padding:10px;}",".setting-section.jsx-753478186{margin-bottom:24px;}",".mix-blend.jsx-753478186{mix-blend-mode:difference;opacity:0.3;}","h2.jsx-753478186{font-size:18px;font-weight:500;}","h3.jsx-753478186{font-size:14px;margin-bottom:12px;color:#666;}",".music-setting .ant-radio-group{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".music-setting .ant-radio-button-wrapper{height:35px;width:35px;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:4px !important;border:1px solid #d9d9d9 !important;margin-right:0;background:#f4f5f6 !important;}",".music-setting .ant-radio-button-wrapper:not(:first-child)::before{display:none !important;}",".music-setting .ant-radio-button-wrapper-checked{border-color:#1890ff !important;color:#1890ff !important;background:#e6f4ff !important;}",".music-setting .ant-radio-button-wrapper:hover{color:#1890ff;background:#e6f4ff !important;}"]})]})}},85906:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,s:()=>i});var r=n(69486),a=function(e){return!!e&&e.lat===r._7.lat&&e.lng===r._7.lng},i=function(e){if(e&&!a(e))return e}},87692:(e,t,n)=>{"use strict";n.d(t,{DH:()=>j,O7:()=>b});var r=n(42969),a=n(14232),i=n(83240),o=n(80878),s=n(1985),c=n(83155),l=n(17292),d=n(3539),u=n(47139),p=n(8937),x=n(64232),h=n(37876);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var f=function(e){var t,n=e.backup,r=e.onRestore,s=e.onDismiss,c=e.onDelete,m=(0,a.useState)(!1),f=m[0],g=m[1],b=(null==(t=n.data.settings)?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề",j=(0,l.m)(new Date(n.timestamp),{addSuffix:!0,locale:d.vi});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"px-2 py-1 rounded text-white text-xs font-medium",style:{backgroundColor:{page_specific:"#1890ff",template:"#722ed1",recent_new:"#52c41a"}[n.type]},children:{page_specific:"\uD83D\uDCC4 Trang cụ thể",template:"\uD83C\uDFA8 Template",recent_new:"✨ Trang mới"}[n.type]}),(0,h.jsx)("span",{className:"text-sm text-gray-500",children:j})]}),(0,h.jsx)("div",{className:"text-sm",children:(0,h.jsxs)("div",{className:"font-medium text-gray-900 truncate",children:["\uD83D\uDCDD ",b]})}),(0,h.jsxs)("div",{className:"mt-3 flex justify-between",children:[(0,h.jsx)(i.Ay,{size:"small",type:"default",icon:(0,h.jsx)(p.whC,{}),onClick:function(){return g(!0)},children:"Xem trước"}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)(i.Ay,{type:"primary",size:"small",icon:(0,h.jsx)(u.U3K,{}),onClick:function(){return r(n.key)},children:"Kh\xf4i phục"}),(0,h.jsx)(i.Ay,{size:"small",onClick:function(){return s(n.key)},children:"Bỏ qua"}),(0,h.jsx)(o.A,{overlayStyle:{zIndex:1e4},title:"X\xf3a bản backup n\xe0y",children:(0,h.jsx)(i.Ay,{size:"small",danger:!0,icon:(0,h.jsx)(u.Rrl,{}),onClick:function(){return c(n.key)}})})]})]})]}),f&&(0,h.jsx)(x.A,{visible:f,onClose:function(){return g(!1)},backupData:n.data})]})},g={page_specific:"#1890ff",template:"#722ed1",recent_new:"#52c41a"},b=function(e){s.Ay.open({title:(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(c.A,{style:{color:g[e.backup.type]}}),(0,h.jsx)("span",{className:"font-semibold",children:"T\xecm thấy backup c\xf3 thể kh\xf4i phục"})]}),description:(0,h.jsx)(f,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)),placement:"topRight",duration:0,key:"backup-recovery-".concat(e.backup.key)})},j=function(){s.Ay.destroy()}},88065:(e,t,n)=>{"use strict";n.d(t,{A:()=>a}),n(14232);var r=n(37876);let a=function(e){var t=e.snowflakeEffect;if(!t||!t.enabled)return null;var n=function(e){switch(e){case"snowflakes":default:return"❅";case"hearts":return"❤️";case"flowers":return"\uD83C\uDF38";case"stars":return"⭐";case"confetti":return"\uD83C\uDF89";case"butterflies":return"\uD83E\uDD8B";case"mix":return"\uD83D\uDC95"}}(t.type),a="mix"===t.type?["❅","❤️","\uD83E\uDD0D","❅","❤️","\uD83E\uDD0D","❅","❤️","\uD83E\uDD0D","❅","❤️","\uD83E\uDD0D"]:Array(12).fill(n);return(0,r.jsx)("div",{className:"snowflakes","aria-hidden":"true",children:Array.from({length:12},function(e,t){return(0,r.jsx)("div",{className:"snowflake",children:(0,r.jsx)("div",{className:"inner",children:a[t]})},t)})})}},88660:(e,t,n)=>{"use strict";n.d(t,{a:()=>z});var r=n(42969),a=n(14232),i=n(66125),o=n(57279),s=n(69486),c=n(13286),l=n(36423),d=n(37876);let u=function(e){var t=e.fontSize,n=e.fontFamily,r=e.calendarData,a=e.textColor,i=e.themeColor,o=e.calendarType,c=new Date(e.selectedDate),u=c.getFullYear(),p=c.getMonth()+1,x=r.map(function(e,t){return"empty"===e.type?(0,d.jsx)("div",{className:"empty",children:(0,d.jsx)("div",{})},"empty-".concat(t)):e.isSelected?(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{className:"heart-date",src:"".concat(l.A.CDN_URL,"/assets/plugins/calen_heart_1.png"),alt:"heart"}),(0,d.jsx)("div",{className:"colorF",children:e.date})]},e.date):(0,d.jsx)("div",{children:(0,d.jsx)("div",{children:e.date})},e.date)}),h=(0,d.jsxs)("div",{className:"template-one",children:[(0,d.jsx)("div",{className:"one-back"}),(0,d.jsxs)("div",{className:"one-head",style:{backgroundColor:i},children:[p,".",u]}),(0,d.jsxs)("div",{className:"one-body",children:[(0,d.jsx)("div",{className:"body-week",children:"MON"}),(0,d.jsx)("div",{className:"body-week",children:"TUE"}),(0,d.jsx)("div",{className:"body-week",children:"WED"}),(0,d.jsx)("div",{className:"body-week",children:"THU"}),(0,d.jsx)("div",{className:"body-week",children:"FRI"}),(0,d.jsx)("div",{className:"body-week",children:"SAT"}),(0,d.jsx)("div",{className:"body-week",children:"SUN"}),x,(0,d.jsx)("div",{className:"body-year",style:{color:i},children:u})]})]}),m=(0,d.jsxs)("div",{className:"template-two",children:[(0,d.jsx)("div",{className:"two-back"}),(0,d.jsxs)("div",{className:"two-body",style:{border:"2px solid ".concat(i)},children:[(0,d.jsxs)("div",{className:"body-axis",children:[(0,d.jsx)("div",{style:{backgroundColor:i}}),(0,d.jsx)("div",{style:{backgroundColor:i}})]}),(0,d.jsxs)("div",{className:"body-box",children:[(0,d.jsxs)("div",{className:"two-head",style:{color:i},children:[(0,d.jsx)("div",{children:p}),(0,d.jsx)("div",{children:u})]}),(0,d.jsxs)("div",{className:"two-date",children:[(0,d.jsx)("div",{className:"body-week",children:"MON"}),(0,d.jsx)("div",{className:"body-week",children:"TUE"}),(0,d.jsx)("div",{className:"body-week",children:"WED"}),(0,d.jsx)("div",{className:"body-week",children:"THU"}),(0,d.jsx)("div",{className:"body-week",children:"FRI"}),(0,d.jsx)("div",{className:"body-week",children:"SAT"}),(0,d.jsx)("div",{className:"body-week",children:"SUN"}),x,(0,d.jsx)("div",{className:"shadow",style:{backgroundColor:i}})]})]})]})]}),f=(0,d.jsx)("div",{className:"template-three",children:x}),g=o===s.l0.TYPE_ONE?h:o===s.l0.TYPE_TWO?m:f;return(0,d.jsx)("div",{className:"calendar componentBOX",style:{opacity:1,zIndex:154,borderRadius:0,width:"100%",height:"100%",color:a,fontSize:t,fontFamily:n},children:g})};var p=n(95463),x=n(25192),h=n(33536),m=n(96447),f=n(12448),g=n(39229),b=n(82599),j=n(53872),y=j.A.Option,v=[{value:s.l0.NO_STYLE,display:"No Style"},{value:s.l0.TYPE_ONE,display:"Kiểu 1"},{value:s.l0.TYPE_TWO,display:"Kiểu 2"}],w=function(){var e=(0,i.oB)(function(e){return{calendarType:e.data.props.calendarType}}),t=e.actions.setProp,n=e.calendarType;return(0,d.jsxs)("div",{className:"flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Style"}),(0,d.jsx)(j.A,{value:n,style:{width:"75%"},onChange:function(e){t(function(t){t.calendarType=e})},placeholder:"Select a style",children:v.map(function(e){return(0,d.jsx)(y,{value:e.value,children:(0,d.jsx)("span",{children:e.display})},e.value)})})]})},k=n(15030),N=n(48371),A=n(69798),C=n(55882),S=function(){var e=(0,i.oB)(function(e){return{propValue:{color:e.data.props.color,backgroundColor:e.data.props.backgroundColor,themeColor:e.data.props.themeColor,calendarType:e.data.props.calendarType}}}),t=e.actions.setProp,n=e.propValue,r=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,d.jsxs)("div",{className:"justify-between my-4 flex flex-col gap-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u Chữ"}),(0,d.jsx)(C.V,{value:"transparent"!==n.color?n.color:"#000000",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.color=r(e.rgba):t.color=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,d.jsx)(C.V,{value:"transparent"!==n.backgroundColor?n.backgroundColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=r(e.rgba):t.backgroundColor=e.hex})}})]}),n.calendarType!==s.l0.NO_STYLE&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u giao diện"}),(0,d.jsx)(C.V,{value:"transparent"!==n.themeColor?n.themeColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.themeColor=r(e.rgba):t.themeColor=e.hex})}})]})]})},O=n(33598),T=n(10881),D=n(86961),E=n(21350),R={CUSTOMIZE:"T\xf9y chỉnh lịch",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B={top:10,left:10,width:s.bv.calendarWidth,height:s.bv.calendarHeight,backgroundColor:s.ji.calendarBackground,color:s.ji.calendarText,themeColor:s.ji.calendarTheme,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},calendarType:s.l0.TYPE_ONE,fontSize:14,fontFamily:"Arial",selectedDate:new Date,selectedDate2:null,zIndex:0,locked:!1,transition:g.l},z=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],s=n[1],l=e=P(P({},B),e),p=l.top,x=l.left,h=l.height,m=l.width,f=l.opacity,b=l.backgroundColor,j=l.color,y=l.themeColor,v=l.shadow,w=l.padding,k=l.borderRadius,N=l.rotation,A=l.borderPosition,C=l.borderSize,S=l.borderStyle,T=l.borderColor,D=l.hasShadow,E=l.boxShadow,R=l.calendarType,I=l.fontSize,z=l.fontFamily,_=l.selectedDate,F=l.selectedDate2,L=l.zIndex,M=l.locked,H=l.transition||g.l,U=(0,i.oB)(function(e){return{active:e.events.selected,id:e.id}}),K=U.connectors.connect,W=U.actions.setProp,X=U.active,G=U.id,Y=(0,i.hG)(function(e){return{enabled:e.options.enabled}}).enabled,q=(0,a.useState)(!1),V=q[0],Q=q[1];(0,a.useEffect)(function(){if(X&&Y){var e=document.querySelector("#root-page-container");e&&s(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==G}))}},[X,Y,G]);var Z=(0,a.useState)({width:0,height:0,left:0,top:0}),J=Z[0],$=Z[1],ee=(0,a.useState)(null),et=ee[0],en=ee[1];(0,a.useEffect)(function(){if(X&&Y){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();$({width:t.width,height:t.height,left:t.left,top:t.top}),en(e)}}},[X,Y]);var er=function(){switch(A){case"all":return{border:"".concat(C,"px ").concat(S," ").concat(T)};case"top":return{borderTop:"".concat(C,"px ").concat(S," ").concat(T)};case"bottom":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(T)};case"right":return{borderRight:"".concat(C,"px ").concat(S," ").concat(T)};case"left":return{borderLeft:"".concat(C,"px ").concat(S," ").concat(T)};case"top-bottom":return{borderTop:"".concat(C,"px ").concat(S," ").concat(T),borderBottom:"".concat(C,"px ").concat(S," ").concat(T)};case"right-left":return{borderRight:"".concat(C,"px ").concat(S," ").concat(T),borderLeft:"".concat(C,"px ").concat(S," ").concat(T)};case"upper-left":return{borderTop:"".concat(C,"px ").concat(S," ").concat(T),borderLeft:"".concat(C,"px ").concat(S," ").concat(T)};case"upper-right":return{borderTop:"".concat(C,"px ").concat(S," ").concat(T),borderRight:"".concat(C,"px ").concat(S," ").concat(T)};case"lower-left":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(T),borderLeft:"".concat(C,"px ").concat(S," ").concat(T)};case"lower-right":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(T),borderRight:"".concat(C,"px ").concat(S," ").concat(T)};default:return{}}}(),ea=new Date(_),ei=F?new Date(F):null,eo=(0,o.W)(ea,ei);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{"data-node-id":G,ref:function(e){e&&(K(e),t.current=e)},style:{position:"absolute",top:"".concat(p,"px"),left:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(h,"px"),zIndex:L,cursor:Y?"move":"default",transform:"rotate(".concat(N,"deg)")},children:(0,d.jsx)(O.A,{transition:H,targetRef:t,enabled:Y,nodeId:G,onTransitionStart:function(){Q(!0)},onTransitionEnd:function(){Q(!1)},children:(0,d.jsx)("div",{style:P(P({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},er),{},{padding:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px"),backgroundColor:b,textShadow:"0px 0px 2px rgba(0,0,0,".concat((v||0)/100,")"),opacity:f,borderRadius:"".concat(k[0],"px \n              ").concat(k[1],"px \n              ").concat(k[2],"px \n              ").concat(k[3],"px"),boxShadow:D?"".concat(E.offsetX,"px ").concat(E.offsetY,"px ").concat(E.blur,"px ").concat(E.spread,"px ").concat(E.color):"none"}),children:(0,d.jsx)(u,{fontSize:I,fontFamily:z,textColor:j,themeColor:y,calendarData:eo,calendarType:R,selectedDate:_,selectedDate2:F})})})}),X&&Y&&t.current&&!V&&(0,d.jsx)(c.A,{target:t.current,container:et,otherElements:r,containerBounds:J,currentProps:{top:p,left:x,width:m,height:h,rotation:N,flipX:!1,flipY:!1,locked:M},onUpdateProps:function(e){W(function(t){Object.assign(t,e)})}})]})};z.craft={displayName:"Calendar",props:B,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)(b.rk,{defaultOpen:!0,title:"T\xf9y chỉnh lịch",children:[(0,d.jsx)(A.r,{}),(0,d.jsx)(w,{}),(0,d.jsx)(S,{}),(0,d.jsx)(k.H,{}),(0,d.jsx)(N.e,{}),(0,d.jsx)(f.x,{})]}),(0,d.jsxs)(b.rk,{title:"Khoảng đệm",children:[(0,d.jsx)(p.a,{}),(0,d.jsx)(x.d,{})]}),(0,d.jsx)(b.rk,{title:"Đường viền",children:(0,d.jsx)(h.x,{})}),(0,d.jsx)(b.rk,{title:"Đổ b\xf3ng",children:(0,d.jsx)(m.G,{})}),(0,d.jsx)(b.rk,{title:"Hiệu ứng chuyển động",children:(0,d.jsx)(g.i,{})})]})},mobileToolbar:function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(T.A,{icon:(0,d.jsx)(D.OgN,{size:20}),label:"T\xf9y chỉnh lịch",onClick:function(){return r(R.CUSTOMIZE)}}),(0,d.jsx)(T.A,{icon:(0,d.jsx)(D.WKR,{size:20}),label:R.PADDING,onClick:function(){return r(R.PADDING)}}),(0,d.jsx)(T.A,{icon:(0,d.jsx)(D.lKm,{size:20}),label:R.BORDER,onClick:function(){return r(R.BORDER)}}),(0,d.jsx)(T.A,{icon:(0,d.jsx)(D.elE,{size:20}),label:R.BOX_SHADOW,onClick:function(){return r(R.BOX_SHADOW)}}),(0,d.jsx)(T.A,{icon:(0,d.jsx)(D.Vt5,{size:20}),label:R.TRANSITION,onClick:function(){return r(R.TRANSITION)}}),(0,d.jsx)(E.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,d.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,d.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,d.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,d.jsx)("div",{className:"setting-content",children:function(){switch(t){case R.CUSTOMIZE:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(A.r,{}),(0,d.jsx)(w,{}),(0,d.jsx)(S,{}),(0,d.jsx)(k.H,{}),(0,d.jsx)(N.e,{}),(0,d.jsx)(f.x,{})]});case R.PADDING:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.a,{}),(0,d.jsx)(x.d,{})]});case R.BORDER:return(0,d.jsx)(h.x,{});case R.BOX_SHADOW:return(0,d.jsx)(m.G,{});case R.TRANSITION:return(0,d.jsx)(g.i,{});default:return(0,d.jsx)(d.Fragment,{})}}()})})]})})]})}}}},89467:(e,t,n)=>{"use strict";n.d(t,{k:()=>g});var r=n(27002),a=n.n(r),i=n(69486),o=n(62436),s=n(22705),c=n(66125),l=n(98594),d=n(67663),u=n(60501),p=n(83240),x=n(36423),h=n(14232),m=n(94085),f=n(37876),g=function(e){var t=e.type,n=m.Fr||m.v1,r=(0,c.oB)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,height:e.data.props.height,width:e.data.props.width}}),g=r.id,b=r.imgKey,j=r.width,y=r.height,v=(0,s.P)(100,j,y),w=v.scaleWidth,k=v.scaleHeight,N="".concat(x.A.CDN_RESOURCE_URL,"/").concat(b),A=(0,f.jsx)("div",{className:"shape-component",style:{width:w,height:k,maskImage:"url(".concat(N,")"),backgroundColor:"rgb(204, 204, 204)",maskSize:"100% 100%",maskRepeat:"no-repeat",overflow:"visible"}}),C=(0,f.jsx)(d.A,{src:N,alt:"Material ",width:100,height:100,style:{height:"100%",objectFit:"contain",objectPosition:"center"}}),S={height:"shape"===t?k:100,width:"shape"===t?w:100},O=(0,o.wL)(),T=O.setReplacing,D=O.setReplaceType,E=O.setSelectedNodeId,R=O.isReplacing,I=O.resetReplaceItem,P=(0,o.c3)().setActiveKey;return(0,h.useEffect)(function(){return function(){R&&(I(),P(null))}},[R]),(0,f.jsxs)("div",{className:"jsx-335414158 my-4 flex justify-around items-center",children:[!n&&(0,f.jsxs)("div",{className:"jsx-335414158 flex justify-center flex-col gap-2 items-center",children:[(0,f.jsx)(u.A,{hoverable:!0,bordered:!0,style:{width:S.width+20,height:S.height+20,padding:10},cover:"shape"===t?A:C}),(0,f.jsxs)(p.Ay,{color:"primary",type:"primary",size:"small",onClick:function(){var e=i.hW.MATERIAL;T(!0),D(t),P(e),E(g)},className:"flex items-center gap-2 text-sm",children:[(0,f.jsx)(l.In,{icon:"solar:gallery-wide-bold",className:"w-5 h-5"}),"Thay đổi"]})]}),(0,f.jsx)(a(),{id:"335414158",children:[".shape-component.jsx-335414158{opacity:1;z-index:151;border-radius:0px;background-color:rgb(204,204,204);border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}",".button-container.jsx-335414158{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:16px;}",".custom-button.jsx-335414158{background-color:#ff8fa3;color:#ffffff;border:none;border-radius:8px;width:100px;height:35px;font-size:14px;text-align:center;cursor:pointer;box-shadow:0px 2px 4px rgba(0,0,0,0.1);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".custom-button.jsx-335414158:hover{background-color:#fd9cad;box-shadow:0px 4px 6px rgba(0,0,0,0.15);}",".custom-button.jsx-335414158:active{background-color:#fd9cad;-webkit-transform:scale(0.98);-ms-transform:scale(0.98);transform:scale(0.98);}"]})]})}},89862:(e,t,n)=>{"use strict";n.d(t,{RT:()=>R,fQ:()=>tw,Ah:()=>tR,wl:()=>tF,K6:()=>tL});var r,a,i=n(42969),o=n(32228),s=n(14232),c=n(49050),l=n(66125),d=n(80427),u=n(37876);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h={top:10,left:10,width:100,height:100,margin:[0,0,0,0]},m=d.I4.div(r||(r=(0,o.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  span {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: #fff;\n    border-radius: 100%;\n    display: block;\n    box-shadow: 0px 0px 12px -1px rgba(0, 0, 0, 0.25);\n    z-index: 99999;\n    pointer-events: none;\n    border: 2px solid #36a9e0;\n    &:nth-child(1) {\n      left: -5px;\n      top: -5px;\n    }\n    &:nth-child(2) {\n      right: -5px;\n      top: -5px;\n      display: block;\n    }\n    &:nth-child(3) {\n      left: -5px;\n      bottom: -5px;\n    }\n    &:nth-child(4) {\n      bottom: -5px;\n      right: -5px;\n      display: block;\n    }\n  }\n"]))),f=function(e){var t=e=x(x({},h),e),n=t.top,r=t.left,a=t.height,i=t.width,o=(t.margin,t.children),d=(0,l.oB)(function(e){return{active:e.events.selected}}),p=d.connectors,f=p.connect,g=(p.drag,d.actions.setProp),b=d.active,j=(0,s.useRef)(!1),y=(0,s.useRef)(null);return(0,u.jsx)("div",{ref:function(e){e&&f(e)},onMouseDown:function(e){if(!j.current){e.preventDefault();var t=e.clientX-r,a=e.clientY-n,i=function(e){var n=e.clientX-t,r=e.clientY-a;g(function(e){e.top=r,e.left=n},500)},o=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",o)}},style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),cursor:j.current?"default":"move"},children:(0,u.jsxs)(c.Resizable,{size:{width:i,height:a},onResizeStart:function(){j.current=!0},onResize:function(e,t,a,i){g(function(e){var t=Math.max(50,parseFloat(a.style.width)),n=Math.max(50,parseFloat(a.style.height));e.width=t,e.height=n},500);var o=t.toLowerCase().includes("left"),s=t.toLowerCase().includes("top");if(o||s){y.current||(y.current=i);var c=i.width-y.current.width,l=i.height-y.current.height;g(function(e){o&&(e.left=r-c),s&&(e.top=n-l)},500),y.current=i}},onResizeStop:function(){j.current=!1,y.current=null},minWidth:50,minHeight:50,enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{display:"flex",alignItems:"center",justifyContent:"center",background:"#ccc",border:"1px solid #ccc",boxSizing:"border-box"},children:[o,b&&(0,u.jsxs)(m,{children:[(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{})]})]})})};f.craft={displayName:"Drag Box",props:h,rules:{canDrag:function(){return!0}}};var g=n(37436),b=n(59860),j=n(27002),y=n.n(j),v=n(81363),w=n(62436),k=n(69486),N=n(68787),A=n(733),C=n(94085);let S=function(){var e=C.Fr||C.v1,t=(0,v.V)(),n=t.icon,r=t.iconColor,a=t.setIcon,i=t.setIconColor,o=t.setCurrentMusic,c=(0,w.c3)().setActiveKey,l=(0,A.bi)().pageData;return(0,s.useEffect)(function(){if(l){var e=l.audioIcon,t=l.audioIconColor,n=l.audioKey,r=l.audioTitle,s=l.audioDuration;n&&o({title:r,duration:s,fileKey:n}),a(e),i(t)}},[l]),(0,u.jsx)(N.A,{setting:!0,onClick:function(){e||c(k.hW.MUSIC)},audioIcon:n,audioIconColor:r})};var O=function(e){var t=e.value,n=e.onHeightChange,r=e.min,a=void 0===r?1:r,i=e.step,o=e.className,c=(0,s.useState)(Number(t)||a),l=c[0],d=c[1];return(0,s.useEffect)(function(){d(Number(t)||a)},[t,a]),(0,u.jsx)("input",{type:"number",name:"app-height-input",id:"app-height-input",value:l,onChange:function(e){d(Math.max(a,parseInt(e.target.value)||a))},onKeyDown:function(e){"Enter"===e.key&&n(l)},onBlur:function(){n(l)},className:void 0===o?"w-20 h-6 px-2 text-center text-sm border-0 bg-transparent focus:outline-none focus:ring-0":o,min:a,step:void 0===i?1:i})},T=["editorViewportWidth"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=function(e){var t=e.editorViewportWidth,n=(0,b.A)(e,T),r=n.children,a=n.width,i=n.height,o=n.background,d=(0,l.oB)(),p=(d.id,d.connectors),x=p.connect,h=p.drag,m=d.actions.setProp,f=(0,l.hG)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,s.useEffect)(function(){t&&m(function(e){e.width=t})},[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{id:"root-page-container",ref:function(e){e&&x(h(e))},style:E(E({},o?o.startsWith("http://")||o.startsWith("https://")?{backgroundColor:"transparent",backgroundImage:"url(".concat(o,")"),backgroundSize:"contain"}:o.includes("gradient")?{backgroundColor:"transparent",backgroundImage:o,backgroundSize:"cover"}:{backgroundColor:o,backgroundImage:"none",backgroundSize:"cover"}:{backgroundColor:"#fff",backgroundImage:"none",backgroundSize:"cover"}),{},{width:t||a,height:i,position:"relative"}),className:"jsx-2177353859",children:(0,u.jsxs)(c.Resizable,{size:{width:t||a,height:i},onResize:function(e,t,n,r){m(function(e){e.height=Math.max(50,parseFloat(n.style.height))},200)},minWidth:50,minHeight:50,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},style:{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},children:[f&&(0,u.jsx)(S,{}),(0,u.jsx)("div",{className:"jsx-2177353859 w-full h-full",children:r})]})}),f&&(0,u.jsx)("div",{id:"root-page-container-resize-handle",className:"jsx-2177353859 mt-4 z-[99999999]",children:(0,u.jsxs)("div",{className:"jsx-2177353859 flex items-center gap-2 bg-white/90 backdrop-blur-sm rounded-full shadow-md border border-gray-200/50 px-2 py-1",children:[(0,u.jsx)("button",{onClick:function(){var e=Math.max(100,Number(i)-10);m(function(t){t.height=e})},title:"Giảm chiều d\xe0i",className:"jsx-2177353859 w-6 h-6 flex items-center justify-center bg-gray-100/80 hover:bg-gray-200/80 rounded-full transition-all duration-200 hover:scale-105",children:(0,u.jsx)("span",{className:"jsx-2177353859 text-gray-600 text-lg font-medium mb-1",children:"−"})}),(0,u.jsxs)("div",{className:"jsx-2177353859 flex items-center",children:[(0,u.jsx)(O,{value:i,onHeightChange:function(e){m(function(t){t.height=e})},min:1,step:1}),(0,u.jsx)("span",{className:"jsx-2177353859 text-xs text-gray-500 font-medium",children:"px"})]}),(0,u.jsx)("button",{onClick:function(){var e=Number(i)+10;m(function(t){t.height=e})},title:"Tăng chiều d\xe0i",className:"jsx-2177353859 w-6 h-6 flex items-center justify-center bg-gray-100/80 hover:bg-gray-200/80 rounded-full transition-all duration-200 hover:scale-105",children:(0,u.jsx)("span",{className:"jsx-2177353859 text-gray-600 text-lg font-medium mb-1",children:"+"})})]})}),(0,u.jsx)(y(),{id:"2177353859",children:['#main-scroll-container #root-page-container::before{content:"";position:absolute;left:50%;bottom:3px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:50px;height:4px;background:rgba(0,0,0,0.1);border-radius:2px;-webkit-transition:all 0.2s;transition:all 0.2s;}',"#main-scroll-container #root-page-container:hover::before{background:rgba(0,0,0,0.3);}"]})]})};R.craft={displayName:"Container",rules:{canDrag:function(){return!0}},props:{width:500,height:1e3,background:"#fff"}};var I=n(12887),P=n(82599),B=n(93521),z=n(95463),_=n(25192),F=n(33536),L=n(96447),M=n(12448),H=n(89467),U=n(40673),K=function(e){var t=e.enabled,n=e.isResizing,r=e.left,a=e.top,i=e.setProp,o=e.throttleRate,s=void 0===o?500:o,c=e.isFocusText,l=e.isActive,d=e.setFocusing;return{handleDragMouseDown:function(e){if(t&&!n.current){e.preventDefault();var o=e.clientX-r,c=e.clientY-a,l=function(e){var t=e.clientX-o,n=e.clientY-c;i(function(e){e.top=n,e.left=t},s)},d=function(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",d)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",d)}},handleTouchDragStart:function(e){if(t&&!n.current){var o=e.touches[0].clientX-r,c=e.touches[0].clientY-a,l=document.getElementById("main-scroll-container");l&&(l.style.overflow="hidden");var d=function(e){var t=e.touches[0].clientX-o,n=e.touches[0].clientY-c;i(function(e){e.top=n,e.left=t},s)},u=function(){l&&(l.style.overflow=""),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",u)};document.addEventListener("touchmove",d),document.addEventListener("touchend",u)}},handleTextMouseDown:function(e){if(t&&!(null!=c&&c.current)){e.preventDefault(),c&&(c.current=!0);var n=e.clientX-r,o=e.clientY-a,u=function(e){var t=e.clientX-n,r=e.clientY-o;i(function(e){e.top=r,e.left=t},s),c&&(c.current=!1)},p=function(){l&&null!=c&&c.current&&d&&d(!0),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)}}}},W=function(e){var t=e.enabled,n=e.left,r=e.top,a=e.setProp,i=e.throttleRate,o=void 0===i?500:i,c=e.MIN_SIZE,l=void 0===c?20:c,d=(0,s.useState)(!1),u=d[0],p=d[1],x=(0,s.useRef)(!1),h=(0,s.useRef)(null);return{isResizing:x,isCornerResize:u,handleResizeStart:function(e,t){x.current=!0;var n=document.getElementById("main-scroll-container");n&&(n.style.overflow="hidden"),["topLeft","topRight","bottomLeft","bottomRight"].includes(t)?p(!0):p(!1)},handleResizing:function(e,i,s,c){if(t){a(function(e){var t=Math.max(l,parseFloat(s.style.width)),n=Math.max(l,parseFloat(s.style.height));e.width=t,e.height=n},o);var d=i.toLowerCase().includes("left"),u=i.toLowerCase().includes("top");if(d||u){h.current||(h.current=c);var p=c.width-h.current.width,x=c.height-h.current.height;a(function(e){d&&(e.left=n-p),u&&(e.top=r-x)},o),h.current=c}}},handleResizeStop:function(){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow=""),x.current=!1,h.current=null,p(!1)}}},X=n(10881),G=n(86961),Y=n(21350),q={SHAPE:"H\xecnh dạng",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng"};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Z={top:10,left:10,width:100,height:100,color:"#ccc",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0},J=d.I4.div(a||(a=(0,o.A)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  span {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: #fff;\n    border-radius: 100%;\n    display: block;\n    box-shadow: 0px 0px 12px -1px rgba(0, 0, 0, 0.25);\n    z-index: 99999;\n    pointer-events: none;\n    border: 2px solid #36a9e0;\n    &:nth-child(1) {\n      left: -5px;\n      top: -5px;\n    }\n    &:nth-child(2) {\n      right: -5px;\n      top: -5px;\n      display: block;\n    }\n    &:nth-child(3) {\n      left: -5px;\n      bottom: -5px;\n    }\n    &:nth-child(4) {\n      bottom: -5px;\n      right: -5px;\n      display: block;\n    }\n  }\n"]))),$=function(e){var t=e=Q(Q({},Z),e),n=t.top,r=t.left,a=t.height,i=t.width,o=t.opacity,s=t.color,d=t.shadow,p=t.padding,x=t.borderRadius,h=t.rotation,m=t.flipX,f=t.flipY,g=t.borderPosition,b=t.borderSize,j=t.borderStyle,v=t.borderColor,w=t.hasShadow,N=t.boxShadow,A=t.imgKey,C=t.zIndex,S=(0,l.oB)(function(e){return{active:e.events.selected}}),O=S.connectors.connect,T=S.actions.setProp,D=S.active,E=(0,l.hG)(function(e){return{enabled:e.options.enabled}}).enabled,R=W({enabled:E,left:r,top:n,setProp:T,throttleRate:500,MIN_SIZE:20}),I=R.isResizing,P=R.isCornerResize,B=R.handleResizeStart,z=R.handleResizing,_=R.handleResizeStop,F=K({enabled:E,isResizing:I,left:r,top:n,setProp:T,throttleRate:500}),L=F.handleTouchDragStart,M=F.handleDragMouseDown,H=function(){switch(g){case"all":return{border:"".concat(b,"px ").concat(j," ").concat(v)};case"top":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v)};case"bottom":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(v)};case"right":return{borderRight:"".concat(b,"px ").concat(j," ").concat(v)};case"left":return{borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"top-bottom":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v),borderBottom:"".concat(b,"px ").concat(j," ").concat(v)};case"right-left":return{borderRight:"".concat(b,"px ").concat(j," ").concat(v),borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"upper-left":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v),borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"upper-right":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v),borderRight:"".concat(b,"px ").concat(j," ").concat(v)};case"lower-left":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(v),borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"lower-right":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(v),borderRight:"".concat(b,"px ").concat(j," ").concat(v)};default:return{}}}();return(0,u.jsxs)("div",{ref:function(e){e&&O(e)},onMouseDown:M,onTouchStart:L,style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),zIndex:C,cursor:E?I?"default":"move":"default"},className:y().dynamic([["1102248890",[s]]]),children:[(0,u.jsxs)(c.Resizable,{size:{width:i,height:a},lockAspectRatio:P,onResizeStart:B,onResize:z,onResizeStop:_,minWidth:k.TL,minHeight:k.TL,enable:{top:E,right:E,bottom:E,left:E,topRight:E,bottomRight:E,bottomLeft:E,topLeft:E},style:Q(Q({display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},H),{},{padding:"".concat(p[0],"px ").concat(p[1],"px ").concat(p[2],"px ").concat(p[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((d||0)/100,")"),opacity:o,borderRadius:"".concat(x[0],"px \n          ").concat(x[1],"px \n          ").concat(x[2],"px \n          ").concat(x[3],"px"),transform:"rotate(".concat(h,"deg) scale(").concat(m?-1:1,", ").concat(f?-1:1,")"),boxShadow:w?"".concat(N.offsetX,"px ").concat(N.offsetY,"px ").concat(N.blur,"px ").concat(N.spread,"px ").concat(N.color):"none"}),children:[(0,u.jsx)("div",{style:{width:i,height:a,maskImage:"url(".concat((0,U.T_)(A),")")},className:y().dynamic([["1102248890",[s]]])+" shape-component"}),D&&(0,u.jsxs)(J,{children:[(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])})]})]}),(0,u.jsx)(y(),{id:"1102248890",dynamic:[s],children:[".shape-component.__jsx-style-dynamic-selector{opacity:1;z-index:151;border-radius:0px;background-color:".concat(s,";border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}")]})]})};$.craft={displayName:"Shape Item",props:Z,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(H.k,{type:"shape"}),(0,u.jsxs)(P.rk,{title:"M\xe0u sắc",defaultOpen:!0,children:[(0,u.jsx)(B.O,{isColor:!0,isBackground:!1,colorTitle:"M\xe0u sắc"}),(0,u.jsx)(M.x,{})]}),(0,u.jsxs)(P.rk,{title:"Khoảng đệm",children:[(0,u.jsx)(z.a,{}),(0,u.jsx)(_.d,{flipable:!0})]}),(0,u.jsx)(P.rk,{title:"Đường viền",children:(0,u.jsx)(F.x,{})}),(0,u.jsx)(P.rk,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.G,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.s3x,{size:20}),label:q.SHAPE,onClick:function(){return r(q.SHAPE)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.NyH,{size:20}),label:q.COLOR,onClick:function(){return r(q.COLOR)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.WKR,{size:20}),label:q.PADDING,onClick:function(){return r(q.PADDING)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.lKm,{size:20}),label:q.BORDER,onClick:function(){return r(q.BORDER)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.elE,{size:20}),label:q.BOX_SHADOW,onClick:function(){return r(q.BOX_SHADOW)}}),(0,u.jsx)(Y.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case q.SHAPE:return(0,u.jsx)(H.k,{type:"shape"});case q.COLOR:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(B.O,{isColor:!0,isBackground:!1,colorTitle:"M\xe0u sắc"}),(0,u.jsx)(M.x,{})]});case q.PADDING:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(z.a,{}),(0,u.jsx)(_.d,{flipable:!0})]});case q.BORDER:return(0,u.jsx)(F.x,{});case q.BOX_SHADOW:return(0,u.jsx)(L.G,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var ee=n(90579),et=n(88660),en=n(66013),er=n(13286),ea=n(83240),ei=n(80878),eo=n(32723),es=n(27925),ec=n(31389),el=function(e){var t=e.galleryImageUrl,n=e.listingTitle,r=e.listingDescription,a=e.clicked,i=e.showCloseButton,o=e.onClose,s=e.className;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"custom-pin ".concat(void 0===s?"":s),children:[void 0!==i&&i&&(0,u.jsx)("button",{className:"close-button",onClick:o,children:(0,u.jsx)("span",{className:"material-symbols-outlined",children:" close "})}),(0,u.jsxs)("div",{className:"image-container",children:[(0,u.jsx)("div",{className:"photo-gallery ".concat(void 0!==a&&a?"extended":""),children:(0,u.jsx)("img",{src:t,alt:"Cinelove wedding map"})}),(0,u.jsx)("span",{className:"icon",children:(0,u.jsx)(ec.O2j,{color:"white",size:24})})]}),(0,u.jsx)("div",{className:"details-container",children:(0,u.jsxs)("div",{className:"listing-content",children:[(0,u.jsx)("h2",{children:n}),(0,u.jsxs)("p",{className:"description",children:[r,(0,u.jsx)("span",{style:{color:"#ff8a80"},children:"♥"})]})]})})]}),(0,u.jsx)("div",{className:"tip"})]})},ed=n(57447),eu=n(15039),ep=n.n(eu),ex=n(36423),eh=function(e){var t=e.place,n=e.marker,r=(0,ed.ko)();return(0,s.useEffect)(function(){var e,a,i;r&&t&&n&&(null!=(e=t.geometry)&&e.viewport&&r.fitBounds(null==(i=t.geometry)?void 0:i.viewport),n.position=null==(a=t.geometry)?void 0:a.location)},[r,t,n]),null},em=function(e){var t=e.onPlaceSelect,n=(0,s.useState)(null),r=n[0],a=n[1],i=(0,s.useRef)(null),o=(0,ed.ST)("places");(0,s.useEffect)(function(){o&&i.current&&a(new o.Autocomplete(i.current,{fields:["geometry","name","formatted_address"]}))},[o]),(0,s.useEffect)(function(){r&&r.addListener("place_changed",function(){t(r.getPlace())})},[t,r]);var c=C.Fr||C.v1;return(0,u.jsx)("div",{className:"autocomplete-container",style:{width:c?"100%":500,marginTop:10},children:(0,u.jsx)("input",{ref:i,className:"w-full placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow",placeholder:"Nhập địa chỉ hoặc địa điểm"})})};let ef=function(e){var t=e.enableSearch,n=e.mapCoordinates,r=e.defaultCenter,a=void 0===r?k._7:r,i=e.defaultZoom,o=void 0===i?14:i,c=e.onSelectPlace,l=void 0===c?null:c,d=e.borderRadius,p=void 0===d?[0,0,0,0]:d,x=e.listingTitle,h=e.listingDescription,m=e.galleryImageUrl,f=void 0===m?"".concat(ex.A.CDN_URL,"/images/map-pin-heart-dreamy.jpg"):m,g=(0,s.useState)(null),b=g[0],j=g[1],v=(0,ed.vH)(),w=(0,es.A)(v,2),N=w[0],A=w[1],C=(0,s.useState)(!1),S=C[0],O=C[1],T=(0,s.useState)(!1),D=T[0],E=T[1],R=function(){if(n||a){var e=n||a,t=e.lat,r=e.lng,i="https://maps.google.com/maps?q=".concat(t,",").concat(r,"&z=").concat(o);window.open(i,"_blank")}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:y().dynamic([["18706560",[p[0],p[1],p[2],p[3]]]])+" advanced-marker-wrapper",children:(0,u.jsxs)(ed.c4,{apiKey:ex.A.MAP_API_KEY,libraries:["marker"],children:[(0,u.jsx)(ed.T5,{mapId:ex.A.MAP_ID,defaultZoom:o,defaultCenter:a,center:n,gestureHandling:"greedy",disableDefaultUI:!0,children:(0,u.jsx)(ed.J8,{ref:N,position:n||a,title:"AdvancedMarker with custom html content.",onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)},className:ep()("real-estate-marker",{clicked:S,hovered:D}),onClick:function(){S&&R(),O(!S)},children:(0,u.jsx)(el,{galleryImageUrl:f,listingTitle:x,listingDescription:h,clicked:S,showCloseButton:!0,onClose:function(){return O(!1)}})})}),void 0!==t&&t&&(0,u.jsx)(ed.EW,{position:ed.HF.TOP,children:(0,u.jsx)("div",{className:y().dynamic([["18706560",[p[0],p[1],p[2],p[3]]]])+" autocomplete-control",children:(0,u.jsx)(em,{onPlaceSelect:function(e){j(e),l&&l(e)}})})}),(0,u.jsx)(eh,{place:b,marker:A})]})}),(0,u.jsx)(y(),{id:"18706560",dynamic:[p[0],p[1],p[2],p[3]],children:[".advanced-marker-wrapper>div>div{border-radius:".concat(p[0],"px ").concat(p[1],"px ").concat(p[2],"px ").concat(p[3],"px;}")]})]})},eg=function(e){var t=e.mapCoordinates,n=e.mapView,r=e.onToggleMapView,a=e.borderRadius,i=e.listingTitle,o=e.listingDescription,s=e.galleryImageUrl,c=(0,l.hG)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,u.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[c&&(0,u.jsx)(ea.Ay,{style:{position:"absolute",top:5,right:5,zIndex:2,padding:"15px 25px",border:"1px solid #ccc"},onClick:function(){r(!n)},children:(0,u.jsx)(ei.A,{title:n?"Di chuyển":"Thao t\xe1c bản đồ",children:n?(0,u.jsx)(eo.zhn,{size:24}):(0,u.jsx)(G.hxX,{size:24})})}),c&&!n&&(0,u.jsx)("div",{style:{width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.2)",position:"absolute",zIndex:1}}),(0,u.jsx)(ef,{defaultCenter:t,borderRadius:a,listingTitle:i,listingDescription:o,galleryImageUrl:s})]})};var eb=n(39229),ej=n(73301),ey=n(45503),ev=n(50679);let ew=function(e){var t=e.label,n=e.onClick,r=e.icon,a=e.backgroundColor,i=e.textColor,o=e.borderRadius,s=e.fontSize,c=e.padding,l=e.fullWidth;return(0,u.jsxs)("button",{onClick:n,className:"bg-primary",style:{backgroundColor:a,color:void 0===i?"#fff":i,border:"none",borderRadius:void 0===o?"8px":o,fontSize:void 0===s?"16px":s,padding:void 0===c?"12px 20px":c,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",gap:"8px",width:l?"100%":"auto"},children:[r&&(0,u.jsx)("span",{children:r}),t]})},ek=function(){var e=(0,l.oB)(function(e){return{mapCoordinates:e.data.props.mapCoordinates,listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription,galleryImageUrl:e.data.props.galleryImageUrl}}),t=e.actions.setProp,n=e.mapCoordinates,r=e.listingTitle,a=e.listingDescription,i=e.galleryImageUrl,o=(0,s.useState)(!1),c=o[0],d=o[1],p=(0,s.useState)(null),x=p[0],h=p[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ew,{label:"Chọn vị tr\xed",onClick:function(){return d(!0)},icon:(0,u.jsx)(ev.vq8,{}),backgroundColor:"#ff8fa3",textColor:"#fff",borderRadius:"6px",fontSize:"18px",padding:"7px 30px"}),(0,u.jsx)(ey.A,{title:"Chọn vị tr\xed tr\xean bản đồ",open:c,footer:[(0,u.jsx)(ea.Ay,{onClick:function(){return d(!1)},children:"Hủy"},"cancel"),(0,u.jsx)(ea.Ay,{type:"primary",onClick:function(){d(!1),x&&t(function(e){e.mapCoordinates=x})},children:"X\xe1c nhận"},"confirm")],onCancel:function(){return d(!1)},width:800,styles:{body:{height:600}},children:(0,u.jsx)(ef,{defaultZoom:5,enableSearch:!0,onSelectPlace:function(e){try{if(!e)return;var t=e.geometry.location.lat(),n=e.geometry.location.lng();h({lat:t,lng:n})}catch(e){ej.Ay.error("Lỗi khi chọn vị tr\xed tr\xean bản đồ")}},defaultCenter:n,listingTitle:r,listingDescription:a,galleryImageUrl:i})})]})};var eN=function(){var e=(0,l.oB)(function(e){return{galleryImageUrl:e.data.props.galleryImageUrl||"".concat(ex.A.CDN_URL,"/images/map-pin-heart-dreamy.jpg"),listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription}}),t=e.listingTitle,n=e.listingDescription,r=e.galleryImageUrl,a=(0,s.useState)(!1),i=a[0],o=a[1],c=(0,s.useState)(!1),d=c[0],p=c[1];return(0,u.jsx)("div",{className:"my-4 flex justify-around items-center",children:(0,u.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mb-3 mt-3 flex justify-center advanced-marker-wrapper",children:(0,u.jsx)("div",{style:{position:"relative",transformOrigin:"center"},onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},className:ep()("real-estate-marker",{clicked:i,hovered:d}),onClick:function(){return o(!i)},children:(0,u.jsx)(el,{galleryImageUrl:r,listingTitle:t,listingDescription:n,clicked:i,showCloseButton:!1,className:"preview-pin"})})}),(0,u.jsx)("span",{className:"text-xs text-gray-500 text-center block mb-2 italic",children:"Di chuột hoặc chạm v\xe0o để xem"})]}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"20px"},children:(0,u.jsx)(ek,{})})]})})},eA=n(33598),eC={CUSTOMIZE:"Tuỳ chỉnh bản đồ",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eT={top:10,left:10,width:k.bv.mapWidth,height:k.bv.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},mapCoordinates:void 0,zIndex:0,locked:!1,listingTitle:"Cinelove Wedding",listingDescription:"Nhấn để xem đường đi v\xe0 c\xf9ng nhau đến bữa tiệc ngọt ng\xe0o ♥",galleryImageUrl:"".concat(ex.A.CDN_URL,"/images/map-pin-heart-dreamy.jpg"),transition:eb.l},eD=function(e){var t=(0,s.useRef)(null),n=(0,s.useState)([]),r=n[0],a=n[1],i=(0,s.useState)(!1),o=i[0],c=i[1],d=e=eO(eO({},eT),e),p=d.top,x=d.left,h=d.height,m=d.width,f=d.opacity,g=d.shadow,b=d.padding,j=d.borderRadius,y=d.rotation,v=d.borderPosition,w=d.borderSize,k=d.borderStyle,N=d.borderColor,A=d.hasShadow,C=d.boxShadow,S=d.mapCoordinates,O=d.zIndex,T=d.locked,D=d.listingTitle,E=d.listingDescription,R=d.galleryImageUrl,I=d.transition,P=(0,l.oB)(function(e){return{active:e.events.selected,id:e.id}}),B=P.connectors.connect,z=P.actions.setProp,_=P.active,F=P.id,L=(0,l.hG)(function(e){return{enabled:e.options.enabled}}).enabled,M=I||eb.l,H=(0,s.useState)(!1),U=H[0],K=H[1];(0,s.useEffect)(function(){if(_&&L){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==F}))}},[_,L,F]);var W=(0,s.useState)({width:0,height:0,left:0,top:0}),X=W[0],G=W[1],Y=(0,s.useState)(null),q=Y[0],V=Y[1];(0,s.useEffect)(function(){if(_&&L){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();G({width:t.width,height:t.height,left:t.left,top:t.top}),V(e)}}},[_,L]);var Q=function(){switch(v){case"all":return{border:"".concat(w,"px ").concat(k," ").concat(N)};case"top":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N)};case"bottom":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"left":return{borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"top-bottom":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right-left":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-left":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-right":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-left":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-right":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};default:return{}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":F,ref:function(e){e&&(B(e),t.current=e)},style:eO(eO({position:"absolute",top:"".concat(p,"px"),left:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(h,"px"),zIndex:O,cursor:L?o?"default":"move":"default",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},Q),{},{padding:"".concat(b[0],"px ").concat(b[1],"px ").concat(b[2],"px ").concat(b[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((g||0)/100,")"),opacity:f,borderRadius:"".concat(j[0],"px \n          ").concat(j[1],"px \n          ").concat(j[2],"px \n          ").concat(j[3],"px"),transform:"rotate(".concat(y,"deg)"),boxShadow:A?"".concat(C.offsetX,"px ").concat(C.offsetY,"px ").concat(C.blur,"px ").concat(C.spread,"px ").concat(C.color):"none"}),children:(0,u.jsx)(eA.A,{transition:M,targetRef:t,enabled:L,nodeId:F,onTransitionStart:function(){K(!0)},onTransitionEnd:function(){K(!1)},children:(0,u.jsx)(eg,{mapCoordinates:S,borderRadius:j,mapView:o,onToggleMapView:function(e){return c(e)},listingTitle:D,listingDescription:E,galleryImageUrl:R},S.lat)})}),_&&L&&t.current&&!o&&!U&&(0,u.jsx)(er.A,{target:t.current,container:q,otherElements:r,containerBounds:X,currentProps:{top:p,left:x,width:m,height:h,rotation:y,flipX:!1,flipY:!1,locked:T},onUpdateProps:function(e){z(function(t){Object.assign(t,e)})}})]})};eD.craft={displayName:"Bản đồ",props:eT,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)(P.rk,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:[(0,u.jsx)(eN,{}),(0,u.jsx)(M.x,{})]}),(0,u.jsxs)(P.rk,{title:"Khoảng đệm",children:[(0,u.jsx)(z.a,{}),(0,u.jsx)(_.d,{})]}),(0,u.jsx)(P.rk,{title:"Đường viền",children:(0,u.jsx)(F.x,{})}),(0,u.jsx)(P.rk,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.G,{})}),(0,u.jsx)(P.rk,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(eb.i,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Pmb,{size:20}),label:eC.CUSTOMIZE,onClick:function(){return r(eC.CUSTOMIZE)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.WKR,{size:20}),label:eC.PADDING,onClick:function(){return r(eC.PADDING)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.lKm,{size:20}),label:eC.BORDER,onClick:function(){return r(eC.BORDER)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.elE,{size:20}),label:eC.BOX_SHADOW,onClick:function(){return r(eC.BOX_SHADOW)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Vt5,{size:20}),label:eC.TRANSITION,onClick:function(){return r(eC.TRANSITION)}}),(0,u.jsx)(Y.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case eC.CUSTOMIZE:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eN,{}),(0,u.jsx)(M.x,{})]});case eC.PADDING:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(z.a,{}),(0,u.jsx)(_.d,{})]});case eC.BORDER:return(0,u.jsx)(F.x,{});case eC.BOX_SHADOW:return(0,u.jsx)(L.G,{});case eC.TRANSITION:return(0,u.jsx)(eb.i,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var eE=n(32216),eR=n(30116),eI=n(12133),eP={CUSTOMIZE:"Tuỳ chỉnh bản đồ",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e_={top:10,left:10,width:k.bv.mapWidth,height:k.bv.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},address:"",zIndex:0,locked:!1,backgroundColor:"transparent",transition:eb.l},eF=function(e){var t=(0,s.useRef)(null),n=(0,s.useState)([]),r=n[0],a=n[1],i=(0,s.useState)(!1),o=i[0],c=i[1],d=e=ez(ez({},e_),e),p=d.top,x=d.left,h=d.height,m=d.width,f=d.opacity,g=d.shadow,b=d.padding,j=d.borderRadius,y=d.rotation,v=d.borderPosition,w=d.borderSize,k=d.borderStyle,N=d.borderColor,A=d.hasShadow,C=d.boxShadow,S=d.address,O=d.zIndex,T=d.locked,D=d.backgroundColor,E=d.transition,R=(0,l.oB)(function(e){return{active:e.events.selected,id:e.id}}),I=R.connectors.connect,P=R.actions.setProp,B=R.active,z=R.id,_=(0,l.hG)(function(e){return{enabled:e.options.enabled}}).enabled,F=E||eb.l,L=(0,s.useState)(!1),M=L[0],H=L[1],U=(0,s.useState)(!1),K=U[0],W=U[1],X=(0,s.useState)(!0),G=X[0],Y=X[1];(0,s.useEffect)(function(){Y(!1)},[]);var q=(0,eI.J1)(F,K);(0,s.useEffect)(function(){if(F.effectEnabled&&_&&!G){W(!0),H(!1);var e=setTimeout(function(){H(!0),setTimeout(function(){W(!1)},(F.effectDuration+F.effectDelay)*1e3+100)},50);return function(){return clearTimeout(e)}}},[F.effectEnabled,F.effectType,F.effectDuration,F.effectDelay,F.effectEasing]),(0,s.useEffect)(function(){if(F.effectEnabled){var e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(H(!0),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return t.current&&e.observe(t.current),function(){t.current&&e.unobserve(t.current)}}},[F.effectEnabled]),(0,s.useEffect)(function(){if(B&&_){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==z}))}},[B,_,z]);var V=(0,s.useState)({width:0,height:0,left:0,top:0}),Q=V[0],Z=V[1],J=(0,s.useState)(null),$=J[0],ee=J[1];(0,s.useEffect)(function(){if(B&&_){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();Z({width:t.width,height:t.height,left:t.left,top:t.top}),ee(e)}}},[B,_]);var et=function(){switch(v){case"all":return{border:"".concat(w,"px ").concat(k," ").concat(N)};case"top":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N)};case"bottom":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"left":return{borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"top-bottom":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right-left":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-left":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-right":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-left":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-right":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};default:return{}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":z,ref:function(e){e&&(I(e),t.current=e)},style:ez(ez({position:"absolute",top:"".concat(p,"px"),left:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(h,"px"),zIndex:O,cursor:_?o?"default":"move":"default",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:D},et),{},{padding:"".concat(b[0],"px ").concat(b[1],"px ").concat(b[2],"px ").concat(b[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((g||0)/100,")"),opacity:f,borderRadius:"".concat(j[0],"px \n          ").concat(j[1],"px \n          ").concat(j[2],"px \n          ").concat(j[3],"px"),transform:"rotate(".concat(y,"deg)"),boxShadow:A?"".concat(C.offsetX,"px ").concat(C.offsetY,"px ").concat(C.blur,"px ").concat(C.spread,"px ").concat(C.color):"none"}),children:(0,u.jsx)("div",{style:(0,eI.mU)(F,M),children:(0,u.jsx)(eE.A,{address:S,borderRadius:j,mapView:o,onToggleMapView:function(e){return c(e)}})},q)}),B&&_&&t.current&&!o&&!K&&(0,u.jsx)(er.A,{target:t.current,container:$,otherElements:r,containerBounds:Q,currentProps:{top:p,left:x,width:m,height:h,rotation:y,flipX:!1,flipY:!1,locked:T},onUpdateProps:function(e){P(function(t){Object.assign(t,e)})}})]})};eF.craft={displayName:"Bản đồ",props:e_,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(P.rk,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:(0,u.jsx)(eR.j,{})}),(0,u.jsxs)(P.rk,{title:"Khoảng đệm",children:[(0,u.jsx)(B.O,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.x,{}),(0,u.jsx)(z.a,{}),(0,u.jsx)(_.d,{})]}),(0,u.jsx)(P.rk,{title:"Đường viền",children:(0,u.jsx)(F.x,{})}),(0,u.jsx)(P.rk,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.G,{})}),(0,u.jsx)(P.rk,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(eb.i,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Pmb,{size:20}),label:eP.CUSTOMIZE,onClick:function(){return r(eP.CUSTOMIZE)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.NyH,{size:20}),label:eP.COLOR,onClick:function(){return r(eP.COLOR)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.WKR,{size:20}),label:eP.PADDING,onClick:function(){return r(eP.PADDING)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.lKm,{size:20}),label:eP.BORDER,onClick:function(){return r(eP.BORDER)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.elE,{size:20}),label:eP.BOX_SHADOW,onClick:function(){return r(eP.BOX_SHADOW)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Vt5,{size:20}),label:eP.TRANSITION,onClick:function(){return r(eP.TRANSITION)}}),(0,u.jsx)(Y.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case eP.CUSTOMIZE:return(0,u.jsx)(eR.j,{});case eP.COLOR:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(B.O,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.x,{})]});case eP.PADDING:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(z.a,{}),(0,u.jsx)(_.d,{})]});case eP.BORDER:return(0,u.jsx)(F.x,{});case eP.BOX_SHADOW:return(0,u.jsx)(L.G,{});case eP.TRANSITION:return(0,u.jsx)(eb.i,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var eL=n(70970),eM=n(25962),eH=n(43830),eU=n(62497),eK=n(17808),eW=n(44478),eX=n(63857),eG=n(43081),eY=n.n(eG),eq=n(42018),eV=n(6500),eQ=n(1440),eZ=n(29916),eJ=n(50973),e$=n(43672),e0=n(10553),e1=n(54979),e2=n(54587),e3=n.n(e2),e5=n(62081),e4=n(16825),e6=n(14658),e8=n(34007),e7=n(80994),e9=n(78972),te=n(15030),tt=n(48371),tn=function(){var e=(0,l.oB)(function(e){return{modalHintText:e.data.props.modalHintText||"Chạm v\xe0o để mở",modalHintFontSize:e.data.props.modalHintFontSize,modalHintFontFamily:e.data.props.modalHintFontFamily,modalHintColor:e.data.props.modalHintColor,fontSize:e.data.props.fontSize,fontFamily:e.data.props.fontFamily,color:e.data.props.color}}),t=e.actions.setProp,n=e.modalHintText,r=e.modalHintFontSize,a=e.modalHintFontFamily,i=e.modalHintColor,o=e.fontSize,c=e.fontFamily,d=e.color;return(0,s.useEffect)(function(){t(function(e){e.fontSize=e.modalHintFontSize||18,e.fontFamily=e.modalHintFontFamily||"Arial",e.color=e.modalHintColor||"#333333"},0)},[]),(0,s.useEffect)(function(){o!==r&&t(function(e){e.modalHintFontSize=e.fontSize},0)},[o]),(0,s.useEffect)(function(){c!==a&&t(function(e){e.modalHintFontFamily=e.fontFamily},0)},[c]),(0,s.useEffect)(function(){d!==i&&t(function(e){e.modalHintColor=e.color},0)},[d]),(0,u.jsxs)("div",{className:"space-y-3 p-3 bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-md",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"\uD83D\uDCAC Text hướng dẫn (Modal Mode)"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Nội dung text"}),(0,u.jsx)(e9.A,{value:n,onChange:function(e){return t(function(t){return t.modalHintText=e.target.value})},placeholder:"Chạm v\xe0o để mở"})]}),(0,u.jsxs)(P.rk,{defaultOpen:!0,title:"Kiểu chữ",props:["fontSize","fontFamily","color"],children:[(0,u.jsx)(te.H,{}),(0,u.jsx)(tt.e,{}),(0,u.jsx)(B.O,{colorTitle:"M\xe0u chữ",isBackground:!1})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83D\uDCA1 Text n\xe0y sẽ hiển thị ph\xeda tr\xean phong b\xec khi ở chế độ Modal"})]})},tr=n(40251),ta=n(89099),ti=function(){var e=(0,l.oB)(function(e){return{modalBackdropOpacity:e.data.props.modalBackdropOpacity||.4}}),t=e.actions.setProp,n=e.modalBackdropOpacity;return(0,u.jsxs)("div",{className:"space-y-3 p-3 bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-md",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"\uD83C\uDF2B️ Độ mờ backdrop"}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("div",{className:"flex items-center justify-between",children:(0,u.jsxs)("span",{className:"text-xs text-gray-600",children:["Độ mờ: ",Math.round(100*n),"%"]})}),(0,u.jsx)(tr.A,{min:.1,max:1,step:.05,value:n,onChange:function(e){return t(function(t){return t.modalBackdropOpacity=e})}})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"\uD83D\uDCA1 Điều chỉnh độ mờ của lớp phủ nền khi hiển thị modal"})]})},to=[{name:"Blush Romance",colors:{flap:"#EDA5A9",pocketSide:"#F4B8BB",pocketBottom:"#FACBCD"}},{name:"Lavender Dream",colors:{flap:"#B39DDB",pocketSide:"#CDB4F4",pocketBottom:"#dccaff"}},{name:"Red Serenity",colors:{flap:"#812927",pocketSide:"#A33F3D",pocketBottom:"#a84644"}},{name:"Olive Nature",colors:{flap:"#B8C1A8",pocketSide:"#E8DDC1",pocketBottom:"#F2EDD8"}},{name:"Forest Green",colors:{flap:"#305D2E",pocketSide:"#4A7647",pocketBottom:"#638B60"}},{name:"Minimal Ivory",colors:{flap:"#c5bcab",pocketSide:"#DAD3C8",pocketBottom:"#E8E3D8"}},{name:"Mint Whisper",colors:{flap:"#C9E4CA",pocketSide:"#E4F5E7",pocketBottom:"#F0FAF2"}},{name:"Sky Dream",colors:{flap:"#C7DBF4",pocketSide:"#EFF4FA",pocketBottom:"#F7FAFC"}}],ts=[{name:"Blush Romance",colors:{flap:"#EDA5A9",pocketSide:"#F4B8BB",pocketBottom:"#FACBCD"}},{name:"Lavender Dream",colors:{flap:"#B39DDB",pocketSide:"#CDB4F4",pocketBottom:"#dccaff"}},{name:"Red Serenity",colors:{flap:"#812927",pocketSide:"#A33F3D",pocketBottom:"#a84644"}},{name:"Olive Nature",colors:{flap:"#B8C1A8",pocketSide:"#E8DDC1",pocketBottom:"#F2EDD8"}},{name:"Forest Green",colors:{flap:"#305D2E",pocketSide:"#4A7647",pocketBottom:"#638B60"}},{name:"Minimal Ivory",colors:{flap:"#c5bcab",pocketSide:"#DAD3C8",pocketBottom:"#E8E3D8"}},{name:"Mint Whisper",colors:{flap:"#C9E4CA",pocketSide:"#E4F5E7",pocketBottom:"#F0FAF2"}},{name:"Sky Dream",colors:{flap:"#C7DBF4",pocketSide:"#EFF4FA",pocketBottom:"#F7FAFC"}}],tc=function(){var e,t=(0,l.oB)(function(e){return{displayMode:e.data.props.displayMode||"design"}}),n=t.actions.setProp,r=t.displayMode,a=(0,e0.useSession)().data,i=(null==a||null==(e=a.user)?void 0:e.plan)==="free";return(0,u.jsxs)("div",{className:"my-4",children:[i&&(0,u.jsx)("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,u.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,u.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng N\xe2ng Cao:"})," Hiệu ứng phong b\xec thư chỉ d\xe0nh cho g\xf3i Basic trở l\xean."," ",(0,u.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=animated-envelope","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,u.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\uD83D\uDCF1 Chế độ hiển thị"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,u.jsxs)("button",{onClick:function(){return n(function(e){return e.displayMode="design"})},className:"\n            p-3 rounded-lg border-2 transition-all text-center\n            ".concat("design"===r?"border-purple-500 bg-purple-100":"border-gray-200 bg-white","\n          "),children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDFA8"}),(0,u.jsx)("div",{className:"text-sm font-medium",children:"Design"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Trong thiết kế"})]}),(0,u.jsxs)("button",{onClick:function(){return n(function(e){return e.displayMode="modal"})},className:"\n            p-3 rounded-lg border-2 transition-all text-center\n            ".concat("modal"===r?"border-purple-500 bg-purple-100":"border-gray-200 bg-white","\n          "),children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83E\uDE9F"}),(0,u.jsx)("div",{className:"text-sm font-medium",children:"Modal"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"To\xe0n m\xe0n h\xecnh"})]})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"design"===r?"\uD83D\uDCCD Phong b\xec thư nằm trong thiết kế":"\uD83C\uDFAD Phong b\xec hiển thị to\xe0n m\xe0n h\xecnh"})]})},tl=function(){var e=(0,l.oB)(function(e){return{modalHintText:e.data.props.modalHintText||"Chạm v\xe0o để mở"}}),t=e.actions.setProp,n=e.modalHintText;return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83D\uDCAC Nội dung text hướng dẫn"}),(0,u.jsx)(e9.A,{value:n,onChange:function(e){return t(function(t){return t.modalHintText=e.target.value})},placeholder:"Chạm v\xe0o để mở"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Text hiển thị ph\xeda tr\xean phong b\xec thư khi ở chế độ Modal"})]})},td=function(){var e=(0,l.oB)(function(e){return{modalHintFontSize:e.data.props.modalHintFontSize,modalHintFontFamily:e.data.props.modalHintFontFamily,modalHintColor:e.data.props.modalHintColor,fontSize:e.data.props.fontSize,fontFamily:e.data.props.fontFamily,color:e.data.props.color}}),t=e.actions.setProp,n=e.modalHintFontSize,r=e.modalHintFontFamily,a=e.modalHintColor,i=e.fontSize,o=e.fontFamily,c=e.color;return(0,s.useEffect)(function(){t(function(e){e.fontSize=e.modalHintFontSize||18,e.fontFamily=e.modalHintFontFamily||"Arial",e.color=e.modalHintColor||"#333333"},0)},[]),(0,s.useEffect)(function(){i!==n&&t(function(e){e.modalHintFontSize=e.fontSize},0)},[i,n,t]),(0,s.useEffect)(function(){o!==r&&t(function(e){e.modalHintFontFamily=e.fontFamily},0)},[o,r,t]),(0,s.useEffect)(function(){c!==a&&t(function(e){e.modalHintColor=e.color},0)},[c,a,t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tl,{}),(0,u.jsx)(te.H,{}),(0,u.jsx)(tt.e,{}),(0,u.jsx)(B.O,{colorTitle:"M\xe0u chữ",isBackground:!1})]})},tu=function(){var e=(0,l.oB)(function(e){return{modalBackdropOpacity:e.data.props.modalBackdropOpacity||.4,displayMode:e.data.props.displayMode||"design"}}),t=e.actions.setProp,n=e.modalBackdropOpacity;return"modal"!==e.displayMode?null:(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83C\uDF2B️ Độ mờ backdrop"}),(0,u.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,u.jsxs)("span",{className:"text-xs text-gray-600",children:["Độ mờ: ",Math.round(100*n),"%"]})}),(0,u.jsx)(tr.A,{min:.1,max:1,step:.05,value:n,onChange:function(e){return t(function(t){return t.modalBackdropOpacity=e})}}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Điều chỉnh độ mờ của lớp phủ nền"})]})},tp=function(){var e=(0,l.oB)(function(e){var t;return{preventScrollUntilOpened:null==(t=e.data.props.preventScrollUntilOpened)||t}}),t=e.actions.setProp,n=e.preventScrollUntilOpened;return(0,u.jsxs)("div",{className:"my-4 p-3 bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\uD83D\uDD12 Kh\xf3a cuộn trang"}),(0,u.jsx)(eq.A,{checked:n,onChange:function(e){return t(function(t){return t.preventScrollUntilOpened=e.target.checked})},children:(0,u.jsx)("span",{className:"text-sm text-gray-700",children:"Ngăn cuộn trang cho đến khi phong b\xec được mở"})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83D\uDCA1 Khi bật, người xem kh\xf4ng thể cuộn trang cho đến khi mở phong b\xec. Tắt để cho ph\xe9p tự do cuộn ngay cả khi phong b\xec chưa mở."})]})},tx=function(){var e=(0,l.hG)(function(e){return{enabled:e.options.enabled}}),t=e.actions,n=e.enabled;return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("button",{onClick:function(){t.setOptions(function(e){return e.enabled=!n})},className:"w-full py-3 px-4 rounded-lg font-medium transition-all bg-blue-500 text-white hover:bg-blue-600",children:(0,u.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,u.jsx)(G.H0j,{size:20}),(0,u.jsx)("span",{children:"Xem trước hiệu ứng"})]})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"\uD83D\uDCA1 Xem trước để trải nghiệm hiệu ứng tương t\xe1c với phong b\xec"})]})},th=function(){var e,t,n=(0,l.oB)(function(e){return{imageUrl:e.data.props.imageUrl||""}}),r=n.actions.setProp,a=n.imageUrl,i=(0,s.useState)(!1),o=i[0],c=i[1],d=(0,s.useState)(!1),p=d[0],x=d[1],h=(0,s.useState)(null),m=h[0],f=h[1],g=(0,s.useState)([]),b=g[0],j=g[1],y=(0,s.useState)(!1),v=y[0],w=y[1],k=(0,s.useRef)({}),N=(0,e5.x)(function(e){return e.refreshTrigger}),A=function(e){var t=(0,U.B)(e.fileKey);f({fileKey:e.fileKey,url:t}),x(!0),c(!1)},C=(e=(0,eX.A)(eY().mark(function e(t){var n,a;return eY().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:try{n="".concat(m.url,"?").concat(t),a=(0,U.iT)(n),r(function(e){return e.imageUrl=(0,U.B)(a)}),ej.Ay.success("Đ\xe3 chọn ảnh cho phong b\xec thư"),x(!1),f(null)}catch(e){console.error("Error processing cropped image:",e),ej.Ay.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh đ\xe3 cắt")}case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),S=(0,ta.useRouter)(),O=(t=(0,eX.A)(eY().mark(function e(){var t;return eY().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),e.prev=1,t=[],!S.pathname.includes("/partner/editor/")){e.next=10;break}return e.next=7,(0,e8.w0)();case 7:t=e.sent,e.next=13;break;case 10:return e.next=12,(0,e4.bl)();case 12:t=e.sent;case 13:j(T(t)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),ej.Ay.error("Kh\xf4ng thể tải danh s\xe1ch ảnh");case 21:return e.prev=21,w(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[1,17,21,24]])})),function(){return t.apply(this,arguments)}),T=function(e){return(0,eW.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};return(0,s.useEffect)(function(){o&&O()},[N,o]),(b.reduce(function(e,t){return e+(t.fileSize||0)},0)/0x40000000).toFixed(4),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83D\uDDBC️ Ảnh trong phong b\xec"}),a&&(0,u.jsx)("div",{className:"mb-4 border border-gray-200 rounded-md overflow-hidden bg-gray-50 w-fit mx-auto",children:(0,u.jsx)("img",{src:a,alt:"Envelope content",className:"object-cover h-40"})}),(0,u.jsx)("button",{onClick:function(){O(),c(!0)},className:"w-full mt-2 py-2 px-4 rounded-lg font-medium transition-all border bg-white text-gray-700 border-gray-300 hover:border-blue-400",children:(0,u.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,u.jsx)(G.JZt,{size:18}),(0,u.jsx)("span",{children:a?"Chọn ảnh kh\xe1c":"Chọn ảnh"})]})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Ảnh sẽ hiển thị b\xean trong phong b\xec"})]}),(0,u.jsx)(ey.A,{title:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:"Chọn ảnh cho phong b\xec"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Chọn ảnh bạn muốn hiển thị b\xean trong phong b\xec"})]}),open:o,onCancel:function(){c(!1)},footer:null,width:400,children:v?(0,u.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,u.jsx)(eQ.A,{tip:"Đang tải..."})}):0===b.length?(0,u.jsx)(eZ.A,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:(0,u.jsx)(eJ.A,{gutter:[16,16],children:b.map(function(e){return(0,u.jsx)(e$.A,{xs:12,children:(0,u.jsx)("div",{className:"cursor-pointer",onClick:function(){return A(e)},children:(0,u.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 transition-all",children:(0,u.jsx)(e3(),{unoptimized:!0,src:(0,U.Rw)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){t&&(k.current[e.fileId]=t)}})})})},e.fileId)})})})}),m&&(0,u.jsx)(e7.A,{visible:p,imageSrc:m.url,onComplete:C,onCancel:function(){x(!1),f(null)},fixedAspectRatio:"3:2"})]})},tm=function(){var e=(0,l.oB)(function(){return{}}).actions.setProp,t=function(t){e(function(e){e.flapColor=t.colors.flap,e.envelopeColor=t.colors.flap,e.pocketSideColor=t.colors.pocketSide,e.pocketBottomColor=t.colors.pocketBottom}),ej.Ay.success('Đ\xe3 \xe1p dụng theme "'.concat(t.name,'"'))};return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"✨ Theme m\xe0u nhanh"}),(0,u.jsx)("div",{className:"grid grid-cols-2 gap-2",children:ts.map(function(e){return(0,u.jsxs)("div",{onClick:function(){return t(e)},className:"p-3 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md hover:border-blue-400 border-gray-200",children:[(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate mb-2",children:e.name}),(0,u.jsxs)("div",{className:"flex gap-1",children:[(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.flap},title:"Nắp"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketSide},title:"Cạnh"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketBottom},title:"Đ\xe1y"})]})]},e.name)})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Click v\xe0o theme để \xe1p dụng m\xe0u"})]})},tf=function(){var e=(0,l.oB)(function(e){return{flapColor:e.data.props.flapColor||"#812927",pocketSideColor:e.data.props.pocketSideColor||"#A33F3D",pocketBottomColor:e.data.props.pocketBottomColor||"#a84644"}}),t=e.actions.setProp,n=e.flapColor,r=e.pocketSideColor,a=e.pocketBottomColor;return(0,u.jsxs)("div",{className:"my-4 space-y-3",children:[(0,u.jsx)("label",{className:"block text-sm font-medium",children:"\uD83C\uDFA8 T\xf9y chỉnh m\xe0u chi tiết"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Nắp phong b\xec (ph\xeda tr\xean)"}),(0,u.jsx)(eV.A,{value:n,onChange:function(e){return t(function(t){t.flapColor=e.toHexString(),t.envelopeColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#812927","#b91c1c","#991b1b","#7f1d1d","#dc2626","#ef4444"]}],className:"w-full"})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Cạnh phong b\xec (tr\xe1i & phải)"}),(0,u.jsx)(eV.A,{value:r,onChange:function(e){return t(function(t){return t.pocketSideColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#A33F3D","#fca5a5","#fbb6ce","#f9a8d4","#fbcfe8"]}],className:"w-full"})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Đ\xe1y phong b\xec (ph\xeda dưới)"}),(0,u.jsx)(eV.A,{value:a,onChange:function(e){return t(function(t){return t.pocketBottomColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#a84644","#fed7aa","#fcd34d","#fbbf24","#fb923c"]}],className:"w-full"})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"T\xf9y chỉnh m\xe0u cho từng phần của phong b\xec"})]})},tg={CUSTOMIZE:"Kiểu hiển thị",IMAGE:"Ảnh b\xean trong",COLORS:"M\xe0u sắc",MODAL_TEXT:"Text hướng dẫn",TRANSITION:"Hiệu ứng động"},tb=function(e){var t=e.width,n=e.height,r=e.imageUrl,a=e.isOpened,i=e.envelopeColor,o=void 0===i?"#f08080":i,c=e.flapColor,l=void 0===c?"#812927":c,d=e.pocketSideColor,p=void 0===d?"#A33F3D":d,x=e.pocketBottomColor,h=void 0===x?"#a84644":x,m=(0,s.useState)(!1),f=m[0],g=m[1],b=(0,s.useRef)(null);return(0,s.useEffect)(function(){if(r){var e=new Image;e.onload=function(){return g(!0)},e.onerror=function(){return console.log("Failed to load letter image")},e.src=r}},[r]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" envelope-shadow"}),(0,u.jsxs)("div",{ref:b,className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" "+"envelope-container ".concat(a?"open":"close"),children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" front flap"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" front pocket"}),(0,u.jsx)("div",{style:{backgroundImage:'url("'.concat(ex.A.CDN_URL,'/assets/plugins/wax-seal.webp")')},className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" wax-seal"}),(0,u.jsxs)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" letter",children:[!f&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line1"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line2"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line3"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line4"})]}),f&&r&&(0,u.jsx)("img",{src:r,alt:"Letter",className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" letter-image"})]}),(0,u.jsxs)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" hearts",children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" heart a1"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" heart a2"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" heart a3"})]})]}),(0,u.jsx)(y(),{id:"2782888169",dynamic:[t,n,1.14*t,n+50,t,n,o,t/2,t/2,.46*n,.54*n,l,t/2,p,t/2,p,n/2,h,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t],children:[".envelope-shadow.__jsx-style-dynamic-selector{position:absolute;width:".concat(t,"px;height:").concat(n,"px;margin-left:auto;margin-right:auto;top:0;pointer-events:none;z-index:0;}"),'.envelope-shadow.__jsx-style-dynamic-selector::after{content:"";position:absolute;width:'.concat(1.14*t,"px;height:25px;border-radius:50%;background:rgba(0,0,0,0.2);top:").concat(n+50,"px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:shadowScale-__jsx-style-dynamic-selector 3s ease-in-out infinite;animation:shadowScale-__jsx-style-dynamic-selector 3s ease-in-out infinite;-webkit-filter:blur(4px);filter:blur(4px);box-shadow:0 0 20px rgba(0,0,0,0.2);}"),".envelope-container.__jsx-style-dynamic-selector{position:absolute;width:".concat(t,"px;height:").concat(n,"px;border-bottom-left-radius:6px;border-bottom-right-radius:6px;margin-left:auto;margin-right:auto;top:0;background-color:").concat(o,";box-shadow:0 4px 20px rgba(0,0,0,0.2);-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94);-webkit-transition:transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94);transition:transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94);cursor:pointer;-webkit-animation:float-__jsx-style-dynamic-selector 3s ease-in-out infinite;animation:float-__jsx-style-dynamic-selector 3s ease-in-out infinite;z-index:1;}"),".front.__jsx-style-dynamic-selector{position:absolute;width:0;height:0;z-index:3;}",".flap.__jsx-style-dynamic-selector{border-left:".concat(t/2,"px solid transparent;border-right:").concat(t/2,"px solid transparent;border-bottom:").concat(.46*n,"px solid transparent;border-top:").concat(.54*n,"px solid ").concat(l,";-webkit-transform-origin:top;-ms-transform-origin:top;transform-origin:top;}"),".open.__jsx-style-dynamic-selector .flap.__jsx-style-dynamic-selector{-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);-webkit-transition:-webkit-transform 1.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 1.2s;-webkit-transition:transform 1.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 1.2s;transition:transform 1.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 1.2s;z-index:1;}",".close.__jsx-style-dynamic-selector .flap.__jsx-style-dynamic-selector{-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);transform:rotateX(0deg);-webkit-transition:-webkit-transform 0.8s 0.8s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.8s;-webkit-transition:transform 0.8s 0.8s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.8s;transition:transform 0.8s 0.8s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.8s;z-index:5;}",".pocket.__jsx-style-dynamic-selector{border-left:".concat(t/2,"px solid ").concat(p,";border-right:").concat(t/2,"px solid ").concat(p,";border-bottom:").concat(n/2,"px solid ").concat(h,";border-top:").concat(n/2,"px solid transparent;border-bottom-left-radius:6px;border-bottom-right-radius:6px;}"),".wax-seal.__jsx-style-dynamic-selector{position:absolute;top:".concat(.4*n,"px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:").concat(.13*t,"px;height:").concat(.13*t,"px;background-size:contain;background-repeat:no-repeat;background-position:center;z-index:10;}"),".letter.__jsx-style-dynamic-selector{position:relative;background-color:#fff;width:90%;margin-left:auto;margin-right:auto;height:90%;top:5%;border-radius:6px;box-shadow:0 2px 26px rgba(0,0,0,0.12);-webkit-transition:box-shadow 0.3s ease;transition:box-shadow 0.3s ease;overflow:hidden;}",'.letter.__jsx-style-dynamic-selector::after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;background-image:linear-gradient( 180deg, rgba(255,255,255,0) 25%, rgba(255,227,239,0.2) 75%, rgba(215,227,239,0.3) 100% );pointer-events:none;}',".open.__jsx-style-dynamic-selector .letter.__jsx-style-dynamic-selector{box-shadow:0 4px 30px rgba(0,0,0,0.2);-webkit-transform:translateY(-".concat(.475*n,"px);-ms-transform:translateY(-").concat(.475*n,"px);transform:translateY(-").concat(.475*n,"px);-webkit-transition:-webkit-transform 1s 0.5s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.5s;-webkit-transition:transform 1s 0.5s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.5s;transition:transform 1s 0.5s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.5s;z-index:2;}"),".close.__jsx-style-dynamic-selector .letter.__jsx-style-dynamic-selector{-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);-webkit-transition:-webkit-transform 0.6s 0.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.2s;-webkit-transition:transform 0.6s 0.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.2s;transition:transform 0.6s 0.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.2s;z-index:1;}",".letter-image.__jsx-style-dynamic-selector{width:100%;height:100%;object-fit:cover;border-radius:6px;}",".words.__jsx-style-dynamic-selector{position:absolute;left:10%;width:80%;height:14%;background-color:#eeeff0;}",".words.line1.__jsx-style-dynamic-selector{top:15%;width:20%;height:7%;}",".words.line2.__jsx-style-dynamic-selector{top:30%;}",".words.line3.__jsx-style-dynamic-selector{top:50%;}",".words.line4.__jsx-style-dynamic-selector{top:70%;}",".hearts.__jsx-style-dynamic-selector{position:absolute;top:".concat(.55*n,"px;left:0;right:0;z-index:2;}"),".heart.__jsx-style-dynamic-selector{position:absolute;bottom:0;right:10%;}",'.heart.__jsx-style-dynamic-selector::before,.heart.__jsx-style-dynamic-selector::after{position:absolute;content:"";left:'.concat(.107*t,"px;top:0;width:").concat(.107*t,"px;height:").concat(.171*t,"px;background-color:#d00000;border-radius:").concat(.107*t,"px ").concat(.107*t,"px 0 0;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 100%;-ms-transform-origin:0 100%;transform-origin:0 100%;}"),".heart.__jsx-style-dynamic-selector::after{left:0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:100% 100%;-ms-transform-origin:100% 100%;transform-origin:100% 100%;}",".close.__jsx-style-dynamic-selector .heart.__jsx-style-dynamic-selector{opacity:0;-webkit-animation:none;animation:none;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}",".heart.a1.__jsx-style-dynamic-selector{left:20%;-webkit-transform:scale(0.6);-ms-transform:scale(0.6);transform:scale(0.6);opacity:1;}",".open.__jsx-style-dynamic-selector .heart.a1.__jsx-style-dynamic-selector{-webkit-animation:heartFloat-__jsx-style-dynamic-selector 4s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 4 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;animation:heartFloat-__jsx-style-dynamic-selector 4s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 4 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-delay:1.2s;animation-delay:1.2s;}",".heart.a2.__jsx-style-dynamic-selector{left:55%;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1;}",".open.__jsx-style-dynamic-selector .heart.a2.__jsx-style-dynamic-selector{-webkit-animation:heartFloat-__jsx-style-dynamic-selector 5s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 4s ease-in-out 2 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;animation:heartFloat-__jsx-style-dynamic-selector 5s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 4s ease-in-out 2 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-delay:1.4s;animation-delay:1.4s;}",".heart.a3.__jsx-style-dynamic-selector{left:10%;-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);opacity:1;}",".open.__jsx-style-dynamic-selector .heart.a3.__jsx-style-dynamic-selector{-webkit-animation:heartFloat-__jsx-style-dynamic-selector 7s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 6 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;animation:heartFloat-__jsx-style-dynamic-selector 7s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 6 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-delay:1.6s;animation-delay:1.6s;}","@-webkit-keyframes float-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}50%{-webkit-transform:translateY(-20px);-ms-transform:translateY(-20px);transform:translateY(-20px);}}","@keyframes float-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}50%{-webkit-transform:translateY(-20px);-ms-transform:translateY(-20px);transform:translateY(-20px);}}","@-webkit-keyframes shadowScale-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateX(-50%) scaleX(1);-ms-transform:translateX(-50%) scaleX(1);transform:translateX(-50%) scaleX(1);}50%{-webkit-transform:translateX(-50%) scaleX(0.85);-ms-transform:translateX(-50%) scaleX(0.85);transform:translateX(-50%) scaleX(0.85);}}","@keyframes shadowScale-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateX(-50%) scaleX(1);-ms-transform:translateX(-50%) scaleX(1);transform:translateX(-50%) scaleX(1);}50%{-webkit-transform:translateX(-50%) scaleX(0.85);-ms-transform:translateX(-50%) scaleX(0.85);transform:translateX(-50%) scaleX(0.85);}}","@-webkit-keyframes heartFloat-__jsx-style-dynamic-selector{0%{top:0;opacity:1;}50%{opacity:0.8;}80%{opacity:0.3;}100%{top:-600px;opacity:0;visibility:hidden;}}","@keyframes heartFloat-__jsx-style-dynamic-selector{0%{top:0;opacity:1;}50%{opacity:0.8;}80%{opacity:0.3;}100%{top:-600px;opacity:0;visibility:hidden;}}","@-webkit-keyframes sideSway-__jsx-style-dynamic-selector{0%{margin-left:0px;}50%{margin-left:25px;}100%{margin-left:50px;}}","@keyframes sideSway-__jsx-style-dynamic-selector{0%{margin-left:0px;}50%{margin-left:25px;}100%{margin-left:50px;}}","@-webkit-keyframes heartScale-__jsx-style-dynamic-selector{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:0;}50%{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.8;}100%{-webkit-transform:scale(var(--heart-scale,1));-ms-transform:scale(var(--heart-scale,1));transform:scale(var(--heart-scale,1));opacity:1;}}","@keyframes heartScale-__jsx-style-dynamic-selector{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:0;}50%{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.8;}100%{-webkit-transform:scale(var(--heart-scale,1));-ms-transform:scale(var(--heart-scale,1));transform:scale(var(--heart-scale,1));opacity:1;}}"]})]})};function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tv={top:10,left:10,width:300,height:200,rotation:0,zIndex:0,locked:!1,transition:eb.l,imageUrl:"",displayMode:"design",envelopeColor:"#812927",flapColor:"#812927",pocketSideColor:"#A33F3D",pocketBottomColor:"#a84644",modalHintText:"Chạm v\xe0o để mở",modalHintFontSize:18,modalHintFontFamily:"Arial",modalHintColor:"#333333",modalBackdropOpacity:.4,preventScrollUntilOpened:!0},tw=function(e){var t=(0,ta.useRouter)(),n=(0,s.useRef)(null),r=(0,s.useState)([]),a=r[0],i=r[1],o=(0,s.useState)(!1),c=o[0],d=o[1],p=(0,s.useState)(!1),x=p[0],h=p[1],m=(0,s.useState)(!0),f=m[0],g=m[1],b=(0,s.useState)(!1),j=b[0],v=b[1],w=(0,s.useState)(0),k=w[0],N=w[1],A=e=ty(ty({},tv),e),C=A.top,S=A.left,O=A.height,T=A.width,D=A.rotation,E=A.zIndex,R=A.locked,I=A.transition,P=A.imageUrl,B=A.displayMode,z=A.envelopeColor,_=A.flapColor,F=A.pocketSideColor,L=A.pocketBottomColor,M=A.modalHintText,H=A.modalHintFontSize,K=A.modalHintFontFamily,W=A.modalHintColor,X=A.modalBackdropOpacity,G=P?(0,U.B)((0,U.iT)(P)):"",Y=(0,l.oB)(function(e){return{active:e.events.selected,id:e.id}}),q=Y.connectors.connect,V=Y.actions.setProp,Q=Y.active,Z=Y.id,J=(0,l.hG)(function(e){return{enabled:e.options.enabled}}),$=J.enabled,ee=J.actions,et=I||eb.l,en=(0,s.useState)(!1),ea=en[0],ei=en[1];(0,s.useEffect)(function(){if(Q&&$){var e=document.querySelector("#root-page-container");e&&i(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==Z}))}},[Q,$,Z]),(0,s.useEffect)(function(){var e=function(){var e=document.querySelector("#root-page-container");e&&N(e.offsetWidth)};e(),window.addEventListener("resize",e);var t=document.querySelector("#root-page-container"),n=null;return t&&(n=new ResizeObserver(e)).observe(t),function(){window.removeEventListener("resize",e),n&&n.disconnect()}},[]);var eo=(0,s.useState)({width:0,height:0,left:0,top:0}),es=eo[0],ec=eo[1],el=(0,s.useState)(null),ed=el[0],eu=el[1];(0,s.useEffect)(function(){if(Q&&$){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ec({width:t.width,height:t.height,left:t.left,top:t.top}),eu(e)}}},[Q,$]);var ep=t.pathname.includes("/editor/m/")||t.pathname.includes("/editor-template/m/")||t.asPath.includes("/editor/m/")||t.asPath.includes("/editor-template/m/"),ex=function(e){if(!$&&!c){e.stopPropagation(),d(!0);var t=!x;h(t),t&&setTimeout(function(){v(!0),window.dispatchEvent(new CustomEvent("envelope-opened")),setTimeout(function(){g(!1),ep&&!$&&ee.setOptions(function(e){return e.enabled=!0})},500)},3e3),setTimeout(function(){d(!1)},1600)}};(0,s.useEffect)(function(){g(!0),h(!1),v(!1),d(!1)},[$]);var eh="modal"===B;return(0,u.jsxs)(u.Fragment,{children:[eh&&!$&&(0,u.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:0xe8d4a50fff,display:f?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, ".concat(X||.4,")"),backdropFilter:"blur(7px)",opacity:+!j,transition:"opacity 0.5s ease-in-out"},className:"jsx-992657205",children:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},className:"jsx-992657205",children:[M&&(0,u.jsx)("div",{style:{fontSize:"".concat(H,"px"),fontFamily:K,color:W,textAlign:"center",animation:"fadeIn 0.5s ease-in-out",marginBottom:"20px",opacity:+!x,transition:"opacity 0.5s ease-in-out"},className:"jsx-992657205",children:M}),(0,u.jsx)("div",{"data-node-id":Z,ref:function(e){e&&(q(e),n.current=e)},style:{position:"relative",width:"".concat(T,"px"),height:"".concat(O,"px"),zIndex:E,cursor:"pointer",transform:"rotate(".concat(D,"deg)")},onClick:ex,className:"jsx-992657205 animated-envelope-component",children:(0,u.jsx)(tb,{width:T,height:O,envelopeColor:z,flapColor:_,pocketSideColor:F,pocketBottomColor:L,imageUrl:G,isOpened:x})})]})}),(!eh||eh&&$)&&(0,u.jsxs)("div",{"data-node-id":Z,ref:function(e){e&&(q(e),n.current=e)},style:{position:"absolute",top:"".concat(C,"px"),left:"".concat(S,"px"),width:"".concat(T,"px"),height:"".concat(O,"px"),zIndex:eh?999:E,cursor:"move",transform:"rotate(".concat(D,"deg)")},onClick:ex,className:"jsx-992657205 animated-envelope-component",children:[eh&&$&&k>0&&(0,u.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"".concat(k,"px"),height:"".concat(1.5*k,"px"),border:"2px dashed rgba(147, 51, 234, 0.4)",backgroundColor:"rgba(255, 255, 255, ".concat(X||.4,")"),backdropFilter:"blur(5px)",pointerEvents:"none",zIndex:-1,animation:"backdropPulse 3s ease-in-out infinite"},className:"jsx-992657205"}),(0,u.jsxs)(eA.A,{transition:et,targetRef:n,enabled:$,nodeId:Z,onTransitionStart:function(){ei(!0)},onTransitionEnd:function(){ei(!1)},children:[(0,u.jsx)(tb,{width:T,height:O,envelopeColor:z,flapColor:_,pocketSideColor:F,pocketBottomColor:L,imageUrl:G,isOpened:x}),M&&!x&&eh&&(0,u.jsx)("div",{style:{position:"absolute",top:ep?0:"20px",left:"50%",transform:"translate(-50%, -50%)",width:"".concat(T,"px"),height:"".concat(O,"px"),zIndex:0xe8d4a50fff,fontSize:"".concat(H,"px"),fontFamily:K,color:W,textAlign:"center"},className:"jsx-992657205",children:M})]})]}),Q&&$&&n.current&&!ea&&(0,u.jsx)(er.A,{target:n.current,container:ed,otherElements:a,containerBounds:es,currentProps:{top:C,left:S,width:T,height:O,rotation:D,flipX:!1,flipY:!1,locked:R},onUpdateProps:function(e){V(function(t){Object.assign(t,e)})},resizeDirections:["nw","ne","sw","se"],keepRatio:!0}),(0,u.jsx)(y(),{id:"992657205",children:[".animated-envelope-component.jsx-992657205{position:relative;}",'.animated-envelope-component.component-hovered.jsx-992657205::after{content:" ";box-sizing:content-box;border:1px dashed var(--color-primary);position:absolute;pointer-events:none;inset:0;display:block;}',"@-webkit-keyframes fadeIn-jsx-992657205{from{opacity:0;}to{opacity:1;}}","@keyframes fadeIn-jsx-992657205{from{opacity:0;}to{opacity:1;}}","@-webkit-keyframes fadeOut-jsx-992657205{from{opacity:1;}to{opacity:0;}}","@keyframes fadeOut-jsx-992657205{from{opacity:1;}to{opacity:0;}}","@-webkit-keyframes backdropPulse-jsx-992657205{0%,100%{opacity:0.6;-webkit-transform:translate(-50%,-50%) scale(1);-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1);}50%{opacity:0.3;-webkit-transform:translate(-50%,-50%) scale(1.05);-ms-transform:translate(-50%,-50%) scale(1.05);transform:translate(-50%,-50%) scale(1.05);}}","@keyframes backdropPulse-jsx-992657205{0%,100%{opacity:0.6;-webkit-transform:translate(-50%,-50%) scale(1);-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1);}50%{opacity:0.3;-webkit-transform:translate(-50%,-50%) scale(1.05);-ms-transform:translate(-50%,-50%) scale(1.05);transform:translate(-50%,-50%) scale(1.05);}}"]})]})};tw.craft={displayName:"Animated Envelope",props:tv,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e,t,n,r,a=(0,e0.useSession)().data,i=(0,ta.useRouter)(),o=(0,l.oB)(function(e){var t;return{id:e.id,imageUrl:e.data.props.imageUrl||"",displayMode:e.data.props.displayMode||"design",flapColor:e.data.props.flapColor||"#812927",pocketSideColor:e.data.props.pocketSideColor||"#A33F3D",pocketBottomColor:e.data.props.pocketBottomColor||"#a84644",preventScrollUntilOpened:null==(t=e.data.props.preventScrollUntilOpened)||t}}),c=o.actions.setProp,d=(o.id,o.imageUrl),p=o.displayMode,x=o.flapColor,h=o.pocketSideColor,m=o.pocketBottomColor,f=o.preventScrollUntilOpened,g=(0,l.hG)(function(e){return{enabled:e.options.enabled}}),b=g.actions,j=g.enabled,y=(0,s.useState)(!1),v=y[0],w=y[1],k=(0,s.useState)(!1),N=k[0],A=k[1],C=(0,s.useState)(null),S=C[0],O=C[1],T=(0,s.useState)([]),D=T[0],E=T[1],R=(0,s.useState)(!1),I=R[0],P=R[1],B=(0,s.useRef)({}),z=(0,e5.x)(function(e){return e.refreshTrigger}),_=(null==a||null==(n=a.user)?void 0:n.plan)==="free",F=(null==a||null==(r=a.user)?void 0:r.role)==="partner",L=i.pathname.startsWith("/admin/templates/edit"),M=i.query.id,H=function(){w(!1)},K=function(e){var t=(0,U.B)(e.fileKey);O({fileKey:e.fileKey,url:t}),A(!0),w(!1)},W=(e=(0,eX.A)(eY().mark(function e(t){var n,r;return eY().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:try{n="".concat(S.url,"?").concat(t),r=(0,U.iT)(n),c(function(e){return e.imageUrl=(0,U.B)(r)}),ej.Ay.success("Đ\xe3 chọn ảnh cho phong b\xec"),A(!1),O(null)}catch(e){console.error("Error processing cropped image:",e),ej.Ay.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh đ\xe3 cắt")}case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),X=function(e){c(function(t){t.flapColor=e.colors.flap,t.envelopeColor=e.colors.flap,t.pocketSideColor=e.colors.pocketSide,t.pocketBottomColor=e.colors.pocketBottom}),ej.Ay.success('Đ\xe3 \xe1p dụng theme "'.concat(e.name,'"'))},G=(t=(0,eX.A)(eY().mark(function e(){var t,n,r;return eY().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!0),e.prev=1,t=[],n=i.pathname.startsWith("/admin/edit-as/"),!(i.pathname.includes("/partner/editor/")&&F)){e.next=11;break}return e.next=8,(0,e8.w0)();case 8:case 14:case 20:t=e.sent,e.next=39;break;case 11:if(!(L&&M)){e.next=17;break}return e.next=14,(0,e6.CE)(M);case 17:if(!L){e.next=23;break}return e.next=20,(0,e6.B9)();case 23:if(!n){e.next=36;break}if(!(r=i.query.user_id)){e.next=31;break}return e.next=28,(0,e4.Ec)(r);case 28:t=e.sent,e.next=34;break;case 31:return e.next=33,(0,e4.bl)();case 33:t=e.sent;case 34:e.next=39;break;case 36:return e.next=38,(0,e4.bl)();case 38:t=e.sent;case 39:E(Y(t)),e.next=47;break;case 43:e.prev=43,e.t0=e.catch(1),console.error("Error fetching photos:",e.t0),ej.Ay.error("Kh\xf4ng thể tải danh s\xe1ch ảnh");case 47:return e.prev=47,P(!1),e.finish(47);case 50:case"end":return e.stop()}},e,null,[[1,43,47,50]])})),function(){return t.apply(this,arguments)}),Y=function(e){return(0,eW.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,s.useEffect)(function(){v&&G()},[z,v]);var q=(D.reduce(function(e,t){return e+(t.fileSize||0)},0)/0x40000000).toFixed(4);return(0,u.jsxs)("div",{className:"space-y-4",children:[_&&!F&&(0,u.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,u.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,u.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng N\xe2ng Cao:"})," Hiệu ứng phong b\xec thư chỉ d\xe0nh cho g\xf3i Basic trở l\xean."," ",(0,u.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=animated-envelope","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,u.jsxs)("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-md",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"\uD83D\uDCF1 Chế độ hiển thị"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,u.jsx)("div",{onClick:function(){return c(function(e){return e.displayMode="design"})},className:"\n              p-3 rounded-lg border-2 cursor-pointer transition-all\n              ".concat("design"===p?"border-purple-500 bg-purple-100 shadow-md":"border-gray-200 bg-white hover:border-purple-300","\n            "),children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDFA8"}),(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Design"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Hiển thị trong thiết kế"})]})}),(0,u.jsx)("div",{onClick:function(){return c(function(e){return e.displayMode="modal"})},className:"\n              p-3 rounded-lg border-2 cursor-pointer transition-all\n              ".concat("modal"===p?"border-purple-500 bg-purple-100 shadow-md":"border-gray-200 bg-white hover:border-purple-300","\n            "),children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83E\uDE9F"}),(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Modal"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Hiển thị to\xe0n m\xe0n h\xecnh"})]})})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"design"===p?"\uD83D\uDCCD Phong b\xec sẽ nằm trong thiết kế, c\xf3 thể di chuyển v\xe0 chỉnh sửa vị tr\xed":"\uD83C\uDFAD Phong b\xec sẽ hiển thị to\xe0n m\xe0n h\xecnh v\xe0 che đi nội dung b\xean dưới khi chưa được mở"}),(0,u.jsx)(ea.Ay,{type:"primary",icon:(0,u.jsx)(e1.A,{}),onClick:function(){b.setOptions(function(e){return e.enabled=!j})},className:"w-full mt-3",children:"Xem trước hiệu ứng"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83D\uDCA1 Xem trước để trải nghiệm hiệu ứng tương t\xe1c với phong b\xec (mở/đ\xf3ng)"})]}),"modal"===p&&(0,u.jsx)(tn,{}),"modal"===p&&(0,u.jsx)(ti,{}),(0,u.jsxs)("div",{className:"space-y-3 p-3 bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-md",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"\uD83D\uDD12 Kh\xf3a cuộn trang"}),(0,u.jsx)(eq.A,{checked:f,onChange:function(e){return c(function(t){return t.preventScrollUntilOpened=e.target.checked})},children:(0,u.jsx)("span",{className:"text-sm text-gray-700",children:"Ngăn cuộn trang cho đến khi phong b\xec được mở"})}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"\uD83D\uDCA1 Khi bật, người xem kh\xf4ng thể cuộn trang cho đến khi mở phong b\xec. Tắt để cho ph\xe9p tự do cuộn ngay cả khi phong b\xec chưa mở."})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83D\uDDBC️ Ảnh trong phong b\xec"}),(0,u.jsxs)("div",{className:"space-y-3",children:[d&&(0,u.jsx)("div",{className:"relative border border-gray-200 rounded-md overflow-hidden bg-gray-50",children:(0,u.jsx)("img",{src:d,alt:"Envelope content",className:"object-cover w-full h-full"})}),(0,u.jsx)(ea.Ay,{type:"default",icon:(0,u.jsx)(e1.A,{}),onClick:function(){G(),w(!0)},className:"w-full",children:d?"Chọn ảnh kh\xe1c":"Chọn ảnh"}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Ảnh sẽ hiển thị b\xean trong phong b\xec khi mở ra"})]})]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("label",{className:"block text-sm font-medium",children:"✨ Chọn theme m\xe0u nhanh"}),(0,u.jsx)("div",{className:"grid grid-cols-2 gap-2 p-2",children:to.map(function(e){return(0,u.jsxs)("div",{onClick:function(){return X(e)},className:"\n                relative p-3 rounded-lg border-2 cursor-pointer transition-all\n                hover:shadow-md hover:scale-[1.02]\n                border-gray-200 hover:border-blue-400\n              ",children:[(0,u.jsx)("div",{className:"flex items-start space-x-2",children:(0,u.jsx)("div",{className:"flex-1 min-w-0",children:(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name})})}),(0,u.jsxs)("div",{className:"flex gap-1 mt-2",children:[(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.flap},title:"Nắp"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketSide},title:"Cạnh"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketBottom},title:"Đ\xe1y"})]})]},e.name)})}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Click v\xe0o theme để \xe1p dụng m\xe0u cho to\xe0n bộ phong b\xec"})]}),(0,u.jsxs)("div",{className:"space-y-3 border-t pt-3",children:[(0,u.jsx)("label",{className:"block text-sm font-medium",children:"\uD83C\uDFA8 T\xf9y chỉnh m\xe0u chi tiết"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Nắp phong b\xec (ph\xeda tr\xean)"}),(0,u.jsx)(eV.A,{value:x,onChange:function(e){return c(function(t){t.flapColor=e.toHexString(),t.envelopeColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#812927","#b91c1c","#991b1b","#7f1d1d","#dc2626","#ef4444"]}]})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Cạnh phong b\xec (tr\xe1i & phải)"}),(0,u.jsx)(eV.A,{value:h,onChange:function(e){return c(function(t){return t.pocketSideColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#A33F3D","#fca5a5","#fbb6ce","#f9a8d4","#fbcfe8"]}]})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Đ\xe1y phong b\xec (ph\xeda dưới)"}),(0,u.jsx)(eV.A,{value:m,onChange:function(e){return c(function(t){return t.pocketBottomColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#a84644","#fed7aa","#fcd34d","#fbbf24","#fb923c"]}]})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"T\xf9y chỉnh m\xe0u cho từng phần của phong b\xec"})]}),(0,u.jsxs)("div",{className:"border-t pt-4",children:[(0,u.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Hiệu ứng chuyển động"}),(0,u.jsx)(eb.i,{})]}),(0,u.jsx)(ey.A,{title:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:"Chọn ảnh cho phong b\xec"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Chọn ảnh bạn muốn hiển thị b\xean trong phong b\xec"})]}),open:v,onCancel:H,footer:[(0,u.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Tổng ",D.length," ảnh (",q," GB)"]},"info"),(0,u.jsx)(ea.Ay,{onClick:H,children:"Đ\xf3ng"},"back")],width:600,styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:I?(0,u.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,u.jsx)(eQ.A,{tip:"Đang tải..."})}):0===D.length?(0,u.jsx)(eZ.A,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,u.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,u.jsx)(eJ.A,{gutter:[16,16],style:{marginBottom:"16px"},children:D.map(function(e){return(0,u.jsx)(e$.A,{xs:12,sm:8,md:6,lg:6,xl:6,children:(0,u.jsx)("div",{className:"user-upload-item cursor-pointer",onClick:function(){return K(e)},children:(0,u.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 hover:scale-[1.02]",children:(0,u.jsx)(e3(),{unoptimized:!0,src:(0,U.Rw)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){t&&(B.current[e.fileId]=t)}})})})},e.fileId)})})})}),S&&(0,u.jsx)(e7.A,{visible:N,imageSrc:S.url,onComplete:W,onCancel:function(){A(!1),O(null)},fixedAspectRatio:"3:2"})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=(0,l.oB)(function(e){return{displayMode:e.data.props.displayMode||"design"}}).displayMode,a=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.CF4,{size:20}),label:"Kiểu hiển thị",onClick:function(){return a(tg.CUSTOMIZE)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.JZt,{size:20}),label:tg.IMAGE,onClick:function(){return a(tg.IMAGE)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.NyH,{size:20}),label:tg.COLORS,onClick:function(){return a(tg.COLORS)}}),"modal"===r&&(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Cb8,{size:20}),label:tg.MODAL_TEXT,onClick:function(){return a(tg.MODAL_TEXT)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Vt5,{size:20}),label:tg.TRANSITION,onClick:function(){return a(tg.TRANSITION)}}),(0,u.jsx)(Y.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"50vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(50vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case tg.CUSTOMIZE:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tc,{}),(0,u.jsx)(tx,{}),(0,u.jsx)(tu,{}),(0,u.jsx)(tp,{})]});case tg.IMAGE:return(0,u.jsx)(th,{});case tg.COLORS:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tm,{}),(0,u.jsx)(tf,{})]});case tg.MODAL_TEXT:return(0,u.jsx)(td,{});case tg.TRANSITION:return(0,u.jsx)(eb.i,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var tk=n(48871),tN=n(6953),tA={PHOTOS:"Danh s\xe1ch ảnh",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"},tC=n(98477),tS=function(e){var t=e.photos,n=e.currentIndex,r=e.onClose,a=e.onPrevious,i=e.onNext,o=e.onThumbnailClick,c=(0,s.useState)(!1),l=c[0],d=c[1],p=(0,s.useRef)(null),x=(0,s.useRef)([]);(0,s.useEffect)(function(){if(p.current&&x.current[n]){var e=x.current[n],t=p.current;if(e){var r=e.offsetLeft,a=r+e.offsetWidth,i=t.scrollLeft,o=i+t.offsetWidth;r<i?t.scrollTo({left:r-8,behavior:"smooth"}):a>o&&t.scrollTo({left:a-t.offsetWidth+8,behavior:"smooth"})}}},[n]);var h=function(){d(!0),setTimeout(function(){a(),setTimeout(function(){return d(!1)},50)},150)},m=function(){d(!0),setTimeout(function(){i(),setTimeout(function(){return d(!1)},50)},150)},f=function(e){e!==n&&(d(!0),setTimeout(function(){o(e),setTimeout(function(){return d(!1)},50)},150))};(0,s.useEffect)(function(){var e=function(e){"Escape"===e.key?r():"ArrowLeft"===e.key?h():"ArrowRight"===e.key&&m()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[n,r]);var g=t[n],b=(0,U.T_)(g.imageKey);return(0,u.jsxs)("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-black/90 p-4 text-white",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("div",{className:"text-sm font-medium uppercase tracking-wide",children:"Photo Gallery"}),(0,u.jsxs)("button",{onClick:r,className:"flex items-center gap-1 rounded-full bg-white/10 px-3 py-1 text-sm hover:bg-white/20 transition-all cursor-pointer",children:[(0,u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 384 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})})," ","Tho\xe1t"]})]}),(0,u.jsxs)("div",{className:"relative mt-4 flex-1 overflow-hidden",children:[(0,u.jsx)("button",{onClick:h,className:"absolute left-4 top-1/2 z-10 flex h-12 w-12 -translate-y-1/2 items-center justify-center rounded-full bg-white/20 text-2xl text-white hover:bg-white/30 transition-all cursor-pointer",children:(0,u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})})}),(0,u.jsx)("button",{onClick:m,className:"absolute right-4 top-1/2 z-10 flex h-12 w-12 -translate-y-1/2 items-center justify-center rounded-full bg-white/20 text-2xl text-white hover:bg-white/30 transition-all cursor-pointer",children:(0,u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})})}),(0,u.jsx)("div",{className:"absolute inset-0 transition-opacity duration-300 ease-in-out",style:{opacity:+!l,transitionDuration:"300ms"},children:(0,u.jsx)("img",{alt:g.alt||"Photo",loading:"lazy",decoding:"async",className:"object-contain",src:b,style:{position:"absolute",height:"100%",width:"100%",inset:0,color:"transparent"}})})]}),(0,u.jsx)("div",{className:"mt-4 flex items-center justify-between",children:(0,u.jsxs)("div",{className:"text-sm text-gray-200",children:[n+1,"/",t.length]})}),(0,u.jsx)("div",{className:"mt-4 flex gap-2 overflow-x-auto pb-2 justify-center scrollbar-hide",children:(0,u.jsx)("div",{ref:p,className:"flex gap-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map(function(e,t){return(0,u.jsx)("button",{ref:function(e){x.current[t]=e},onClick:function(){return f(t)},className:"relative h-20 w-20 flex-shrink-0 overflow-hidden rounded-md border transition-all cursor-pointer ".concat(t===n?"border-white opacity-100":"border-transparent opacity-70 hover:opacity-90"),children:(0,u.jsx)("img",{alt:e.alt||"Thumbnail",loading:"lazy",decoding:"async",className:"object-cover",src:(0,U.T_)(e.imageKey),style:{position:"absolute",height:"100%",width:"100%",inset:0,color:"transparent"}})},e.id||t)})})})]})};let tO=function(e){var t=e.photos,n=e.showThumbnails,r=e.showNavButtons,a=e.showFullscreenButton,i=(0,s.useState)(0),o=i[0],c=i[1],l=(0,s.useState)(!1),d=l[0],p=l[1],x=(0,s.useState)(!1),h=x[0],m=x[1],f=(0,s.useRef)(null),g=(0,s.useRef)([]);(0,s.useEffect)(function(){if(f.current&&g.current[o]){var e=g.current[o],t=f.current;if(e){var n=e.offsetLeft,r=n+e.offsetWidth,a=t.scrollLeft,i=a+t.offsetWidth;n<a?t.scrollTo({left:n-8,behavior:"smooth"}):r>i&&t.scrollTo({left:r-t.offsetWidth+8,behavior:"smooth"})}}},[o]);var b=function(e){e!==o&&(p(!0),setTimeout(function(){c(e),setTimeout(function(){return p(!1)},50)},150))};if(0===t.length)return null;var j=t[o],y=(0,U.T_)(j.imageKey);return(0,U.T_)(j.imageKey),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex h-full w-full flex-col gap-3",children:[(0,u.jsxs)("div",{className:"relative flex-1 min-h-[200px] overflow-hidden rounded-2xl bg-gray-100",children:[(0,u.jsx)("div",{className:"absolute inset-0 transition-opacity duration-300 ease-in-out",style:{opacity:+!d,transitionDuration:"300ms"},children:(0,u.jsx)("img",{alt:j.alt||"Photo",loading:"lazy",decoding:"async",className:"object-contain",src:y,style:{position:"absolute",height:"100%",width:"100%",inset:0,color:"transparent"}})}),t.length>1&&(void 0===r||r)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{onClick:function(){p(!0),setTimeout(function(){c(function(e){return 0===e?t.length-1:e-1}),setTimeout(function(){return p(!1)},50)},150)},className:"absolute left-2 top-1/2 z-10 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-white/80 text-gray-800 shadow-md backdrop-blur hover:bg-white transition-all cursor-pointer",children:(0,u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})})}),(0,u.jsx)("button",{onClick:function(){p(!0),setTimeout(function(){c(function(e){return e===t.length-1?0:e+1}),setTimeout(function(){return p(!1)},50)},150)},className:"absolute right-2 top-1/2 z-10 flex h-10 w-10 -translate-y-1/2 items-center justify-center rounded-full bg-white/80 text-gray-800 shadow-md backdrop-blur hover:bg-white transition-all cursor-pointer",children:(0,u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 320 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})})})]}),t.length>1&&(void 0===a||a)&&(0,u.jsx)("button",{onClick:function(){return m(!0)},className:"absolute right-2 top-2 z-10 flex items-center gap-1 rounded-full bg-white/80 px-2 py-2 text-xs font-medium text-gray-700 shadow backdrop-blur hover:bg-white transition-all cursor-pointer",children:(0,u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M32 32C14.3 32 0 46.3 0 64l0 96c0 17.7 14.3 32 32 32s32-14.3 32-32l0-64 64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7 14.3 32 32 32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0 0-64zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0 0 64c0 17.7 14.3 32 32 32s32-14.3 32-32l0-96c0-17.7-14.3-32-32-32l-96 0zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l96 0c17.7 0 32-14.3 32-32l0-96z"})})})]}),t.length>1&&(void 0===n||n)&&(0,u.jsx)("div",{className:"relative",children:(0,u.jsx)("div",{ref:f,className:"overflow-x-auto overflow-y-hidden scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none",width:"100%",maxWidth:"100%"},children:(0,u.jsx)("div",{className:"flex gap-2 transition-transform duration-300 ease-out will-change-transform",style:{width:72*t.length},children:t.map(function(e,t){return(0,u.jsxs)("button",{ref:function(e){g.current[t]=e},onClick:function(){return b(t)},className:"relative rounded-md border transition-all duration-200 overflow-hidden flex-shrink-0 cursor-pointer ".concat(t===o?"border-blue-500 shadow-lg shadow-blue-500/30":"border-transparent hover:border-blue-400/60"),style:{width:64,minWidth:64,height:64},children:[(0,u.jsx)("img",{alt:e.alt||"Thumbnail",loading:"lazy",decoding:"async",className:"object-cover",src:(0,U.Rw)(e.imageKey,200),style:{position:"absolute",height:"100%",width:"100%",inset:0,color:"transparent"}}),t===o&&(0,u.jsx)("div",{className:"absolute inset-0 border-2 border-white pointer-events-none"})]},e.id||t)})})})})]}),h&&(0,tC.createPortal)((0,u.jsx)(tS,{photos:t,currentIndex:o,onClose:function(){return m(!1)},onPrevious:function(){c(function(e){return 0===e?t.length-1:e-1})},onNext:function(){c(function(e){return e===t.length-1?0:e+1})},onThumbnailClick:function(e){c(e)}}),document.body)]})};function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tE={top:10,left:10,width:320,height:320,photos:[],backgroundColor:"transparent",padding:[10,10,10,10],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[8,8,8,8],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"#cccccc",hasShadow:!1,boxShadow:{offsetX:0,offsetY:4,blur:12,spread:0,color:"rgba(0, 0, 0, 0.1)"},zIndex:0,locked:!1,transition:eb.l,isAdvanced:!0,isPremium:!0,showThumbnails:!0,showNavButtons:!0,showFullscreenButton:!0},tR=function(e){var t=(0,s.useRef)(null),n=(0,s.useState)([]),r=n[0],a=n[1],i=(0,s.useState)(!1),o=i[0],c=i[1],d=e=tD(tD({},tE),e),p=d.top,x=d.left,h=d.height,m=d.width,f=d.opacity,g=d.backgroundColor,b=d.shadow,j=d.padding,y=d.borderRadius,v=d.rotation,w=d.flipX,k=d.flipY,N=d.borderPosition,A=d.borderSize,C=d.borderStyle,S=d.borderColor,O=d.hasShadow,T=d.boxShadow,D=d.photos,E=d.zIndex,R=d.locked,I=d.transition,P=d.showThumbnails,B=d.showNavButtons,z=d.showFullscreenButton,_=I||eb.l,F=(0,l.oB)(function(e){return{active:e.events.selected,id:e.id}}),L=F.connectors.connect,M=F.actions.setProp,H=F.active,U=F.id,K=(0,l.hG)(function(e){return{enabled:e.options.enabled}}).enabled;(0,s.useEffect)(function(){if(H&&K){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==U}))}},[H,K,U]);var W=(0,s.useState)({width:0,height:0,left:0,top:0}),X=W[0],G=W[1],Y=(0,s.useState)(null),q=Y[0],V=Y[1];(0,s.useEffect)(function(){if(H&&K){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();G({width:t.width,height:t.height,left:t.left,top:t.top}),V(e)}}},[H,K]);var Q=function(){switch(N){case"all":return{border:"".concat(A,"px ").concat(C," ").concat(S)};case"top":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S)};case"bottom":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S)};case"right":return{borderRight:"".concat(A,"px ").concat(C," ").concat(S)};case"left":return{borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"top-bottom":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderBottom:"".concat(A,"px ").concat(C," ").concat(S)};case"right-left":return{borderRight:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"upper-left":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"upper-right":return{borderTop:"".concat(A,"px ").concat(C," ").concat(S),borderRight:"".concat(A,"px ").concat(C," ").concat(S)};case"lower-left":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S),borderLeft:"".concat(A,"px ").concat(C," ").concat(S)};case"lower-right":return{borderBottom:"".concat(A,"px ").concat(C," ").concat(S),borderRight:"".concat(A,"px ").concat(C," ").concat(S)};default:return{}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":U,ref:function(e){e&&(L(e),t.current=e)},style:{position:"absolute",top:"".concat(p,"px"),left:"".concat(x,"px"),width:"".concat(m,"px"),height:"".concat(h,"px"),zIndex:E,cursor:K?"move":"default",transform:"rotate(".concat(v,"deg) scale(").concat(w?-1:1,", ").concat(k?-1:1,")")},children:(0,u.jsx)(eA.A,{transition:_,targetRef:t,enabled:K,nodeId:U,onTransitionStart:function(){c(!0)},onTransitionEnd:function(){c(!1)},children:(0,u.jsx)("div",{style:tD(tD({position:"relative",width:"100%",height:"100%",boxSizing:"border-box",backgroundColor:g,textShadow:"0px 0px 2px rgba(0,0,0,".concat((b||0)/100,")"),opacity:f,padding:"".concat(j[0],"px ").concat(j[1],"px ").concat(j[2],"px ").concat(j[3],"px")},Q),{},{borderRadius:"".concat(y[0],"px \n              ").concat(y[1],"px \n              ").concat(y[2],"px \n              ").concat(y[3],"px"),boxShadow:O?"".concat(T.offsetX,"px ").concat(T.offsetY,"px ").concat(T.blur,"px ").concat(T.spread,"px ").concat(T.color):"none"}),children:D&&D.length>0?(0,u.jsx)("div",{className:"photo-gallery-wrapper",style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},onClick:function(e){K&&e.stopPropagation()},children:(0,u.jsx)(tO,{photos:D,showThumbnails:P,showNavButtons:B,showFullscreenButton:z})}):(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",gap:"8px"},children:[(0,u.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",border:"2px dashed #d9d9d9",borderRadius:"8px",position:"relative"},children:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",color:"#999"},children:[(0,u.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,u.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,u.jsx)("polyline",{points:"21 15 16 10 5 21"})]}),(0,u.jsx)("span",{style:{fontSize:"12px",textAlign:"center"},children:"Chưa c\xf3 ảnh"})]})}),(0,u.jsx)("div",{style:{display:"flex",gap:"8px",height:"60px"},children:[1,2,3].map(function(e){return(0,u.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",border:"2px dashed #d9d9d9",borderRadius:"4px"},children:(0,u.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{color:"#d9d9d9"},children:[(0,u.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,u.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,u.jsx)("polyline",{points:"21 15 16 10 5 21"})]})},e)})})]})})})}),H&&K&&t.current&&!o&&(0,u.jsx)(er.A,{target:t.current,container:q,otherElements:r,containerBounds:X,currentProps:{top:p,left:x,width:m,height:h,rotation:v,flipX:w,flipY:k,locked:R},onUpdateProps:function(e){M(function(t){Object.assign(t,e)})}})]})};tR.craft={displayName:"Photo Gallery",props:tE,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e,t=(0,l.oB)(function(e){var t,n,r;return{photos:e.data.props.photos||[],showThumbnails:null==(t=e.data.props.showThumbnails)||t,showNavButtons:null==(n=e.data.props.showNavButtons)||n,showFullscreenButton:null==(r=e.data.props.showFullscreenButton)||r}}),n=t.photos,r=t.showThumbnails,a=t.showNavButtons,i=t.showFullscreenButton,o=t.actions.setProp,c=(0,ta.useRouter)(),d=(0,s.useState)(!1),p=d[0],x=d[1],h=(0,s.useState)([]),m=h[0],f=h[1],g=(0,s.useState)(!1),b=g[0],j=g[1],y=(0,s.useState)([]),v=y[0],w=y[1],k=c.pathname.startsWith("/admin/templates/edit"),N=c.query.id,A=(e=(0,eX.A)(eY().mark(function e(){var t,n,r,a;return eY().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),e.prev=1,t=[],n=c.pathname.includes("/partner/editor/"),r=c.pathname.startsWith("/admin/edit-as/"),!n){e.next=11;break}return e.next=8,(0,e8.w0)();case 8:case 14:case 20:t=e.sent,e.next=39;break;case 11:if(!(k&&N)){e.next=17;break}return e.next=14,(0,e6.CE)(N);case 17:if(!k){e.next=23;break}return e.next=20,(0,e6.B9)();case 23:if(!r){e.next=36;break}if(!(a=c.query.user_id)){e.next=31;break}return e.next=28,(0,e4.Ec)(a);case 28:t=e.sent,e.next=34;break;case 31:return e.next=33,(0,e4.bl)();case 33:t=e.sent;case 34:e.next=39;break;case 36:return e.next=38,(0,e4.bl)();case 38:t=e.sent;case 39:f(C(t)),e.next=47;break;case 43:e.prev=43,e.t0=e.catch(1),console.error("Error fetching photos:",e.t0),ej.Ay.error("Kh\xf4ng thể tải danh s\xe1ch ảnh");case 47:return e.prev=47,j(!1),e.finish(47);case 50:case"end":return e.stop()}},e,null,[[1,43,47,50]])})),function(){return e.apply(this,arguments)}),C=function(e){return(0,eW.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,s.useEffect)(function(){p&&w(n.map(function(e){return e.imageKey}))},[p,n]);var S=function(){x(!1)},O=function(e){w(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat((0,eW.A)(t),[e])})},T=function(e){o(function(t){t.photos=t.photos.filter(function(t){return t.id!==e})})};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"mb-3 text-sm text-gray-600 italic",children:"Th\xeam v\xe0 quản l\xfd c\xe1c ảnh trong gallery. Người xem c\xf3 thể click v\xe0o ảnh để xem ph\xf3ng to."}),(0,u.jsx)(P.rk,{title:"Danh s\xe1ch ảnh",defaultOpen:!0,children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("div",{className:"text-sm text-gray-600",children:n.length>0?(0,u.jsxs)("span",{children:["Đ\xe3 chọn ",n.length," ảnh"]}):(0,u.jsx)("span",{children:"Chưa c\xf3 ảnh n\xe0o được chọn"})}),n.length>0&&(0,u.jsx)("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:n.map(function(e){return(0,u.jsxs)("div",{className:"relative bg-gray-100 rounded overflow-hidden group m-auto",children:[(0,u.jsx)("img",{src:(0,U.Rw)(e.imageKey,200),alt:e.alt,className:"w-full h-auto",style:{display:"block"}}),(0,u.jsx)("button",{onClick:function(){return T(e.id)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs",children:"\xd7"})]},e.id)})}),(0,u.jsx)(ea.Ay,{type:"primary",icon:(0,u.jsx)(tN.A,{}),onClick:function(){A(),x(!0)},className:"w-full",children:"Chọn ảnh từ thư viện"})]})}),(0,u.jsx)(P.rk,{title:"T\xf9y chọn hiển thị",defaultOpen:!0,children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Hiển thị ảnh nhỏ"}),(0,u.jsx)(tk.A,{checked:r,onChange:function(e){o(function(t){t.showThumbnails=e})}})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"N\xfat Next/Prev"}),(0,u.jsx)(tk.A,{checked:a,onChange:function(e){o(function(t){t.showNavButtons=e})}})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Fullscreen viewer"}),(0,u.jsx)(tk.A,{checked:i,onChange:function(e){o(function(t){t.showFullscreenButton=e})}})]})]})}),(0,u.jsx)(ey.A,{title:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:"Chọn ảnh cho gallery"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 font-normal mt-1",children:"Click v\xe0o ảnh để chọn/bỏ chọn. C\xf3 thể chọn nhiều ảnh c\xf9ng l\xfac."})]}),open:p,onCancel:S,width:700,footer:[(0,u.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Đ\xe3 chọn ",v.length," ảnh"]},"info"),(0,u.jsx)(ea.Ay,{onClick:S,children:"Hủy"},"cancel"),(0,u.jsxs)(ea.Ay,{type:"primary",onClick:function(){var e=v.map(function(e,t){return{id:"".concat(Date.now(),"-").concat(t),imageKey:e,alt:"Photo ".concat(t+1)}});o(function(t){t.photos=e}),ej.Ay.success("Đ\xe3 chọn ".concat(e.length," ảnh")),S()},disabled:0===v.length,children:["X\xe1c nhận (",v.length,")"]},"confirm")],styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:b?(0,u.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,u.jsx)(eQ.A,{tip:"Đang tải..."})}):0===m.length?(0,u.jsx)(eZ.A,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,u.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,u.jsx)(eJ.A,{gutter:[12,12],style:{marginBottom:"16px"},children:m.map(function(e){var t=v.includes(e.fileKey);return(0,u.jsx)(e$.A,{xs:8,sm:6,md:4,children:(0,u.jsx)("div",{className:"cursor-pointer relative",onClick:function(){return O(e.fileKey)},children:(0,u.jsxs)("div",{style:{position:"relative",width:"100%",height:"100px",borderRadius:"4px",overflow:"hidden",border:t?"3px solid #1890ff":"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:t?"shadow-lg":"hover:shadow-md hover:border-blue-400",children:[(0,u.jsx)(e3(),{unoptimized:!0,src:(0,U.Rw)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain"}),t&&(0,u.jsx)("div",{style:{position:"absolute",top:"4px",right:"4px",background:"#1890ff",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,u.jsx)(eq.A,{checked:!0,style:{pointerEvents:"none"}})})]})})},e.fileId)})})})}),(0,u.jsxs)(P.rk,{title:"M\xe0u sắc",children:[(0,u.jsx)(B.O,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.x,{})]}),(0,u.jsx)(P.rk,{title:"Khoảng đệm",children:(0,u.jsx)(z.a,{})}),(0,u.jsx)(P.rk,{title:"Đường viền",children:(0,u.jsx)(F.x,{})}),(0,u.jsx)(P.rk,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.G,{})}),(0,u.jsx)(P.rk,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(eb.i,{})})]})},mobileToolbar:function(){var e,t=(0,l.oB)(function(e){return{photos:e.data.props.photos||[]}}),n=t.photos,r=t.actions.setProp,a=(0,ta.useRouter)(),i=(0,s.useState)(null),o=i[0],c=i[1],d=(0,s.useState)(!1),p=d[0],x=d[1],h=(0,s.useState)([]),m=h[0],f=h[1],g=(0,s.useState)(!1),b=g[0],j=g[1],y=(0,s.useState)([]),v=y[0],w=y[1],k=a.pathname.startsWith("/admin/templates/edit"),N=a.query.id,A=function(e){c(e)},C=(e=(0,eX.A)(eY().mark(function e(){var t,n,r,i;return eY().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),e.prev=1,t=[],n=a.pathname.includes("/partner/editor/"),r=a.pathname.startsWith("/admin/edit-as/"),!n){e.next=11;break}return e.next=8,(0,e8.w0)();case 8:case 14:case 20:t=e.sent,e.next=39;break;case 11:if(!(k&&N)){e.next=17;break}return e.next=14,(0,e6.CE)(N);case 17:if(!k){e.next=23;break}return e.next=20,(0,e6.B9)();case 23:if(!r){e.next=36;break}if(!(i=a.query.user_id)){e.next=31;break}return e.next=28,(0,e4.Ec)(i);case 28:t=e.sent,e.next=34;break;case 31:return e.next=33,(0,e4.bl)();case 33:t=e.sent;case 34:e.next=39;break;case 36:return e.next=38,(0,e4.bl)();case 38:t=e.sent;case 39:f(S(t)),e.next=47;break;case 43:e.prev=43,e.t0=e.catch(1),console.error("Error fetching photos:",e.t0),ej.Ay.error("Kh\xf4ng thể tải danh s\xe1ch ảnh");case 47:return e.prev=47,j(!1),e.finish(47);case 50:case"end":return e.stop()}},e,null,[[1,43,47,50]])})),function(){return e.apply(this,arguments)}),S=function(e){return(0,eW.A)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,s.useEffect)(function(){p&&w(n.map(function(e){return e.imageKey}))},[p,n]);var O=function(){C(),x(!0)},T=function(){x(!1)},D=function(e){w(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat((0,eW.A)(t),[e])})},E=function(e){r(function(t){t.photos=t.photos.filter(function(t){return t.id!==e})})};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.LZJ,{size:20}),label:tA.PHOTOS,onClick:function(){return A(tA.PHOTOS)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.NyH,{size:20}),label:tA.COLOR,onClick:function(){return A(tA.COLOR)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.WKR,{size:20}),label:tA.PADDING,onClick:function(){return A(tA.PADDING)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.lKm,{size:20}),label:tA.BORDER,onClick:function(){return A(tA.BORDER)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.elE,{size:20}),label:tA.BOX_SHADOW,onClick:function(){return A(tA.BOX_SHADOW)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Vt5,{size:20}),label:tA.TRANSITION,onClick:function(){return A(tA.TRANSITION)}}),(0,u.jsx)(ey.A,{title:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:"Chọn ảnh cho gallery"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 font-normal mt-1",children:"Click v\xe0o ảnh để chọn/bỏ chọn. C\xf3 thể chọn nhiều ảnh c\xf9ng l\xfac."})]}),open:p,onCancel:T,width:700,footer:[(0,u.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Đ\xe3 chọn ",v.length," ảnh"]},"info"),(0,u.jsx)(ea.Ay,{onClick:T,children:"Hủy"},"cancel"),(0,u.jsxs)(ea.Ay,{type:"primary",onClick:function(){var e=v.map(function(e,t){return{id:"".concat(Date.now(),"-").concat(t),imageKey:e,alt:"Photo ".concat(t+1)}});r(function(t){t.photos=e}),ej.Ay.success("Đ\xe3 chọn ".concat(e.length," ảnh")),T()},disabled:0===v.length,children:["X\xe1c nhận (",v.length,")"]},"confirm")],styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:b?(0,u.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,u.jsx)(eQ.A,{tip:"Đang tải..."})}):0===m.length?(0,u.jsx)(eZ.A,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,u.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,u.jsx)(eJ.A,{gutter:[12,12],style:{marginBottom:"16px"},children:m.map(function(e){var t=v.includes(e.fileKey);return(0,u.jsx)(e$.A,{xs:8,sm:6,md:4,children:(0,u.jsx)("div",{className:"cursor-pointer relative",onClick:function(){return D(e.fileKey)},children:(0,u.jsxs)("div",{style:{position:"relative",width:"100%",height:"100px",borderRadius:"4px",overflow:"hidden",border:t?"3px solid #1890ff":"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:t?"shadow-lg":"hover:shadow-md hover:border-blue-400",children:[(0,u.jsx)(e3(),{unoptimized:!0,src:(0,U.Rw)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain"}),t&&(0,u.jsx)("div",{style:{position:"absolute",top:"4px",right:"4px",background:"#1890ff",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,u.jsx)(eq.A,{checked:!0,style:{pointerEvents:"none"}})})]})})},e.fileId)})})})}),(0,u.jsx)(Y.zD,{visible:!!o,showCloseButton:!0,onClose:function(){c(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:o})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(o){case tA.PHOTOS:return(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("div",{className:"text-sm text-gray-600 italic mb-3",children:"Th\xeam v\xe0 quản l\xfd c\xe1c ảnh trong gallery. Người xem c\xf3 thể click v\xe0o ảnh để xem ph\xf3ng to."}),(0,u.jsxs)("div",{className:"text-sm text-gray-600 flex items-center justify-between mb-3",children:[(0,u.jsx)("div",{children:n.length>0?(0,u.jsxs)("span",{children:["Đ\xe3 chọn ",n.length," ảnh"]}):(0,u.jsx)("span",{children:"Chưa c\xf3 ảnh n\xe0o được chọn"})}),(0,u.jsx)(ea.Ay,{type:"primary",size:"small",icon:(0,u.jsx)(tN.A,{}),onClick:O,children:"Chọn ảnh"})]}),n.length>0&&(0,u.jsx)("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:n.map(function(e){return(0,u.jsxs)("div",{className:"relative bg-gray-100 rounded overflow-hidden group m-auto",children:[(0,u.jsx)("img",{src:(0,U.Rw)(e.imageKey,200),alt:e.alt,className:"w-full h-auto",style:{display:"block"}}),(0,u.jsx)("button",{onClick:function(){return E(e.id)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-xs",children:"\xd7"})]},e.id)})})]});case tA.COLOR:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(B.O,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.x,{})]});case tA.PADDING:return(0,u.jsx)(z.a,{});case tA.BORDER:return(0,u.jsx)(F.x,{});case tA.BOX_SHADOW:return(0,u.jsx)(L.G,{});case tA.TRANSITION:return(0,u.jsx)(eb.i,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var tI={VIDEO_SETTINGS:"C\xe0i đặt video",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tz={top:10,left:10,width:k.bv.youtubeEmbedWidth,height:k.bv.youtubeEmbedHeight,youtubeUrl:"",backgroundColor:"transparent",padding:[10,10,10,10],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[8,8,8,8],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"#cccccc",hasShadow:!1,boxShadow:{offsetX:0,offsetY:4,blur:12,spread:0,color:"rgba(0, 0, 0, 0.1)"},zIndex:0,locked:!1,transition:eb.l,autoplay:!1,muted:!1,controls:!0,isAdvanced:!0,isPremium:!0},t_=function(e){if(!e)return null;for(var t=0,n=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s]+)/,/^([a-zA-Z0-9_-]{11})$/];t<n.length;t++){var r=n[t],a=e.match(r);if(a&&a[1])return a[1]}return null},tF=function(e){var t=(0,s.useRef)(null),n=(0,s.useRef)(null),r=(0,s.useRef)(null),a=(0,s.useState)([]),i=a[0],o=a[1],c=(0,s.useState)(!1),d=c[0],p=c[1],x=(0,s.useState)(!1),h=x[0],m=x[1],f=(0,s.useState)(!1),g=f[0],b=f[1],j=(0,s.useState)(!1),y=j[0],v=j[1],w=e=tB(tB({},tz),e),k=w.top,N=w.left,A=w.height,C=w.width,S=w.opacity,O=w.backgroundColor,T=w.shadow,D=w.padding,E=w.borderRadius,R=w.rotation,I=w.flipX,P=w.flipY,B=w.borderPosition,z=w.borderSize,_=w.borderStyle,F=w.borderColor,L=w.hasShadow,M=w.boxShadow,H=w.youtubeUrl,U=w.zIndex,K=w.locked,W=w.transition,X=w.autoplay,G=w.muted,Y=w.controls,q=W||eb.l,V=(0,l.oB)(function(e){return{active:e.events.selected,id:e.id}}),Q=V.connectors.connect,Z=V.actions.setProp,J=V.active,$=V.id,ee=(0,l.hG)(function(e){return{enabled:e.options.enabled}}).enabled;(0,s.useEffect)(function(){if(!ee){if(window.YT&&window.YT.Player)return void v(!0);var e,t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];return null==(e=r.parentNode)||e.insertBefore(t,r),window.onYouTubeIframeAPIReady=function(){v(!0)},function(){if(n.current)try{n.current.destroy()}catch(e){console.error("Error destroying YouTube player:",e)}}}},[ee]),(0,s.useEffect)(function(){if(y&&r.current&&!ee&&H){var e=t_(H);if(e){if(n.current)try{n.current.destroy()}catch(e){console.error("Error destroying player:",e)}try{n.current=new window.YT.Player(r.current,{videoId:e,width:"100%",height:"100%",playerVars:{controls:+!!Y,rel:0,modestbranding:1,enablejsapi:1},events:{onReady:function(e){G&&e.target.mute()}}})}catch(e){console.error("Error creating YouTube player:",e)}return function(){if(n.current)try{n.current.destroy()}catch(e){console.error("Error in cleanup:",e)}}}}},[y,H,ee,Y,G]),(0,s.useEffect)(function(){if(!ee&&t.current&&X){var e=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting?m(!0):m(!1)})},{threshold:.01,rootMargin:"300px"});return e.observe(t.current),function(){t.current&&e.unobserve(t.current)}}},[ee,X]),(0,s.useEffect)(function(){if(n.current&&!ee)try{if(h&&X&&!g)n.current.mute(),n.current.playVideo(),b(!0);else if(!h&&n.current.getPlayerState){var e=n.current.getPlayerState();1===e&&n.current.pauseVideo()}}catch(e){console.error("Error controlling video:",e)}},[h,X,ee,g]),(0,s.useEffect)(function(){if(J&&ee){var e=document.querySelector("#root-page-container");e&&o(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==$}))}},[J,ee,$]);var et=(0,s.useState)({width:0,height:0,left:0,top:0}),en=et[0],ea=et[1],ei=(0,s.useState)(null),eo=ei[0],es=ei[1];(0,s.useEffect)(function(){if(J&&ee){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ea({width:t.width,height:t.height,left:t.left,top:t.top}),es(e)}}},[J,ee]);var ec=function(){switch(B){case"all":return{border:"".concat(z,"px ").concat(_," ").concat(F)};case"top":return{borderTop:"".concat(z,"px ").concat(_," ").concat(F)};case"bottom":return{borderBottom:"".concat(z,"px ").concat(_," ").concat(F)};case"right":return{borderRight:"".concat(z,"px ").concat(_," ").concat(F)};case"left":return{borderLeft:"".concat(z,"px ").concat(_," ").concat(F)};case"top-bottom":return{borderTop:"".concat(z,"px ").concat(_," ").concat(F),borderBottom:"".concat(z,"px ").concat(_," ").concat(F)};case"right-left":return{borderRight:"".concat(z,"px ").concat(_," ").concat(F),borderLeft:"".concat(z,"px ").concat(_," ").concat(F)};case"upper-left":return{borderTop:"".concat(z,"px ").concat(_," ").concat(F),borderLeft:"".concat(z,"px ").concat(_," ").concat(F)};case"upper-right":return{borderTop:"".concat(z,"px ").concat(_," ").concat(F),borderRight:"".concat(z,"px ").concat(_," ").concat(F)};case"lower-left":return{borderBottom:"".concat(z,"px ").concat(_," ").concat(F),borderLeft:"".concat(z,"px ").concat(_," ").concat(F)};case"lower-right":return{borderBottom:"".concat(z,"px ").concat(_," ").concat(F),borderRight:"".concat(z,"px ").concat(_," ").concat(F)};default:return{}}}(),el=t_(H||""),ed=el?"https://www.youtube.com/embed/".concat(el,"?controls=").concat(+!!Y,"&rel=0&modestbranding=1"):null;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":$,ref:function(e){e&&(Q(e),t.current=e)},style:{position:"absolute",top:"".concat(k,"px"),left:"".concat(N,"px"),width:"".concat(C,"px"),height:"".concat(A,"px"),zIndex:U,cursor:ee?"move":"default",transform:"rotate(".concat(R,"deg) scale(").concat(I?-1:1,", ").concat(P?-1:1,")")},children:(0,u.jsx)(eA.A,{transition:q,targetRef:t,enabled:ee,nodeId:$,onTransitionStart:function(){p(!0)},onTransitionEnd:function(){p(!1)},children:(0,u.jsx)("div",{style:tB(tB({position:"relative",width:"100%",height:"100%",boxSizing:"border-box",backgroundColor:O,textShadow:"0px 0px 2px rgba(0,0,0,".concat((T||0)/100,")"),opacity:S,padding:"".concat(D[0],"px ").concat(D[1],"px ").concat(D[2],"px ").concat(D[3],"px")},ec),{},{borderRadius:"".concat(E[0],"px \n              ").concat(E[1],"px \n              ").concat(E[2],"px \n              ").concat(E[3],"px"),boxShadow:L?"".concat(M.offsetX,"px ").concat(M.offsetY,"px ").concat(M.blur,"px ").concat(M.spread,"px ").concat(M.color):"none"}),children:el?(0,u.jsx)("div",{className:"youtube-embed-wrapper",style:{width:"100%",height:"100%",pointerEvents:ee?"none":"auto",display:"flex",position:"relative"},children:ee?(0,u.jsx)("iframe",{width:"100%",height:"100%",src:ed||"",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,style:{borderRadius:"8px",border:"none"}}):(0,u.jsx)("div",{ref:r,style:{width:"100%",height:"100%",borderRadius:"8px",overflow:"hidden"}})}):(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",border:"2px dashed #d9d9d9",borderRadius:"8px",gap:"12px",color:"#999"},children:[(0,u.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,u.jsx)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,u.jsx)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})]}),(0,u.jsxs)("div",{style:{textAlign:"center"},children:[(0,u.jsx)("div",{style:{fontSize:"14px",marginBottom:"4px"},children:"Chưa c\xf3 video YouTube"}),(0,u.jsx)("div",{style:{fontSize:"12px",color:"#bbb"},children:"Nhập URL video từ thanh c\xf4ng cụ"})]})]})})})}),J&&ee&&t.current&&!d&&(0,u.jsx)(er.A,{target:t.current,container:eo,otherElements:i,containerBounds:en,currentProps:{top:k,left:N,width:C,height:A,rotation:R,flipX:I,flipY:P,locked:K},onUpdateProps:function(e){Z(function(t){Object.assign(t,e)})}})]})};tF.craft={displayName:"YouTube Embed",props:tz,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e=(0,l.oB)(function(e){return{youtubeUrl:e.data.props.youtubeUrl||"",autoplay:e.data.props.autoplay||!1,muted:e.data.props.muted||!1,controls:!1!==e.data.props.controls}}),t=e.youtubeUrl,n=e.autoplay,r=e.muted,a=e.controls,i=e.actions.setProp;return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("div",{className:"mb-3 text-sm text-gray-600 italic",children:"Nh\xfang video YouTube v\xe0o trang của bạn. Người xem c\xf3 thể xem v\xe0 tương t\xe1c với video trực tiếp."}),(0,u.jsx)(P.rk,{title:"C\xe0i đặt video",defaultOpen:!0,children:(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL video YouTube"}),(0,u.jsx)(e9.A,{placeholder:"https://www.youtube.com/watch?v=...",value:t,onChange:function(e){var t=e.target.value;i(function(e){e.youtubeUrl=t})},className:"w-full"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"D\xe1n link video YouTube hoặc m\xe3 video (Video ID)"})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tự động ph\xe1t"}),(0,u.jsx)(tk.A,{checked:n,onChange:function(e){i(function(t){t.autoplay=e,e&&(t.muted=!0)})}})]}),n&&(0,u.jsx)("div",{className:"text-xs text-amber-600 italic ml-6",children:"Lưu \xfd: Video sẽ được tự động tắt tiếng khi tự động ph\xe1t (y\xeau cầu của tr\xecnh duyệt)"}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tắt tiếng"}),(0,u.jsx)(tk.A,{checked:r||n,disabled:n,onChange:function(e){i(function(t){t.muted=e})}})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Hiển thị điều khiển"}),(0,u.jsx)(tk.A,{checked:a,onChange:function(e){i(function(t){t.controls=e})}})]})]})}),(0,u.jsxs)(P.rk,{title:"M\xe0u sắc",children:[(0,u.jsx)(B.O,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.x,{})]}),(0,u.jsx)(P.rk,{title:"Khoảng đệm",children:(0,u.jsx)(z.a,{})}),(0,u.jsx)(P.rk,{title:"Đường viền",children:(0,u.jsx)(F.x,{})}),(0,u.jsx)(P.rk,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.G,{})}),(0,u.jsx)(P.rk,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(eb.i,{})})]})},mobileToolbar:function(){var e=(0,l.oB)(function(e){return{youtubeUrl:e.data.props.youtubeUrl||"",autoplay:e.data.props.autoplay||!1,muted:e.data.props.muted||!1,controls:!1!==e.data.props.controls}}),t=e.youtubeUrl,n=e.autoplay,r=e.muted,a=e.controls,i=e.actions.setProp,o=(0,s.useState)(null),c=o[0],d=o[1],p=function(e){d(e)},x=function(e){var t=e.target.value;i(function(e){e.youtubeUrl=t})};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.cP7,{size:20}),label:tI.VIDEO_SETTINGS,onClick:function(){return p(tI.VIDEO_SETTINGS)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.NyH,{size:20}),label:tI.COLOR,onClick:function(){return p(tI.COLOR)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.WKR,{size:20}),label:tI.PADDING,onClick:function(){return p(tI.PADDING)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.lKm,{size:20}),label:tI.BORDER,onClick:function(){return p(tI.BORDER)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.elE,{size:20}),label:tI.BOX_SHADOW,onClick:function(){return p(tI.BOX_SHADOW)}}),(0,u.jsx)(X.A,{icon:(0,u.jsx)(G.Vt5,{size:20}),label:tI.TRANSITION,onClick:function(){return p(tI.TRANSITION)}}),(0,u.jsx)(Y.zD,{visible:!!c,showCloseButton:!0,onClose:function(){d(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:c})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(c){case tI.VIDEO_SETTINGS:return(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("div",{className:"text-sm text-gray-600 italic mb-3",children:"Nh\xfang video YouTube v\xe0o trang của bạn. Người xem c\xf3 thể xem v\xe0 tương t\xe1c với video trực tiếp."}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL video YouTube"}),(0,u.jsx)(e9.A,{placeholder:"https://www.youtube.com/watch?v=...",value:t,onChange:x,className:"w-full"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"D\xe1n link video YouTube hoặc m\xe3 video"})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tự động ph\xe1t"}),(0,u.jsx)(tk.A,{checked:n,onChange:function(e){i(function(t){t.autoplay=e,e&&(t.muted=!0)})}})]}),n&&(0,u.jsx)("div",{className:"text-xs text-amber-600 italic ml-6",children:"Video sẽ được tự động tắt tiếng khi tự động ph\xe1t"}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tắt tiếng"}),(0,u.jsx)(tk.A,{checked:r||n,disabled:n,onChange:function(e){i(function(t){t.muted=e})}})]}),(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[(0,u.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Hiển thị điều khiển"}),(0,u.jsx)(tk.A,{checked:a,onChange:function(e){i(function(t){t.controls=e})}})]})]});case tI.COLOR:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(B.O,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.x,{})]});case tI.PADDING:return(0,u.jsx)(z.a,{});case tI.BORDER:return(0,u.jsx)(F.x,{});case tI.BOX_SHADOW:return(0,u.jsx)(L.G,{});case tI.TRANSITION:return(0,u.jsx)(eb.i,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var tL={DragBox:f,AppContainer:R,TextBox:g.f,DynamicText:eU.R,MaterialBox:I.p,ShapeBox:$,PhotoBox:ee.U,PluginCalendar:et.a,PluginCountDown:en.T,PluginMap:eD,PluginSimpleMap:eF,UnifiedMap:eL.L,PluginPhoneButton:eM.i,PluginForm:eH.w,PluginQrBox:eK.q,PluginAnimatedEnvelope:tw,PluginPhotoGallery:tR,PluginYoutubeEmbed:tF}},90579:(e,t,n)=>{"use strict";n.d(t,{U:()=>ef});var r=n(42969),a=n(27002),i=n.n(a),o=n(14232),s=n(66125),c=n(82599),l=n(93521),d=n(95463),u=n(25192),p=n(33536),x=n(96447),h=n(12448),m=n(63857),f=n(43081),g=n.n(f),b=n(69486),j=n(62436),y=n(22705),v=n(73301),w=n(60501),k=n(62081),N=n(40673),A=n(98594),C=n(27925),S=n(45503),O=n(2842),T=n(44478),D=n(36423),E=n(94085),R=n(37876),I=function(e){var t=e.selectedShape,n=e.onShapeSelect,r=(0,o.useState)([]),a=r[0],s=r[1],c=(0,o.useState)(!0),l=c[0],d=c[1];return((0,o.useEffect)(function(){var e;(e=(0,m.A)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(D.A.API_URL,"/api/resources/categories/cropShapes"));case 3:return t=e.sent,e.next=6,t.json();case 6:s(e.sent.items||[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching crop shapes:",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),l)?(0,R.jsxs)("div",{className:"control-group",children:[(0,R.jsx)("h4",{className:"control-title",children:"H\xecnh dạng cắt"}),(0,R.jsx)("div",{className:"crop-shape-list loading",style:{height:"190px"},children:(0,T.A)(Array(8)).map(function(e,t){return(0,R.jsx)("div",{className:"crop-shape-item skeleton"},t)})})]}):(0,R.jsxs)("div",{className:i().dynamic([["537451976",[E.Fr?"120px":"250px"]]])+" control-group",children:[(0,R.jsxs)("h4",{className:i().dynamic([["537451976",[E.Fr?"120px":"250px"]]])+" control-title flex items-center gap-2",children:[(0,R.jsx)("span",{className:i().dynamic([["537451976",[E.Fr?"120px":"250px"]]])+" crop-shape-title",children:"H\xecnh dạng cắt:"}),t&&(0,R.jsx)("span",{onClick:function(){return n("")},style:{backgroundImage:"url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(t,")")},className:i().dynamic([["537451976",[E.Fr?"120px":"250px"]]])+" active-indicator crop-shape-item inline-block w-6 h-6 relative",children:(0,R.jsx)("button",{style:{backgroundColor:"#76828e",borderRadius:"4px",border:"2px solid #fff"},onClick:function(){return n("")},"aria-label":"Reset shape",className:i().dynamic([["537451976",[E.Fr?"120px":"250px"]]])+" reset-button absolute -top-1 -right-1",children:(0,R.jsx)(A.In,{icon:"mdi:close",color:"#fff",height:10})})})]}),(0,R.jsx)("ul",{className:i().dynamic([["537451976",[E.Fr?"120px":"250px"]]])+" crop-shape-list custom-scrollbar",children:a.map(function(e){return(0,R.jsx)("li",{onClick:function(){return n(e.fileKey)},style:{backgroundImage:"url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(e.fileKey,")")},className:i().dynamic([["537451976",[E.Fr?"120px":"250px"]]])+" "+"crop-shape-item ".concat(t===e.fileKey?"active":"")},e.id)})}),(0,R.jsx)(i(),{id:"537451976",dynamic:[E.Fr?"120px":"250px"],children:[".control-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:15px;}",".control-title.__jsx-style-dynamic-selector{font-size:15px;margin:0;color:#666;}",".crop-shape-list.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:0;margin:0;list-style:none;font-size:0;height:".concat(E.Fr?"120px":"250px",";overflow-y:auto;padding-right:5px;}"),".crop-shape-item.__jsx-style-dynamic-selector{aspect-ratio:1;background-size:contain;background-position:center;background-repeat:no-repeat;cursor:pointer;-webkit-transition:all 0.2s;transition:all 0.2s;}",".crop-shape-item.__jsx-style-dynamic-selector:hover{border-color:#1677ff;}",".crop-shape-item.active.__jsx-style-dynamic-selector{border:2px solid #1677ff;box-shadow:0 0 0 2px rgba(22,119,255,0.2);}",".skeleton.__jsx-style-dynamic-selector{background:linear-gradient( 90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75% );background-size:200% 100%;-webkit-animation:loading-__jsx-style-dynamic-selector 1.5s infinite;animation:loading-__jsx-style-dynamic-selector 1.5s infinite;}","@-webkit-keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}100%{background-position:-200% 0;}}","@keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}100%{background-position:-200% 0;}}","@media (max-width:768px){.crop-shape-list.__jsx-style-dynamic-selector{grid-template-columns:repeat(6,1fr);}}"]})]})},P=function(e){var t,n=e.visible,r=e.onClose,a=e.onComplete,s=e.imageUrl,c=e.maskShapeImg,l=(0,o.useRef)(null),d=(0,o.useState)(void 0),u=d[0],p=d[1],x=(0,o.useState)(!1),h=x[0],f=x[1],b=(0,o.useState)(c),j=b[0],y=b[1],w=(0,o.useState)(!1),k=w[0],N=w[1],A=function(e){try{var t=new URL(e),n=t.searchParams.get("crop"),r="".concat(t.origin).concat(t.pathname),a=null;if(n){var i=n.split(",").map(Number),o=(0,C.A)(i,4),s=o[0],c=o[1],l=o[2],d=o[3];a={x:s,y:c,width:l,height:d}}return{originalUrl:r,cropData:a}}catch(t){return console.error("Invalid URL:",t),{originalUrl:e,cropData:null}}};(0,o.useEffect)(function(){var e;if(n&&k&&null!=(e=l.current)&&e.cropper){var t=A(s).cropData;t&&l.current.cropper.setData(t)}},[n,s,k]);var T=function(e){var t;p(e),null!=(t=l.current)&&t.cropper&&l.current.cropper.setAspectRatio(e||NaN)},P=(t=(0,m.A)(g().mark(function e(){var t,n,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=l.current)&&t.cropper){e.next=3;break}return v.Ay.error("Vui l\xf2ng chọn v\xf9ng cắt cảnh"),e.abrupt("return");case 3:return f(!0),e.prev=4,n=l.current.cropper.getData(!0),r="crop=".concat(n.x,",").concat(n.y,",").concat(n.width,",").concat(n.height),"".concat(r,"&quality=").concat(90),e.next=11,a(r,j);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Error processing image:",e.t0),v.Ay.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh");case 17:return e.prev=17,f(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[4,13,17,20]])})),function(){return t.apply(this,arguments)}),B=A(s).originalUrl;return(0,R.jsxs)(S.A,{title:"Cắt ảnh",centered:!0,open:n,closable:!1,styles:{body:{display:"flex",flexDirection:E.Fr?"column":"row",gap:"20px",alignItems:"flex-start",maxHeight:"600px",position:"relative"}},onCancel:r,cancelText:"Hủy",okText:"X\xe1c nhận",onOk:P,width:800,okButtonProps:{loading:h,disabled:h},cancelButtonProps:{disabled:h},children:[(0,R.jsx)("div",{className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" crop-container",children:(0,R.jsx)("div",{className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" crop-wrapper",children:(0,R.jsx)(O.I,{ref:l,src:B,style:{width:"100%",height:E.Fr?"30vh":"60vh",maxHeight:E.Fr?"300px":"600px"},aspectRatio:u,responsive:!0,guides:!0,preview:".img-preview",viewMode:1,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCropArea:.8,ready:function(){N(!0)},rotatable:!1,scalable:!1,zoomable:!1,zoomOnTouch:!1,zoomOnWheel:!1})})}),(0,R.jsxs)("div",{className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" controls-container",children:[(0,R.jsx)(I,{selectedShape:j,onShapeSelect:function(e){y(e)}}),(0,R.jsxs)("div",{className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" control-group",children:[(0,R.jsx)("h4",{className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" control-title",children:"Tỷ lệ khung h\xecnh"}),(0,R.jsxs)("div",{className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" aspect-ratio-group",children:[(0,R.jsx)("button",{onClick:function(){return T(void 0)},className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(void 0===u?"active":""),children:"Tự do"}),(0,R.jsx)("button",{onClick:function(){return T(1)},className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(1===u?"active":""),children:"1:1"}),(0,R.jsx)("button",{onClick:function(){return T(1.5)},className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(1.5===u?"active":""),children:"3:2"}),(0,R.jsx)("button",{onClick:function(){return T(2/3)},className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(u===2/3?"active":""),children:"2:3"}),(0,R.jsx)("button",{onClick:function(){return T(4/3)},className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(u===4/3?"active":""),children:"4:3"}),(0,R.jsx)("button",{onClick:function(){return T(16/9)},className:i().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(u===16/9?"active":""),children:"16:9"})]})]})]}),(0,R.jsx)(i(),{id:"2969881256",dynamic:[j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):""],children:[".cropper-view-box{".concat(j?"-webkit-mask-box-image: url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(j,");"):"",";}"),".cropper-modal{opacity:0.6;}",".cropper-bg{background:none;}"]}),(0,R.jsx)(i(),{id:"3429721221",dynamic:[E.Fr?"100%":"180px",E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)"],children:[".crop-container.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".controls-container.__jsx-style-dynamic-selector{width:".concat(E.Fr?"100%":"180px",";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:24px;}"),".control-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:15px;}",".control-title.__jsx-style-dynamic-selector{font-size:15px;margin:0;color:#666;}",".aspect-ratio-group.__jsx-style-dynamic-selector{display:grid;grid-template-columns:".concat(E.Fr?"repeat(3, 1fr)":"repeat(2, 1fr)",";gap:8px;}"),".aspect-ratio-btn.__jsx-style-dynamic-selector{padding:6px 12px;border:1px solid #d9d9d9;background:white;border-radius:6px;cursor:pointer;font-size:14px;-webkit-transition:all 0.2s;transition:all 0.2s;width:100%;text-align:center;}",".aspect-ratio-btn.__jsx-style-dynamic-selector:hover{border-color:#1677ff;color:#1677ff;}",".aspect-ratio-btn.active.__jsx-style-dynamic-selector{background:#1677ff;border-color:#1677ff;color:white;}"]})]})},B=n(59860),z=n(67663),_=["src","alt","width","height","style","className","errorMessage","subMessage"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let M=function(e){var t=e.src,n=e.alt,r=e.width,a=e.height,i=e.style,s=void 0===i?{}:i,c=e.className,l=e.errorMessage,d=e.subMessage,u=void 0===d?"Vui l\xf2ng cập nhật lại":d,p=(0,B.A)(e,_),x=(0,o.useState)(!1),h=x[0],m=x[1];if(h)return(0,R.jsxs)("div",{className:c,style:L({width:r,height:a,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",border:"1px dashed #ff4d4f",borderRadius:"6px",color:"#8c8c8c",fontSize:"12px",textAlign:"center",padding:"8px"},s),children:[(0,R.jsx)(A.In,{icon:"mdi:image-broken-variant",style:{fontSize:r&&r<50?"16px":"24px",marginBottom:"4px",color:"#ff4d4f"}}),(0,R.jsx)("div",{style:{fontWeight:500,fontSize:r&&r<50?"10px":"12px"},children:void 0===l?"Ảnh lỗi hoặc đ\xe3 bị x\xf3a":l}),u&&(0,R.jsx)("div",{style:{fontSize:r&&r<50?"8px":"10px",marginTop:"2px",opacity:.8},children:u})]});var f="".concat(D.A.CDN_URL,"/").concat((0,N.ep)(t));return(0,R.jsx)(z.A,L({src:t,alt:n,width:r,height:a,className:c,style:s,preview:!h&&{src:f},onError:function(){m(!0)}},p))};var H=n(82545),U=n(87334),K=n(3566);let W=function(e){var t=e.isOpen,n=e.onClose;return(0,R.jsx)(U.e,{appear:!0,show:t,as:o.Fragment,children:(0,R.jsxs)(K.lG,{as:"div",className:"relative z-[9999]",onClose:n,children:[(0,R.jsx)(U.e.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,R.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,R.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,R.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,R.jsx)(U.e.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,R.jsx)(K.lG.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:(0,R.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,R.jsxs)("div",{className:"flex-1 flex flex-col justify-between p-4 sm:p-6 lg:p-8",children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)("div",{className:"flex items-center gap-2 text-purple-600 text-sm mb-4",children:[(0,R.jsx)(A.In,{icon:"solar:crown-bold",className:"w-5 h-5 text-purple-600"}),(0,R.jsx)("span",{children:"H\xe3y n\xe2ng cấp để sử dụng t\xednh năng n\xe0y"})]}),(0,R.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4",children:"X\xf3a nền ảnh tự động"}),(0,R.jsx)("p",{className:"text-gray-700 text-sm sm:text-base mb-6 sm:mb-8",children:"C\xf4ng cụ AI x\xf3a nền ảnh nhanh ch\xf3ng v\xe0 ch\xednh x\xe1c, gi\xfap bạn tạo ra những thiệp cưới đẹp mắt."}),(0,R.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,R.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Tận hưởng c\xe1c t\xednh năng sau với Premium:"}),(0,R.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,R.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,R.jsx)(A.In,{icon:"solar:eraser-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"X\xf3a nền ảnh AI chuy\xean nghiệp"}),(0,R.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"C\xf4ng cụ AI mạnh mẽ x\xf3a nền ảnh tự động, tạo ra những bức ảnh đẹp mắt cho thiệp online"})]})]}),(0,R.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,R.jsx)(A.In,{icon:"solar:gallery-wide-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Kh\xf4ng gian lưu trữ ảnh nhiều hơn"}),(0,R.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Tải l\xean v\xe0 lưu trữ h\xe0ng trăm ảnh cho thiệp online của bạn"})]})]}),(0,R.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,R.jsx)(A.In,{icon:"solar:calendar-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Lưu trữ thiệp online l\xe2u d\xe0i"}),(0,R.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Thiệp online của bạn được lưu trữ 5 năm, xem lại bất cứ l\xfac n\xe0o"})]})]}),(0,R.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,R.jsx)(A.In,{icon:"solar:star-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"T\xednh năng cao cấp kh\xe1c"}),(0,R.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Th\xeam nhiều t\xednh năng n\xe2ng cao kh\xe1c như t\xean kh\xe1ch mời tự động, hộp mừng QR, tải nhạc c\xe1 nh\xe2n, mẫu cao cấp, ..."})]})]})]})]})]}),(0,R.jsxs)("div",{className:"flex gap-3",children:[(0,R.jsx)("button",{onClick:function(){n()},className:"w-full bg-white hover:bg-gray-50 text-gray-700 font-medium py-2.5 sm:py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl border border-gray-300 transition-colors duration-200 text-sm sm:text-base",children:"D\xf9ng g\xf3i hiện tại"}),(0,R.jsx)("button",{onClick:function(){n(),window.open("/checkout/upgrade?plan=premium&upgradeSource=background-removal-upgrade-modal","_blank")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2.5 sm:py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl transition-colors duration-200 text-sm sm:text-base",children:"N\xe2ng cấp Premium"})]})]}),(0,R.jsxs)("div",{className:"flex-1 bg-gradient-to-br from-purple-500 to-purple-700 relative overflow-hidden min-h-auto",children:[(0,R.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,R.jsx)("div",{className:"absolute top-4 left-4 sm:top-10 sm:left-10 w-12 h-12 sm:w-20 sm:h-20 bg-white rounded-full"}),(0,R.jsx)("div",{className:"absolute top-16 right-8 sm:top-32 sm:right-16 w-8 h-8 sm:w-16 sm:h-16 bg-white rounded-full"}),(0,R.jsx)("div",{className:"absolute bottom-12 left-8 sm:bottom-20 sm:left-20 w-6 h-6 sm:w-12 sm:h-12 bg-white rounded-full"}),(0,R.jsx)("div",{className:"absolute bottom-20 right-4 sm:bottom-32 sm:right-10 w-4 h-4 sm:w-8 sm:h-8 bg-white rounded-full"})]}),(0,R.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 text-white",children:[(0,R.jsx)("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:(0,R.jsx)("div",{className:"w-36 h-36 lg:w-64 lg:h-64 rounded-xl sm:rounded-2xl overflow-hidden shadow-2xl",children:(0,R.jsx)("img",{src:"".concat(D.A.CDN_URL,"/assets/remove-bg.webp"),alt:"X\xf3a nền ảnh tự động",className:"w-full h-full object-cover"})})}),(0,R.jsx)("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white text-center mb-2 sm:mb-4",children:"Tạo thiệp online ho\xe0n hảo"}),(0,R.jsx)("div",{className:"hidden sm:block absolute top-4 right-4 lg:top-8 lg:right-8",children:(0,R.jsx)("div",{className:"w-3 h-3 lg:w-4 lg:h-4 bg-yellow-400 rounded-full"})}),(0,R.jsx)("div",{className:"hidden sm:block absolute top-8 right-8 lg:top-16 lg:right-16",children:(0,R.jsx)("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-yellow-300 rounded-full"})}),(0,R.jsx)("div",{className:"hidden sm:block absolute bottom-8 right-6 lg:bottom-16 lg:right-12",children:(0,R.jsx)("div",{className:"w-1 h-1 lg:w-2 lg:h-2 bg-yellow-400 rounded-full"})}),(0,R.jsx)("div",{className:"hidden sm:block absolute bottom-4 right-10 lg:bottom-8 lg:right-20",children:(0,R.jsx)("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-yellow-300 rounded-full"})})]})]})]})})})})})]})})};var X=n(83240);let G=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,a=e.creditsInfo,i=e.isLoading,s=void 0!==i&&i,c=a&&a.remainingCredits>0;return(0,R.jsx)(U.e,{appear:!0,show:t,as:o.Fragment,children:(0,R.jsxs)(K.lG,{as:"div",className:"relative z-[9999]",onClose:s?function(){}:n,children:[(0,R.jsx)(U.e.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,R.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,R.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,R.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,R.jsx)(U.e.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,R.jsx)(K.lG.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:s||!a?(0,R.jsxs)("div",{className:"p-8 text-center",children:[(0,R.jsxs)("div",{className:"mb-6",children:[(0,R.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-4 bg-gradient-to-r from-purple-100 to-pink-100",children:(0,R.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-200 border-t-purple-600"})}),(0,R.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s?"Đang xử l\xfd...":"Đang tải th\xf4ng tin..."}),(0,R.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:s?"AI đang x\xf3a nền ảnh của bạn, vui l\xf2ng chờ trong gi\xe2y l\xe1t":"Đang kiểm tra credit v\xe0 th\xf4ng tin t\xe0i khoản của bạn"})]}),(0,R.jsx)("div",{className:"space-y-3 mb-6",children:s?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,R.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:(0,R.jsx)(A.In,{icon:"solar:check-bold",className:"w-4 h-4 text-white"})}),(0,R.jsx)("span",{className:"text-gray-700",children:"Đ\xe3 nhận ảnh"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,R.jsx)("div",{className:"w-6 h-6 rounded-full bg-purple-500 flex items-center justify-center",children:(0,R.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}),(0,R.jsx)("span",{className:"text-gray-700",children:"AI đang xử l\xfd x\xf3a nền"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,R.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center",children:(0,R.jsx)(A.In,{icon:"solar:download-bold",className:"w-4 h-4 text-gray-500"})}),(0,R.jsx)("span",{className:"text-gray-500",children:"Đang tải kết quả"})]})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,R.jsx)("div",{className:"w-6 h-6 rounded-full bg-purple-500 flex items-center justify-center",children:(0,R.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}),(0,R.jsx)("span",{className:"text-gray-700",children:"Đang kiểm tra t\xe0i khoản"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,R.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center",children:(0,R.jsx)(A.In,{icon:"solar:star-bold",className:"w-4 h-4 text-gray-500"})}),(0,R.jsx)("span",{className:"text-gray-500",children:"Đang tải th\xf4ng tin credit"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,R.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center",children:(0,R.jsx)(A.In,{icon:"solar:shield-check-bold",className:"w-4 h-4 text-gray-500"})}),(0,R.jsx)("span",{className:"text-gray-500",children:"Đang chuẩn bị giao diện"})]})]})}),(0,R.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,R.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce"}),(0,R.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,R.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}):(0,R.jsxs)("div",{className:"p-6",children:[(0,R.jsxs)("div",{className:"text-center mb-6",children:[(0,R.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 bg-gradient-to-r from-purple-100 to-pink-100",children:(0,R.jsx)(A.In,{icon:"solar:eraser-bold",className:"text-3xl text-purple-600"})}),(0,R.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"X\xf3a nền ảnh tự động"}),(0,R.jsx)("p",{className:"text-gray-600 text-sm",children:"C\xf4ng cụ AI sẽ x\xf3a nền ảnh một c\xe1ch tự động v\xe0 ch\xednh x\xe1c"})]}),a&&(0,R.jsxs)("div",{className:"rounded-lg p-4 mb-6 ".concat(c?"bg-gray-50":"bg-red-50 border border-red-200"),children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)(A.In,{icon:"solar:star-bold",className:"w-5 h-5 ".concat(c?"text-purple-600":"text-red-500")}),(0,R.jsx)("span",{className:"font-medium text-gray-900",children:"Credit c\xf2n lại"})]}),(0,R.jsx)("span",{className:"text-lg font-bold ".concat(c?"text-purple-600":"text-red-500"),children:a.remainingCredits})]}),(0,R.jsx)("div",{className:"text-xs ".concat(c?"text-gray-600":"text-red-600"),children:c?"Sử dụng 1 credit để x\xf3a nền ảnh n\xe0y":"Bạn đ\xe3 d\xf9ng hết credit cho t\xednh năng x\xf3a nền ảnh bằng AI. H\xe3y mua th\xeam credit để tiếp tục."})]}),(0,R.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,R.jsxs)("div",{className:"flex items-center gap-3",children:[(0,R.jsx)(A.In,{icon:"solar:magic-stick-bold",className:"w-5 h-5 text-purple-600"}),(0,R.jsx)("span",{className:"text-sm text-gray-700",children:"X\xf3a nền tự động bằng AI"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-3",children:[(0,R.jsx)(A.In,{icon:"solar:time-bold",className:"w-5 h-5 text-purple-600"}),(0,R.jsx)("span",{className:"text-sm text-gray-700",children:"Xử l\xfd nhanh ch\xf3ng trong v\xe0i gi\xe2y"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-3",children:[(0,R.jsx)(A.In,{icon:"solar:image-bold",className:"w-5 h-5 text-purple-600"}),(0,R.jsx)("span",{className:"text-sm text-gray-700",children:"Kết quả chất lượng cao"})]})]}),a&&(0,R.jsxs)("div",{className:"flex gap-3",children:[(0,R.jsx)(X.Ay,{onClick:n,className:"flex-1",disabled:s,children:"Hủy"}),c?(0,R.jsx)(X.Ay,{type:"primary",onClick:r,loading:s,className:"flex-1 bg-purple-600 hover:bg-purple-700 border-purple-600",children:"X\xe1c nhận x\xf3a nền"}):(0,R.jsx)(X.Ay,{type:"primary",onClick:function(){window.open("/dashboard/addons?category=AI_FEATURES","_blank"),n()},className:"flex-1 bg-red-500 hover:bg-red-600 border-red-500",children:"Mua th\xeam credit"})]})]})})})})})]})})};var Y=n(10553);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q=function(){var e,t,n,r,a,c=(0,s.oB)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,maskShapeImg:e.data.props.maskShapeImg}}),l=c.id,d=c.imgKey,u=c.maskShapeImg,p=c.actions.setProp,x=(0,Y.useSession)().data,h=(null==x||null==(a=x.user)?void 0:a.plan)||"free",f=(0,j.c3)(),C=f.setActiveKey;f.activeKey;var S=(0,j.wL)(),O=S.setReplacing,T=S.setReplaceType,D=S.setSelectedNodeId,E=S.isReplacing,I=S.multipleReplace,B=S.resetReplaceItem,z=(0,R.jsx)(M,{src:(0,N.Rw)(d,200),alt:"User Photo Upload",width:120,height:120,style:{height:"100%",objectFit:"contain",objectPosition:"center"},errorMessage:"Ảnh lỗi hoặc đ\xe3 bị x\xf3a",subMessage:"Vui l\xf2ng cập nhật ảnh kh\xe1c"}),_=(0,o.useState)(!1),F=_[0],L=_[1],U=(0,o.useState)(!1),K=U[0],X=U[1],q=(0,o.useState)(null),Q=q[0],Z=q[1],J=(0,o.useState)(!1),$=J[0],ee=J[1],et=(0,o.useState)(!1),en=et[0],er=et[1],ea=(0,k.x)(function(e){return e.triggerRefresh}),ei=(e=(0,m.A)(g().mark(function e(t,n){var r,a,i,o,s,c,l,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{a="".concat((0,N.ep)(d),"?").concat(t),o=(i=(null==(r=new URLSearchParams(t).get("crop"))?void 0:r.split(",").map(Number))||[])[2],s=i[3],l=(c=(0,y.P)(b.QL,o,s)).scaleWidth,u=c.scaleHeight,L(!1),p(function(e){e.imgKey=a,e.width=l,e.height=u,e.maskShapeImg=n||null},1e3),v.Ay.success("Cập nhật ảnh th\xe0nh c\xf4ng"),ea()}catch(e){v.Ay.error("C\xf3 lỗi xảy ra khi cập nhật ảnh, vui l\xf2ng thử lại sau"),console.error("Error updating cropped image:",e)}case 1:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)}),eo=(t=(0,m.A)(g().mark(function e(){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.U.getCredits();case 3:Z(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading credits info:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),es=(n=(0,m.A)(g().mark(function e(){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return v.Ay.warning("Vui l\xf2ng chọn ảnh trước khi x\xf3a nền"),e.abrupt("return");case 3:if("premium"===h){e.next=6;break}return ee(!0),e.abrupt("return");case 6:return er(!0),e.next=9,eo();case 9:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),ec=(r=(0,m.A)(g().mark(function e(){var t,n,r,a,i,o;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Q){e.next=3;break}return v.Ay.warning("Kh\xf4ng thể lấy th\xf4ng tin credit"),e.abrupt("return");case 3:if(!(!Q.hasCredits||Q.remainingCredits<=0)){e.next=7;break}return v.Ay.warning(Q.message),er(!1),e.abrupt("return");case 7:return X(!0),e.prev=8,e.next=11,H.U.removeBackground(d);case 11:(t=e.sent).success&&t.data?(p(function(e){e.imgKey=t.data.fileKey},1e3),er(!1),v.Ay.success(t.message||"X\xf3a nền ảnh th\xe0nh c\xf4ng"),void 0!==t.data.remainingCredits&&Z(function(e){return e?V(V({},e),{},{remainingCredits:t.data.remainingCredits,usedCredits:e.totalCredits-t.data.remainingCredits}):null}),ea()):void 0!==t.currentImageCount&&void 0!==t.maxImages?v.Ay.error("Bạn đ\xe3 đạt giới hạn ".concat(t.maxImages," ảnh. Vui l\xf2ng x\xf3a bớt ảnh để sử dụng t\xednh năng x\xf3a nền.")):v.Ay.error(t.error||"C\xf3 lỗi xảy ra khi x\xf3a nền ảnh"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Error removing background:",e.t0),null!=(n=e.t0.message)&&n.includes("504")||null!=(r=e.t0.message)&&r.includes("timeout")||null!=(a=e.t0.message)&&a.includes("Lambda timeout")?v.Ay.error("Qu\xe1 tr\xecnh x\xf3a nền đang mất nhiều thời gian. Vui l\xf2ng thử lại sau hoặc li\xean hệ hỗ trợ nếu vấn đề tiếp tục xảy ra."):null!=(i=e.t0.message)&&i.includes("Network Error")||null!=(o=e.t0.message)&&o.includes("fetch")?v.Ay.error("Lỗi kết nối mạng. Vui l\xf2ng kiểm tra kết nối internet v\xe0 thử lại."):v.Ay.error("C\xf3 lỗi xảy ra khi x\xf3a nền ảnh, vui l\xf2ng thử lại sau");case 19:return e.prev=19,X(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[8,15,19,22]])})),function(){return r.apply(this,arguments)});return(0,o.useEffect)(function(){return function(){E&&!I&&(B(),C(null))}},[E,I]),(0,R.jsxs)("div",{className:"jsx-1302557010 mb-4 flex flex-col gap-4 items-center",children:[(0,R.jsx)("div",{className:"jsx-1302557010 flex justify-center items-center overflow-hidden",children:(0,R.jsx)(w.A,{variant:"outlined",style:{width:140,height:140,padding:10},cover:z})}),(0,R.jsxs)("div",{className:"jsx-1302557010 button-container mt-2",children:[(0,R.jsxs)("button",{onClick:function(){return L(!0)},className:"jsx-1302557010 px-4 py-2 rounded-lg font-medium text-sm transition-colors duration-200 ease-in-out bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-2",children:[(0,R.jsx)(A.In,{icon:"solar:crop-minimalistic-broken",className:"w-4 h-4"}),"Cắt ảnh"]}),(0,R.jsxs)("button",{onClick:function(){O(!0),T("photo"),C(b.hW.PHOTO),D(l)},className:"jsx-1302557010 px-4 py-2 rounded-lg font-medium text-sm transition-colors duration-200 ease-in-out bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-2",children:[(0,R.jsx)(A.In,{icon:"solar:gallery-wide-bold",className:"w-4 h-4"}),"Đổi ảnh"]})]}),(0,R.jsx)("div",{className:"jsx-1302557010 mb-2",children:(0,R.jsxs)("button",{onClick:es,disabled:!d||K,className:"jsx-1302557010 "+"\n            relative overflow-hidden px-6 py-2 rounded-xl font-semibold text-sm\n            transition-all duration-300 ease-in-out transform\n            ".concat(!d||K?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95 cursor-pointer","\n            bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700\n            hover:from-purple-500 hover:via-pink-500 hover:to-purple-600\n            shadow-lg hover:shadow-xl hover:shadow-purple-500/25\n            border border-purple-400/30\n            text-white\n            flex items-center gap-2\n            ").concat(K?"animate-pulse":"","\n          "),children:[(0,R.jsx)("div",{className:"jsx-1302557010 absolute inset-0 bg-gradient-to-r from-purple-400/20 via-pink-400/20 to-purple-400/20 opacity-0 hover:opacity-100 transition-opacity duration-300"}),(0,R.jsx)("div",{className:"jsx-1302557010 absolute inset-0 rounded-xl bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-purple-500/10 blur-sm opacity-0 hover:opacity-100 transition-opacity duration-300"}),(0,R.jsx)("div",{className:"jsx-1302557010 relative z-10 flex items-center gap-2",children:K?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"jsx-1302557010 w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,R.jsx)("span",{className:"jsx-1302557010",children:"Đang xử l\xfd..."})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"jsx-1302557010 relative",children:[(0,R.jsx)(A.In,{icon:"solar:eraser-bold",className:"w-4 h-4"}),(0,R.jsx)("div",{className:"jsx-1302557010 absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full animate-ping"}),(0,R.jsx)("div",{className:"jsx-1302557010 absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full"})]}),(0,R.jsx)("span",{className:"jsx-1302557010 bg-gradient-to-r from-white to-purple-100 bg-clip-text text-transparent",children:"X\xf3a nền (AI)"})]})}),(0,R.jsx)("div",{className:"jsx-1302557010 absolute inset-0 -skew-x-12 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 hover:opacity-100 transition-all duration-700 transform translate-x-[-100%] hover:translate-x-[100%]"})]})}),(0,R.jsx)(P,{visible:F,onClose:function(){return L(!1)},onComplete:ei,imageUrl:(0,N.T_)(d),maskShapeImg:u}),(0,R.jsx)(W,{isOpen:$,onClose:function(){return ee(!1)}}),(0,R.jsx)(G,{isOpen:en,onClose:function(){return er(!1)},onConfirm:ec,creditsInfo:Q,isLoading:K}),(0,R.jsx)(i(),{id:"1302557010",children:[".shape-component.jsx-1302557010{opacity:1;z-index:151;border-radius:0px;background-color:rgb(204,204,204);border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}",".button-container.jsx-1302557010{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})},Z=n(48871),J=n(89099);let $=function(){var e=(0,J.useRouter)(),t=(0,o.useState)(!1),n=t[0],r=t[1],a=(0,s.oB)(function(e){return{isReplaceable:e.data.props.isReplaceable||!1}}),i=a.actions.setProp,c=a.isReplaceable;return((0,o.useEffect)(function(){r(e.pathname.includes("admin/templates/edit/")||e.asPath.includes("admin/templates/edit/"))},[e.pathname,e.asPath]),n)?(0,R.jsxs)("div",{className:"flex items-center mb-4",children:[(0,R.jsx)("label",{className:"text-sm font-medium mr-2",children:"Cho ph\xe9p thay thế ảnh:"}),(0,R.jsx)(Z.A,{checked:c,onChange:function(e){i(function(t){t.isReplaceable=e})}})]}):null};var ee=n(39229),et=n(67708),en=n(99205),er=n(13286),ea=n(33598),ei=n(10881),eo=n(86961),es=n(21350),ec=n(62542),el=n(47139),ed={IMAGE:"T\xf9y chỉnh",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",HYPERLINK:"Li\xean kết",TRANSITION:"Hiệu ứng động",ANIMATION:"Chuyển động"},eu=n(46648),ep=n(47908);function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var em={top:10,left:10,width:100,height:100,backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},maskShapeImg:null,zIndex:0,locked:!1,transition:ee.l,hyperlink:"",continuousAnimation:ep.kM},ef=function(e){var t=e=eh(eh({},em),e),n=t.top,r=t.left,a=t.height,c=t.width,l=t.opacity,d=t.backgroundColor,u=t.shadow,p=t.padding,x=t.borderRadius,h=t.rotation,m=t.flipX,f=t.flipY,g=t.borderPosition,b=t.borderSize,j=t.borderStyle,y=t.borderColor,v=t.hasShadow,w=t.boxShadow,k=t.imgKey,A=t.maskShapeImg,C=t.zIndex,S=t.locked,O=t.transition,T=t.hyperlink;t.continuousAnimation;var E=O||ee.l,I=(0,eu.h)().getAnimationStyle,P=(0,o.useRef)(null),B=(0,o.useState)([]),z=B[0],_=B[1],F=(0,o.useState)(!1),L=F[0],M=F[1],H=(0,s.oB)(function(e){return{active:e.events.selected,id:e.id}}),U=H.connectors.connect,K=H.actions.setProp,W=H.active,X=H.id,G=(0,s.hG)(function(e){return{enabled:e.options.enabled}}).enabled;(0,o.useEffect)(function(){if(W&&G){var e=document.querySelector("#root-page-container");e&&_(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==X}))}},[W,G,X]);var Y=(0,o.useState)({width:0,height:0,left:0,top:0}),q=Y[0],V=Y[1],Q=(0,o.useState)(null),Z=Q[0],J=Q[1];(0,o.useEffect)(function(){if(W&&G){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();V({width:t.width,height:t.height,left:t.left,top:t.top}),J(e)}}},[W,G]);var $=function(e){!G&&T&&T.trim()&&(e.preventDefault(),e.stopPropagation(),window.open(T,"_blank"))},et=function(){switch(g){case"all":return{border:"".concat(b,"px ").concat(j," ").concat(y)};case"top":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y)};case"bottom":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(y)};case"right":return{borderRight:"".concat(b,"px ").concat(j," ").concat(y)};case"left":return{borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"top-bottom":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y),borderBottom:"".concat(b,"px ").concat(j," ").concat(y)};case"right-left":return{borderRight:"".concat(b,"px ").concat(j," ").concat(y),borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"upper-left":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y),borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"upper-right":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y),borderRight:"".concat(b,"px ").concat(j," ").concat(y)};case"lower-left":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(y),borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"lower-right":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(y),borderRight:"".concat(b,"px ").concat(j," ").concat(y)};default:return{}}}();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{"data-node-id":X,ref:function(e){e&&(U(e),P.current=e)},style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),width:"".concat(c,"px"),height:"".concat(a,"px"),zIndex:C,cursor:G?"move":T&&T.trim()?"pointer":"default",transform:"rotate(".concat(h,"deg) scale(").concat(m?-1:1,", ").concat(f?-1:1,")")},onClick:$,onTouchEnd:$,className:"jsx-1944329802",children:(0,R.jsx)(ea.A,{transition:E,targetRef:P,enabled:G,nodeId:X,onTransitionStart:function(){M(!0)},onTransitionEnd:function(){M(!1)},children:(0,R.jsx)("div",{style:eh(eh({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},et),{},{padding:"".concat(p[0],"px ").concat(p[1],"px ").concat(p[2],"px ").concat(p[3],"px"),backgroundColor:d,textShadow:"0px 0px 2px rgba(0,0,0,".concat((u||0)/100,")"),opacity:l,boxShadow:v?"".concat(w.offsetX,"px ").concat(w.offsetY,"px ").concat(w.blur,"px ").concat(w.spread,"px ").concat(w.color):"none",borderRadius:"".concat(x[0],"px \n              ").concat(x[1],"px \n              ").concat(x[2],"px \n              ").concat(x[3],"px")},I()),className:"jsx-1944329802",children:(0,R.jsx)("div",{style:{WebkitMaskBoxImageSource:A?"url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(A,")"):"none",WebkitMaskBoxImageSlice:"0 fill",maskImage:A?"url(".concat(D.A.CDN_RESOURCE_URL,"/").concat(A,")"):"none",maskSize:"100% 100%",maskRepeat:"no-repeat"},className:"jsx-1944329802 photo-component",children:(0,R.jsx)("div",{style:{backgroundImage:"url(".concat((0,N.B)(k),")"),borderRadius:"".concat(x[0],"px \n                  ").concat(x[1],"px \n                  ").concat(x[2],"px \n                  ").concat(x[3],"px")},className:"jsx-1944329802 photo-bg-wrap"})})})})}),W&&G&&P.current&&!L&&(0,R.jsx)(er.A,{target:P.current,container:Z,otherElements:z,containerBounds:q,currentProps:{top:n,left:r,width:c,height:a,rotation:h,flipX:m,flipY:f,locked:S},onUpdateProps:function(e){K(function(t){Object.assign(t,e)})}}),(0,R.jsx)(i(),{id:"1944329802",children:[".photo-component.jsx-1944329802{width:100%;height:100%;}",".photo-component.jsx-1944329802 img.jsx-1944329802{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".photo-component.jsx-1944329802 .photo-bg-wrap.jsx-1944329802{width:100%;height:100%;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]})]})};ef.craft={displayName:"Photo Item",props:em,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)(Q,{}),(0,R.jsx)($,{}),(0,R.jsxs)(c.rk,{title:"M\xe0u sắc",children:[(0,R.jsx)(l.O,{isColor:!1,isBackground:!0}),(0,R.jsx)(h.x,{})]}),(0,R.jsxs)(c.rk,{title:"Khoảng đệm",children:[(0,R.jsx)(d.a,{}),(0,R.jsx)(u.d,{flipable:!0})]}),(0,R.jsx)(c.rk,{title:"Đường viền",children:(0,R.jsx)(p.x,{})}),(0,R.jsx)(c.rk,{title:"Đổ b\xf3ng",children:(0,R.jsx)(x.G,{})}),(0,R.jsx)(c.rk,{title:"Li\xean kết",props:["hyperlink"],children:(0,R.jsx)(et.L,{})}),(0,R.jsx)(c.rk,{title:"Hiệu ứng chuyển động",children:(0,R.jsx)(ee.i,{})}),(0,R.jsx)(c.rk,{title:"Chuyển động li\xean tục",children:(0,R.jsx)(en.A,{})})]})},mobileToolbar:function(){var e=(0,o.useState)(null),t=e[0],n=e[1],r=function(e){n(e)},a=(0,j.wL)(),i=a.isReplacing,s=a.replaceType,c=a.setReplacing,m=a.setReplaceType,f=a.setSelectedNodeId,g=(0,o.useState)(!1),b=g[0],y=g[1];(0,o.useEffect)(function(){i&&"photo"===s&&y(!0)},[i,s]);var v=function(){y(!1),c(!1),m(null),f(null),n(null)};return(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)(ei.A,{icon:(0,R.jsx)(eo.JZt,{size:20}),label:ed.IMAGE,onClick:function(){return r(ed.IMAGE)}}),(0,R.jsx)(ei.A,{icon:(0,R.jsx)(eo.NyH,{size:20}),label:ed.COLOR,onClick:function(){return r(ed.COLOR)}}),(0,R.jsx)(ei.A,{icon:(0,R.jsx)(eo.WKR,{size:20}),label:ed.PADDING,onClick:function(){return r(ed.PADDING)}}),(0,R.jsx)(ei.A,{icon:(0,R.jsx)(eo.lKm,{size:20}),label:ed.BORDER,onClick:function(){return r(ed.BORDER)}}),(0,R.jsx)(ei.A,{icon:(0,R.jsx)(eo.elE,{size:20}),label:ed.BOX_SHADOW,onClick:function(){return r(ed.BOX_SHADOW)}}),(0,R.jsx)(ei.A,{icon:(0,R.jsx)(eo.WnQ,{size:20}),label:ed.HYPERLINK,onClick:function(){return r(ed.HYPERLINK)}}),(0,R.jsx)(ei.A,{icon:(0,R.jsx)(eo.Vt5,{size:20}),label:ed.TRANSITION,onClick:function(){return r(ed.TRANSITION)}}),(0,R.jsx)(ei.A,{icon:(0,R.jsx)(el.g4X,{size:20}),label:ed.ANIMATION,onClick:function(){return r(ed.ANIMATION)}}),(0,R.jsx)(es.zD,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,R.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,R.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,R.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,R.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,R.jsx)("div",{className:"setting-content",children:function(){switch(t){case ed.IMAGE:return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Q,{}),(0,R.jsx)($,{})]});case ed.COLOR:return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(l.O,{isColor:!1,isBackground:!0}),(0,R.jsx)(h.x,{})]});case ed.PADDING:return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(d.a,{}),(0,R.jsx)(u.d,{flipable:!0})]});case ed.BORDER:return(0,R.jsx)(p.x,{});case ed.BOX_SHADOW:return(0,R.jsx)(x.G,{});case ed.HYPERLINK:return(0,R.jsx)(et.L,{});case ed.TRANSITION:return(0,R.jsx)(ee.i,{});case ed.ANIMATION:return(0,R.jsx)(en.A,{});default:return(0,R.jsx)(R.Fragment,{})}}()})})]})}),(0,R.jsx)(es.zD,{visible:b,onMaskClick:v,position:"bottom",bodyStyle:{height:"60vh"},children:(0,R.jsx)(ec.A,{isMobile:!0,onClose:v})})]})}}}},91165:e=>{e.exports={presetPreviewCard:"transitionEffects_presetPreviewCard__vyGP6",selected:"transitionEffects_selected__nDz_Z",lineClamp2:"transitionEffects_lineClamp2__siH3_",transitionAll:"transitionEffects_transitionAll__RmOyQ",hoverShadowMd:"transitionEffects_hoverShadowMd__I1c_9",hoverBgGray50:"transitionEffects_hoverBgGray50__D6I0N",gridCols2:"transitionEffects_gridCols2__he_0z",gridCols3:"transitionEffects_gridCols3__5ugkS",gap3:"transitionEffects_gap3__EbByh",cursorPointer:"transitionEffects_cursorPointer__Qh7jl",duration200:"transitionEffects_duration200___r0aD",ring2:"transitionEffects_ring2__yj_ry",ringBlue500:"transitionEffects_ringBlue500__HgC5i",bgBlue50:"transitionEffects_bgBlue50__lRLvd"}},93521:(e,t,n)=>{"use strict";n.d(t,{O:()=>o}),n(14232);var r=n(66125),a=n(55882),i=n(37876),o=function(e){var t=e.isColor,n=e.isBackground,o=e.colorTitle,s=e.defaultColor,c=void 0===s?"#000000":s,l=(0,r.oB)(function(e){return{propValue:{color:e.data.props.color||c,backgroundColor:e.data.props.backgroundColor||"#ffffff"}}}),d=l.actions.setProp,u=l.propValue,p=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,i.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(void 0===t||t)&&(0,i.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:void 0===o?"M\xe0u sắc":o}),(0,i.jsx)(a.V,{value:u.color,onChange:function(e){d(function(t){e.rgba&&e.rgba.a<1?t.color=p(e.rgba):t.color=e.hex})}})]}),(void 0===n||n)&&(0,i.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,i.jsx)(a.V,{value:"transparent"!==u.backgroundColor?u.backgroundColor:"#ffffff",onChange:function(e){d(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=p(e.rgba):t.backgroundColor=e.hex})}})]})]})}},93936:(e,t,n)=>{"use strict";n.d(t,{PV:()=>o,QU:()=>i,S1:()=>a});var r=n(81495),a=function(e){return"boolean"==typeof e?{enabled:e,components:{comments:e,gifts:e,likes:e,qrCode:e}}:e||r.fV},i=function(e){if("boolean"==typeof e)return e;var t,n=null==e?void 0:e.components,a=null==n?void 0:n[r.fu.GIFTS],i=null==n?void 0:n[r.fu.QR_CODE],o=null==n?void 0:n[r.fu.LIKES],s=null==n?void 0:n[r.fu.COMMENTS];return(!1!==a||!1!==i||!1!==o||!1!==s)&&(null==(t=null==e?void 0:e.enabled)||t)},o=function(e,t){return a(e).components[t]}},95463:(e,t,n)=>{"use strict";n.d(t,{a:()=>x});var r=n(44478),a=n(27002),i=n.n(a),o=n(14232),s=n(66125),c=n(80878),l=n(83240),d=n(80645),u=n(32723),p=n(37876),x=function(){var e=(0,s.oB)(function(e){return{propValue:{padding:e.data.props.padding||[0,0,0,0]}}}),t=e.actions.setProp,n=e.propValue,a=(0,o.useState)(!0),x=a[0],h=a[1],m=(0,o.useState)(null),f=m[0],g=m[1],b=function(e,n){t(function(t){var a=(0,r.A)(t.padding);x?a.fill(e):a[n]=e,t.padding=a})},j=function(e){g(e)},y=function(){g(null)};return(0,p.jsxs)("div",{className:"jsx-1460817636 flex flex-col mb-4",children:[(0,p.jsxs)("div",{className:"jsx-1460817636 flex items-center justify-between mb-2",children:[(0,p.jsx)("label",{className:"jsx-1460817636 text-sm font-medium",children:"Khoảng đệm (Padding)"}),(0,p.jsx)(c.A,{title:"".concat(x?"Unlink":"Link"),children:(0,p.jsx)(l.Ay,{type:"text",icon:x?(0,p.jsx)(u.o9J,{size:18}):(0,p.jsx)(u.ryB,{size:18}),onClick:function(){h(function(e){return!e})}})})]}),(0,p.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto auto auto",gridTemplateColumns:"auto auto auto",justifyContent:"center",alignItems:"center",gap:"10px"},className:"jsx-1460817636 padding-container",children:[(0,p.jsx)("div",{style:{gridRow:"1",gridColumn:"2",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,p.jsx)(d.A,{min:0,max:100,step:1,value:n.padding[0],onChange:function(e){return b(e||0,0)},onFocus:function(){return j("top")},onBlur:y,style:{width:"60px"}})}),(0,p.jsx)("div",{style:{gridRow:"2",gridColumn:"1",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,p.jsx)(d.A,{min:0,max:100,step:1,value:n.padding[3],onChange:function(e){return b(e||0,3)},onFocus:function(){return j("left")},onBlur:y,style:{width:"60px"}})}),(0,p.jsx)("div",{style:{gridRow:"2",gridColumn:"2",backgroundColor:"#e0e0e0",width:"100px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",border:x&&null!==f?"10px solid #ccc":"1px solid #ccc",position:"relative"},className:"jsx-1460817636 "+"center-block ".concat(!x?"not-linked":""," ").concat("top"===f?"highlight-top":"right"===f?"highlight-right":"bottom"===f?"highlight-bottom":"left"===f?"highlight-left":""),children:"Block"}),(0,p.jsx)("div",{style:{gridRow:"2",gridColumn:"3",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,p.jsx)(d.A,{min:0,max:100,step:1,value:n.padding[1],onChange:function(e){return b(e||0,1)},onFocus:function(){return j("right")},onBlur:y,style:{width:"60px"}})}),(0,p.jsx)("div",{style:{gridRow:"3",gridColumn:"2",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,p.jsx)(d.A,{min:0,max:100,step:1,value:n.padding[2],onChange:function(e){return b(e||0,2)},onFocus:function(){return j("bottom")},onBlur:y,style:{width:"60px"}})})]}),(0,p.jsx)(i(),{id:"1460817636",children:[".center-block.not-linked.jsx-1460817636{position:relative;}",'.center-block.not-linked.jsx-1460817636::before{content:"";position:absolute;width:100%;height:10px;background-color:transparent;}','.center-block.not-linked.jsx-1460817636::after{content:"";position:absolute;width:10px;height:100%;background-color:transparent;}',".not-linked.highlight-top.jsx-1460817636::before{top:0px;background-color:#ccc;}",".not-linked.highlight-bottom.jsx-1460817636::before{bottom:0px;background-color:#ccc;}",".not-linked.highlight-left.jsx-1460817636::after{left:0px;background-color:#ccc;}",".not-linked.highlight-right.jsx-1460817636::after{right:0px;background-color:#ccc;}"]})]})}},96447:(e,t,n)=>{"use strict";n.d(t,{G:()=>u}),n(14232);var r=n(66125),a=n(48871),i=n(80645),o=n(40251),s=n(67600),c=n(83240),l=n(30298),d=n(37876),u=function(){var e=(0,r.oB)(function(e){return{propValue:{hasShadow:e.data.props.hasShadow||!1,boxShadow:e.data.props.boxShadow||{offsetX:10,offsetY:10,blur:5,spread:0,color:"rgba(0, 0, 0, 0.5)",opacity:.5}}}}),t=e.actions.setProp,n=e.propValue,u=function(e,n){t(function(t){t.boxShadow[e]=n})};return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Đổ b\xf3ng "}),(0,d.jsx)(a.A,{checked:n.hasShadow,onChange:function(e){t(function(t){t.hasShadow=e})}})]}),n.hasShadow&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Horizontal Length"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.A,{min:-100,max:100,step:1,value:n.boxShadow.offsetX,onChange:function(e){return u("offsetX",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.A,{min:-100,max:100,step:1,value:n.boxShadow.offsetX,onChange:function(e){return u("offsetX",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Vertical Length"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.A,{min:-100,max:100,step:1,value:n.boxShadow.offsetY,onChange:function(e){return u("offsetY",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.A,{min:-100,max:100,step:1,value:n.boxShadow.offsetY,onChange:function(e){return u("offsetY",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Blur Radius"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.A,{min:0,max:100,step:1,value:n.boxShadow.blur,onChange:function(e){return u("blur",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.A,{min:0,max:100,step:1,value:n.boxShadow.blur,onChange:function(e){return u("blur",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Spread Radius"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.A,{min:-100,max:100,step:1,value:n.boxShadow.spread,onChange:function(e){return u("spread",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.A,{min:-100,max:100,step:1,value:n.boxShadow.spread,onChange:function(e){return u("spread",e)}})]}),(0,d.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm",children:"Shadow Color"}),(0,d.jsx)(s.A,{content:(0,d.jsx)(l.Xq,{color:n.boxShadow.color,onChangeComplete:function(e){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t(function(e){e.boxShadow.color=n})}}),trigger:"click",children:(0,d.jsx)(c.Ay,{style:{backgroundColor:n.boxShadow.color,border:"1px solid #ccc",width:"40px",height:"30px"}})})]})]})]})}},97967:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(14232),a=n(87334),i=n(3566),o=n(98594),s=n(24530),c=n(80878),l=n(9193),d=n(37876);let u=function(e){var t=e.visible,n=e.onClose,u=e.advancedItems,p=e.onRemoveAdvancedItem,x=e.templateType,h=e.userPlan,m=void 0===h?"free":h,f=e.onPublishWithoutAnimations,g=(0,l.M)().planExpiration,b=function(e){if((null==e||null==(t=e.name)?void 0:t.toLowerCase())!=="premium"||"basic"!==m.toLowerCase()||!(null!=g&&g.planUpdatedAt))return null;var t,n=new Date(g.planUpdatedAt),r=Math.floor((new Date().getTime()-n.getTime())/864e5);return r<=30?{isDifferential:!0,differentialPrice:(parseInt(s.bE.PREMIUM.price.replace(/[^\d]/g,""))-parseInt(s.bE.BASIC.price.replace(/[^\d]/g,""))-1e3).toLocaleString("vi-VN"),fullPriceOriginal:e.originalPrice,daysRemaining:30-r}:null},j=x?"premium"===x&&"premium"!==m?{type:"premium",displayName:"Mẫu cao cấp Premium",requiredPlans:["premium"],message:"Chưa thể xuất bản do mẫu n\xe0y chỉ d\xe0nh cho người d\xf9ng g\xf3i Premium."}:"basic"===x&&"free"===m?{type:"basic",displayName:"Mẫu cao cấp Basic",requiredPlans:["basic","premium"],message:"Chưa thể xuất bản do mẫu n\xe0y chỉ d\xe0nh cho người d\xf9ng g\xf3i Basic trở l\xean."}:null:null,y=function(){if(j)return s.E4.filter(function(e){return j.requiredPlans.includes(e.name)});var e=u.some(function(e){return e.isPremium});return"basic"===m.toLowerCase()&&e?s.E4.filter(function(e){return"premium"===e.name}):s.E4.filter(function(e){return"basic"===e.name||"premium"===e.name})}(),v=function(e){window.open(e,"_blank"),n()},w=function(e){p&&(p(e),(u.length<=1||"Bản đồ n\xe2ng cao"===e.displayName)&&n())},k="advanced-items-".concat(j?"template-restriction":"regular");return(0,d.jsx)(a.e,{appear:!0,show:t,as:r.Fragment,children:(0,d.jsxs)(i.lG,{as:"div",className:"relative",style:{zIndex:9999},onClose:n,children:[(0,d.jsx)(a.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,d.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,d.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,d.jsx)(a.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,d.jsxs)(i.lG.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,d.jsx)(i.lG.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-orange-700 text-center mb-2",children:"⚠️ Xuất bản kh\xf4ng th\xe0nh c\xf4ng"}),(0,d.jsxs)("div",{className:"mt-4 text-center",children:[j&&(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4 mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,d.jsx)(o.In,{icon:"solar:crown-star-bold",className:"mr-2 h-6 w-6 text-purple-500"}),(0,d.jsx)("span",{className:"font-semibold text-purple-900",children:j.displayName})]}),(0,d.jsx)("p",{className:"text-purple-800 text-sm",children:j.message})]})}),!j&&u.length>0&&(0,d.jsx)("p",{className:"text-gray-600 mb-2",children:"Chưa thể xuất bản do trang của bạn c\xf3 chứa c\xe1c t\xednh năng n\xe2ng cao sau đ\xe2y:"}),!j&&u.length>0&&(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-2",children:[(0,d.jsx)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center justify-center",children:"T\xednh năng n\xe2ng cao được sử dụng"}),(0,d.jsx)("div",{className:"space-y-2",children:u.map(function(e,t){var n="Bản đồ n\xe2ng cao"===e.displayName,r=e.isPremium,a=n?"Thay thế bản đồ":"X\xf3a ".concat(e.displayName.toLowerCase());return(0,d.jsxs)("div",{className:"flex items-center justify-center text-sm relative p-3 rounded-lg transition-all duration-200 ".concat(r?"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 shadow-sm":"bg-white border border-blue-200 shadow-sm"),children:[r?(0,d.jsxs)("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-md",children:[(0,d.jsx)(o.In,{icon:"solar:crown-bold",className:"inline-block mr-1 h-3 w-3"}),"PREMIUM"]}):(0,d.jsxs)("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-md",children:[(0,d.jsx)(o.In,{icon:"solar:star-bold",className:"inline-block mr-1 h-3 w-3"}),"BASIC"]}),(0,d.jsx)(o.In,{icon:r?"solar:crown-star-bold":"solar:star-bold",className:"mr-2 h-4 w-4 ".concat(r?"text-purple-500":"text-blue-500")}),(0,d.jsx)("span",{className:"font-semibold ".concat(r?"text-purple-800":"text-blue-800"),children:e.displayName}),(0,d.jsx)(c.A,{title:a,styles:{root:{zIndex:1e4}},placement:"top",children:(0,d.jsx)("button",{onClick:function(){return w(e)},className:"ml-3 p-1 rounded-full transition-all duration-200 hover:scale-110 ".concat(n?"bg-blue-200 hover:bg-blue-300 text-blue-500":r?"bg-purple-200 hover:bg-purple-300 text-purple-500":"bg-red-200 hover:bg-red-300 text-red-500"),children:(0,d.jsx)(o.In,{icon:n?"solar:refresh-circle-bold":"solar:trash-bin-trash-bold",className:"h-4 w-4"})})})]},t)})})]}),(0,d.jsx)("div",{className:"text-gray-600 mb-2 space-y-3",children:j?(0,d.jsxs)("p",{className:"my-8",children:[(0,d.jsx)("span",{className:"font-bold",children:"Ch\xfa \xfd:"})," Bạn đang sử dụng g\xf3i"," ",(0,d.jsx)("span",{className:"font-bold",children:m.charAt(0).toUpperCase()+m.slice(1)}),", để xuất bản mẫu n\xe0y, bạn cần n\xe2ng cấp l\xean g\xf3i"," ",(0,d.jsx)("span",{className:"font-bold",children:j.requiredPlans.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" hoặc ")}),"."]}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-bold",children:"Ch\xfa \xfd:"})," Bạn đang sử dụng g\xf3i"," ",(0,d.jsx)("span",{className:"font-bold",children:m.charAt(0).toUpperCase()+m.slice(1)}),", để xuất bản mẫu n\xe0y, bạn cần loại bỏ c\xe1c t\xednh năng"," ","n\xe2ng cao b\xean tr\xean."]})})}),u.some(function(e){return"Hiệu ứng chuyển động"===e.displayName})&&!j&&f&&(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("button",{onClick:function(){f(),n()},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[(0,d.jsx)(o.In,{icon:"solar:rocket-2-bold-duotone",className:"h-5 w-5"}),(0,d.jsx)("span",{children:"Xuất bản kh\xf4ng c\xf3 hiệu ứng chuyển động"})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Trang sẽ được xuất bản nhưng kh\xf4ng c\xf3 hiệu ứng chuyển động"})]}),(0,d.jsxs)("div",{className:"space-y-4 mb-6",children:[!j&&(0,d.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,d.jsx)(o.In,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"Hoặc n\xe2ng cấp để sử dụng đầy đủ"]}),(0,d.jsx)("div",{className:"grid gap-4 ".concat(1===y.length?"grid-cols-1 max-w-xs mx-auto":"grid-cols-1 md:grid-cols-2"),children:y.map(function(e){var t=b(e);return(0,d.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(t?"border-green-400 bg-gradient-to-b from-white to-green-50":e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[t?(0,d.jsxs)("div",{className:"absolute -top-2 left-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center",children:[(0,d.jsx)(o.In,{icon:"solar:tag-price-bold",className:"mr-1 h-3 w-3"}),"Ưu đ\xe3i đặc biệt"]}):(0,d.jsxs)(d.Fragment,{children:[e.popular&&(0,d.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,d.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,d.jsx)(o.In,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,d.jsxs)("div",{className:"text-right",children:[t?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-gray-500 line-through",children:t.fullPriceOriginal}),(0,d.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.differentialPrice})]}):e.isPromotional&&e.originalPrice?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,d.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,s.gl)(e.price,e.originalPrice),"%"]})]}):(0,d.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),t&&(0,d.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 mb-3",children:[(0,d.jsx)("p",{className:"text-xs text-green-800 font-medium text-center",children:"\uD83D\uDCA1 Ưu đ\xe3 n\xe2ng cấp đặc biệt!"}),(0,d.jsxs)("p",{className:"text-xs text-green-700",children:["Bạn đ\xe3 n\xe2ng cấp l\xean Basic trong v\xf2ng 30 ng\xe0y, chỉ cần th\xeam"," ",(0,d.jsxs)("strong",{children:[t.differentialPrice," VNĐ"]})," ","để n\xe2ng cấp l\xean Premium."]}),(0,d.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["⏰ Ưu đ\xe3i c\xf2n"," ",(0,d.jsxs)("strong",{children:[t.daysRemaining," ng\xe0y"]})]})]}),(0,d.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,d.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,d.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,d.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,d.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,d.jsx)("div",{className:"text-gray-700",children:"• Sử dụng c\xe1c t\xednh năng n\xe2ng cao"}),e.featured&&(0,d.jsx)("div",{className:"text-gray-700",children:"• Template Basic + Premium"}),"basic"===e.name&&(0,d.jsx)("div",{className:"text-gray-700",children:"• Template Basic"})]}),(0,d.jsxs)("button",{onClick:function(){return v(e.ctaLink+"&upgradeSource=".concat(k))},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(t?"bg-green-600 text-white hover:bg-green-700":e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]}),(0,d.jsx)("div",{className:"flex justify-center gap-3",children:(0,d.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 transition-colors",onClick:n,children:"Đ\xf3ng"})})]})]})})})})]})})}},99205:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(42969);n(14232);var a=n(53872),i=n(50973),o=n(43672),s=n(80645),c=n(66125),l=n(46648),d=n(47908),u=n(10553),p=n(37876);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=a.A.Option;let f=function(e){var t,n=e.className,r=(0,u.useSession)().data,x=(0,l.h)().animationConfig,f=(0,c.oB)().actions.setProp,g=(null==r||null==(t=r.user)?void 0:t.plan)==="free",b=function(e){f(function(t){t.continuousAnimation=h(h({},t.continuousAnimation),e)})};return(0,p.jsxs)("div",{className:void 0===n?"":n,children:[g&&(0,p.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md mb-4",children:(0,p.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,p.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng n\xe2ng cao:"})," Chuyển động li\xean tục chỉ d\xe0nh cho g\xf3i Basic trở l\xean.",(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=continuous-animation-setting","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(g?"text-gray-500":"text-gray-700"),children:"Loại chuyển động"}),(0,p.jsx)(a.A,{value:x.type,onChange:function(e){g||b({type:e})},className:"w-full",placeholder:"Chọn loại chuyển động",disabled:g,children:d.Uh.map(function(e){return(0,p.jsx)(m,{value:e.value,children:e.label},e.value)})})]}),"none"!==x.type&&(0,p.jsxs)(i.A,{gutter:12,children:[(0,p.jsx)(o.A,{span:12,children:(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(g?"text-gray-500":"text-gray-700"),children:"Thời gian (gi\xe2y)"}),(0,p.jsx)(s.A,{min:.5,max:10,step:.5,value:x.duration,onChange:function(e){g||b({duration:e||2})},className:"w-full",placeholder:"2",disabled:g})]})}),(0,p.jsx)(o.A,{span:12,children:(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("label",{className:"block text-sm font-medium mb-1 ".concat(g?"text-gray-500":"text-gray-700"),children:"Độ trễ (gi\xe2y)"}),(0,p.jsx)(s.A,{min:0,max:5,step:.5,value:x.delay,onChange:function(e){g||b({delay:e||0})},className:"w-full",placeholder:"0",disabled:g})]})})]})]})}}}]);